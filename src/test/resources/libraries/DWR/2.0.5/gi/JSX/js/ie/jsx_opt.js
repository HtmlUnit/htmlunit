/*
 * Copyright (c) 2001-2007, TIBCO Software Inc.
 * Use, modification, and distribution subject to terms of license.
 */
jsx3.Class.defineClass("jsx3.util.NumberFormat",null,null,function(g,n){g.getIntegerInstance=function(b){return g.iE(b,".integer");};g.getNumberInstance=function(r){return g.iE(r,"");};g.getCurrencyInstance=function(k){return g.iE(k,".currency");};g.getPercentInstance=function(h){return g.iE(h,".percent");};g.iE=function(e,c){var L=jsx3.System.getLocaleProperties(e);var ec="format.number"+c+"._instance";var Mc=L.get(ec);if(!L.containsKey(ec)||Mc==null){var z=L.get("format.number"+c);Mc=new g(z,e);L.set("format.number"+c+"._instance",Mc);}return Mc;};n.Go=0;n.Dd="";n.RC="";n.Sn=null;n.qt=null;n.FA=false;n.Ry=Number.MAX_VALUE;n.NE=0;n.Sf=0;n.pA=0;n.Ow=1;n.nv=false;n.init=function(s,p){this.Nz=s;this.BB=p||jsx3.System.getLocale();this.UE();};n.getLocale=function(){return this.BB;};n.setLocale=function(b){this.BB=b;this.UE();};n.format=function(i){var Jb=jsx3.System.getLocaleProperties(this.BB);if(isNaN(i)){return Jb.get("number.NaN");}else{if(typeof(i)!="number")i=Number(i);var jb=i>=0;var Cb=jb?this.Dd:this.Sn!=null?this.Sn:this.Dd+Jb.get("number.minus");var bc=jb?this.RC:this.qt!=null?this.qt:this.RC;var Hb=null;if(!isFinite(i)){Hb=Jb.get("number.infinity");}else{i=this.Ow*Math.abs(i);var ec=g.Kg(i);var vb=ec[0];var Db=ec[1];if(this.Sf<vb.length-Db){var uc=vb.splice(Db+this.Sf,vb.length-Db-this.Sf);if(g.DG(vb,uc))Db++;}var Bc=Db>=0?vb.slice(0,Db):vb;var sb=Db>=0?vb.slice(Db):[];g.KB(Bc,this.Ry,this.NE,true);g.KB(sb,this.Sf,this.pA,false);var Sb=Jb.get("number.zero");g.Qk(Bc,Sb);g.Qk(sb,Sb);if(this.Go>0){for(var lc=Bc.length-this.Go;lc>=1;lc=lc-this.Go){Bc.splice(lc,0,Jb.get("number.grouping"));}}Hb=Bc.join("");if(this.FA||sb.length>0)Hb=Hb+(Jb.get(this.nv?"number.currency.decimal":"number.decimal")+sb.join(""));}return Cb+Hb+bc;}};g.Kg=function(r){if(r<0)throw new jsx3.Exception();var Tb=Math.log(r)*Math.LOG10E;if(!isFinite(Tb)){if(r==0)return [[0],0];throw new jsx3.Exception();}var cb=r.toString();var dc=[];var Hc=null;var X="0".charCodeAt(0);var G=".".charCodeAt(0);for(var Jc=0;Jc<cb.length;Jc++){var rc=cb.charCodeAt(Jc);if(rc>=X&&rc<=X+9){dc.push(rc-X);}else{if(rc==G){}else{break;}}}if(Tb>=0){var lb=Math.floor(Tb+1);if(dc.length>lb){Hc=lb;}else{if(dc.length<lb){for(var Jc=dc.length;Jc<lb;Jc++)dc.push(0);}Hc=dc.length;}}else{var R=Math.ceil(-1-Tb);var ab=dc.indexOf(0);dc.splice(0,ab+1);for(var Jc=0;Jc<R;Jc++){if(dc[Jc]!=0)dc.splice(Jc,0,0);}Hc=0;}return [dc,Hc];};g.KB=function(m,h,q,i){if(m.length>h){if(i){m.splice(0,m.length-h);}else{m.splice(h,m.length-h);}}else{if(m.length<q){var Mb=i?"unshift":"push";for(var F=m.length;F<q;F++)m[Mb]("0");}}};g.DG=function(j,k){if(k[0]>=5){for(var qc=j.length-1;qc>=0;qc--){var hb=j[qc]+1;if(hb>=10){j[qc]=0;if(qc==0){j.unshift(1);return true;}}else{j[qc]=hb;break;}}}return false;};g.Qk=function(r,q){var Ub=q.charCodeAt(0);for(var Sb=0;Sb<r.length;Sb++)r[Sb]=String.fromCharCode(r[Sb]+Ub);};g.fl="0#,.";n.UE=function(){var E=jsx3.System.getLocaleProperties(this.BB);var ec=this.Nz;var Ic=0;var Bc=ec.length;var Fc=1;var eb=false;var wc=null,tc=null;while(Ic<Bc){var Zb=ec.charAt(Ic);if(Fc==1){if(Zb=="'"){if(ec.charAt(Ic+1)=="'"){this.Dd+=Zb;Ic=Ic+2;}else{eb=!eb;Ic++;}}else{if(eb){this.Dd+=Zb;Ic++;}else{if(g.fl.indexOf(Zb)>=0){wc=Ic;Fc++;}else{this.Dd+=this.js(Zb,E);Ic++;}}}}else{if(Fc==2){if(g.fl.indexOf(Zb)>=0){Ic++;}else{tc=Ic;Fc++;}}else{if(Fc==3){if(Zb=="'"){if(ec.charAt(Ic+1)=="'"){this.RC+=Zb;Ic++;}else{eb=!eb;}}else{if(eb){this.RC+=Zb;}else{if(Zb==";"){this.Sn="";this.qt="";Fc++;}else{this.RC+=this.js(Zb,E);}}}Ic++;}else{if(Fc==4){if(Zb=="'"){if(ec.charAt(Ic+1)=="'"){this.Sn+=Zb;Ic=Ic+2;}else{eb=!eb;Ic++;}}else{if(eb){this.Sn+=Zb;Ic++;}else{if(g.fl.indexOf(Zb)>=0){Fc++;}else{this.Sn+=this.js(Zb,E);Ic++;}}}}else{if(Fc==5){if(g.fl.indexOf(Zb)>=0){Ic++;}else{Fc++;}}else{if(Fc==6){if(Zb=="'"){if(ec.charAt(Ic+1)=="'"){this.qt+=Zb;Ic++;}else{eb=!eb;}}else{if(eb){this.qt+=Zb;}else{this.qt+=this.js(Zb,E);}}Ic++;}}}}}}}if(tc==null)tc=Bc;if(wc==null)throw new jsx3.Exception("no number part in number format: "+ec);this.Uw(ec.substring(wc,tc));};n.Uw=function(m){var Gb=m.indexOf(".");if(Gb<0)Gb=m.length;else{if(Gb==m.length-1)this.FA=true;}var sc=m.lastIndexOf(",");if(sc>=0){var Gc=Gb-sc-1;if(Gc<1)throw new jsx3.Exception("grouping marker after decimal marker: "+m);this.Go=Gc;}for(var lb=0;lb<Gb;lb++){if(m.charAt(lb)=="0")this.NE++;}for(var lb=Gb+1;lb<m.length;lb++){if(m.charAt(lb)=="0"){this.pA++;this.Sf++;}else{if(m.charAt(lb)=="#"){this.Sf++;}}}};n.js=function(o,r){if(o=="$"){this.nv=true;return r.get("number.currency");}else{if(o=="%"){this.Ow=100;return r.get("number.percent");}else{if(o=="-"){return r.get("number.minus");}else{return o;}}}};n.toString=function(){return this.Nz;};});
jsx3.Class.defineClass("jsx3.app.UserSettings",null,null,function(o,g){var C=jsx3.xml.Entity;var A=jsx3.util.Logger.getLogger(o.jsxclass.getName());o.PERSIST_SESSION=1;o.PERSIST_INDEFINITE=2;g.mE=null;g.El=null;g.Ge=null;g.init=function(r,e){if(e==null)e=o.PERSIST_INDEFINITE;this.mE=r;this.El=e;var ac=this.Yz();this.Ge=o._d(ac);};g.get=function(r){var B=this.Ge;for(var lb=0;lb<arguments.length;lb++){if(typeof(B)!="object"||B instanceof Array)return null;B=B[arguments[lb]];}return B;};g.set=function(r,m){var Mc=this.Ge;for(var E=0;E<arguments.length-2;E++){var Sb=Mc[arguments[E]];if(typeof(Sb)!="object"||Sb instanceof Array){Sb=Mc[arguments[E]]=null;}if(Sb==null){Sb=Mc[arguments[E]]={};}Mc=Sb;}Mc[arguments[arguments.length-2]]=arguments[arguments.length-1];return Mc;};g.remove=function(f){var sb=this.Ge;for(var M=0;M<arguments.length-1;M++){var Bb=sb[arguments[M]];if(Bb==null||typeof(Bb)!="object"||Bb instanceof Array)return;sb=Bb;}delete sb[arguments[arguments.length-1]];};g.clear=function(){this.Ge={};var bb=this.Zl();var J=this.mE.getSettings();var rb=J.get("user-settings","domain");var _=J.get("user-settings","path");this.mE.deleteCookie(bb,_,rb);};g.save=function(){var gc=o.FE(this.Ge);gc=gc.replace(/\*/g,"%2A");gc=gc.replace(/\+/g,"%2B");gc=gc.replace(/</g,"*");gc=gc.replace(/>/g,"+");gc=escape(gc);var jb=gc.length;if(jb>4096)A.warn("Cookie is dangerously large: "+jb+" bytes.");this.kl(gc);};g.Zl=function(){return this.mE.getEnv("NAMESPACE")+(this.El==o.PERSIST_SESSION?"_ses":"_ind");};g.Yz=function(){var Rb=this.Zl();var V=this.mE.getCookie(Rb,true);if(V){V=V.replace(/\*/g,"<");V=V.replace(/\+/g,">");V=unescape(V);}return V;};g.kl=function(l){var Sb=this.Zl();var fc=this.mE.getSettings();var Nc=fc.get("user-settings","domain");var I=fc.get("user-settings","path");var u=new Date();var Hc=this.El==o.PERSIST_SESSION?null:new Date(u.getFullYear()+1,u.getMonth(),u.getDate());this.mE.setCookie(Sb,l,Hc,I,Nc,null,true);};o._d=function(n){if(!n)return {};var x=new jsx3.xml.Document();x.loadXML(n);return o.Ie(x.getRootNode());};o.Ie=function(i){var yb=i.getNodeName();if(yb=="s"){return i.getValue();}else{if(yb=="n"){return Number(i.getValue());}else{if(yb=="m"){var jc={};var yc=i.getChildNodes();for(var Z=0;Z<yc.getLength();Z++){var I=yc.getItem(Z);jc[I.getAttribute("n")]=o.Ie(I);}return jc;}else{if(yb=="a"){var Vb=[];var yc=i.getChildNodes();for(var Z=0;Z<yc.getLength();Z++){Vb.push(o.Ie(yc.getItem(Z)));}return Vb;}else{if(yb=="b"){return i.getValue()=="1";}else{if(yb=="u"){return null;}else{A.warn("Cannot deserialize node name '"+yb+"'");return null;}}}}}}};o.FE=function(i){var W=new jsx3.xml.Document();W.loadXML("<m/>");var fb=W.getRootNode();for(var qc in i)o._D(i[qc],qc,fb);return fb.getXML();};o._D=function(k,c,j){var Cb=null;var ub=typeof(k);if(k==null||ub=="undefined"){Cb=j.createNode(C.TYPEELEMENT,"u");}else{if(ub=="string"){Cb=j.createNode(C.TYPEELEMENT,"s");Cb.setValue(k);}else{if(ub=="number"){Cb=j.createNode(C.TYPEELEMENT,"n");Cb.setValue(k);}else{if(ub=="boolean"){Cb=j.createNode(C.TYPEELEMENT,"b");Cb.setValue(k?"1":"0");}else{if(ub=="object"){if(k instanceof Array){Cb=j.createNode(C.TYPEELEMENT,"a");for(var Rb=0;Rb<k.length;Rb++){o._D(k[Rb],Rb.toString(),Cb);}}else{Cb=j.createNode(C.TYPEELEMENT,"m");for(var Ec in k)o._D(k[Ec],Ec,Cb);}}else{if(ub=="function"){}else{throw new jsx3.Exception("Cannot persist object of type "+ub);}}}}}}Cb.setAttribute("n",c);j.appendChild(Cb);};g.toString=function(){return "[jsx3.app.UserSettings "+this.mE.getAppPath()+"]";};});jsx3.UserSettings=jsx3.app.UserSettings;
jsx3.Class.defineClass("jsx3.net.Form",null,[jsx3.util.EventDispatcher],function(q,d){var Lc=jsx3.util.Logger.getLogger(q.jsxclass.getName());q.Je=0;q.Uf=250;q.zp=30000;q.METHOD_GET="get";q.METHOD_POST="post";q.xD="application/x-www-form-urlencoded";q.aG="multipart/form-data";q.EVENT_FILE_SELECTED="fileSelected";q.EVENT_ON_RESPONSE="onResponse";q.EVENT_ON_ERROR="onError";q.EVENT_ON_TIMEOUT="onTimeout";d.init=function(i,b,k){this.ge="jsx_httpform_"+q.Je++;if(i==-1){this.YA(b);}else{this.YA();this.setMethod(i!=null?i:q.METHOD_GET);this.setAction(b);this.setMultipart(k);}};q.newFromFragment=function(i){return new q(-1,i);};d.YA=function(e){var Jb=e;if(!Jb)Jb="<form method=\"get\" action=\"\"><input type=\"submit\"/></form>";var qc="<html><body class=\"jsx30form\">"+Jb+"</body></html>";jsx3.html.insertAdjacentHTML(document.body,"beforeEnd","<span id='"+this.ge+"_span' style='border:2px solid black;position:absolute;left:-50px;top:0px;width:10px;height:10px;overflow:hidden;'><iframe id='"+this.ge+"_frame' style='width:100%;height:100%;'></iframe></span>");this._l=document.getElementById(this.ge+"_l");this.io=this.eval(this.ge+"_frame");var X=this.io.document||this.io.contentDocument;if(X==null)throw new jsx3.Exception("No document in IFRAME.");X.open();X.write(qc);X.close();this.xp=X.getElementsByTagName("form")[0];if(e){if(this.xp==null)throw {description:"the HTML fragment did not contain a valid <form> tag: "+e};this.Re=this.xp.action;this.rG=this.xp.method;this.dC=this.xp.encoding&&this.xp.encoding.toLowerCase()==q.aG;}};d.getMethod=function(){return this.rG;};d.setMethod=function(p){p=p!=null?p.toLowerCase():q.METHOD_GET;this.rG=p;this.lD().setAttribute("method",p);};d.getAction=function(){return this.Re;};d.setAction=function(c){this.Re=c;this.lD().setAttribute("action",c);};d.getMultipart=function(){return this.dC;};d.setMultipart=function(s){this.dC=s;this.lD().setAttribute("encoding",s?q.aG:q.xD);};d.Ci=function(){return this._l;};d.fq=function(){return this.io;};d.lD=function(){return this.xp;};d.getField=function(h){var Tb=this.lD().elements[h];return Tb!=null&&typeof(Tb)=="object"?Tb.value:null;};d.getFields=function(){var Mb=[];var H=this.lD().elements;for(var hc in H){Mb[hc]=H[hc].name;}return Mb;};d.setField=function(s,o,c){var Rb=this.lD();var gc=Rb.elements[s];if(gc==null||typeof(gc)!="object"){jsx3.html.insertAdjacentHTML(Rb,"beforeEnd","<div>"+s+": <input type='text' name='"+s+"'/></div>");gc=Rb.elements[s];}if(c&&gc.value){gc.value=gc.value+" "+o;}else{gc.value=o;}};d.removeField=function(l){var M=this.lD();var Ob=M.elements[l];if(Ob!=null&&Ob.parentNode)Ob.parentNode.parentNode.removeChild(Ob.parentNode);};d.addFileUploadField=function(j){var fc=this.lD();var F=fc.elements[j];if(F==null||typeof(F)!="object"){jsx3.html.insertAdjacentHTML(fc,"beforeEnd","<div>"+j+": <input type='file' name='"+j+"'/></div>");F=fc.elements[j];var sc=this;F.onchange=function(){sc.KF(j,F.value);};}else{throw new jsx3.Exception("Form already has field "+j+".");}};d.promptForFile=function(a){var yc=this.lD();var db=yc.elements[a];if(db!=null&&db.type=="file"){db.click();}else{throw new jsx3.Exception("Form does not have file upload field "+a+".");}};d.KF=function(a,r){this.publish({subject:q.EVENT_FILE_SELECTED,field:a,value:r});};d.Kq=function(){this.xp=null;this.publish({subject:q.EVENT_ON_RESPONSE});};d.we=function(p){this.xp=null;this.publish({subject:q.EVENT_ON_ERROR,message:p});};d.abort=function(){window.clearInterval(this.Uj);};d.send=function(c,p){if(c==null)c=q.Uf;if(p==null)p=q.zp;this.xp.submit();var Zb=0;var D=p<=0?Number.MAX_VALUE:Math.ceil(p/c);var jc=this;this.Uj=window.setInterval(function(){jc.jD(++Zb<D);},c);};d.jD=function(a){try{this.io.document.readyState=="";}catch(Kc){window.clearInterval(this.Uj);this.Uj=null;this.we("Form Response Security Error: "+jsx3.NativeError.wrap(Kc));return;}if(this.io.document.readyState=="complete"||this.io.document.readyState=="loaded"){window.clearInterval(this.Uj);this.Uj=null;this.Kq();}else{if(!a){window.clearInterval(this.Uj);this.Uj=null;this.destroy();this.publish({subject:q.EVENT_ON_TIMEOUT});}}};d.getResponseText=function(){var Jc=this.io.document;if(typeof(Jc.mimeType)!="unknown"){if(Jc.mimeType.indexOf("XML")==0){return Jc.XMLDocument.xml;}else{if(Jc.mimeType.indexOf("HTML")==0){return jsx3.html.getOuterHTML(this.io.document.childNodes[0]);}else{if(Jc.mimeType.indexOf("Text")==0){return this.io.document.childNodes[0].innerText;}}}}return this.io.document.body.innerHTML;};d.getResponseXML=function(){var cb=this.io.document;if(typeof(cb.mimeType)=="string"&&cb.mimeType.indexOf("XML")==0||cb.XMLDocument&&cb.XMLDocument.documentElement){var ec=new jsx3.xml.Document();ec.loadXML(cb.XMLDocument.documentElement.xml);return ec;}else{var dc=null;if(cb.mimeType.indexOf("HTML")==0){dc=jsx3.html.getOuterHTML(this.io.document.childNodes[0]);}else{if(cb.mimeType.indexOf("Text")==0){dc=this.io.document.childNodes[0].innerText;}else{dc=this.io.document.body.innerHTML;}}var x=new jsx3.xml.Document();x.loadXML(dc);if(x.hasError()){jsx3.util.Logger.doLog("HTFM06","Result not a valid XML document: "+x.getError().description);return null;}return x;}};d.destroy=function(){var mb=this.Ci();if(mb!=null){mb.parentNode.removeChild(mb);this._l=null;this.io=null;this.xp=null;}else{jsx3.util.Logger.doLog("HTFM01","HttpForm probably already destroyed");}};d.reveal=function(o,g,f,s){if(o==null)o=10;if(g==null)g=10;if(f==null)f=Math.round(this._l.parentNode.offsetWidth/3);if(s==null)s=Math.round(this._l.parentNode.offsetHeight/3);var Bb=this._l.style;Bb.left=o+"px";Bb.top=g+"px";Bb.width=f+"px";Bb.height=s+"px";Bb.zIndex=30000;};d.conceal=function(){var cb=this._l.style;cb.left="-50px";cb.top="0px";cb.width="10px";cb.height="10px";cb.zIndex=0;};});jsx3.HttpForm=jsx3.net.Form;
jsx3.Class.defineInterface("jsx3.xml.Cacheable",null,function(k,n){var E=jsx3.xml.Document;var Ob=jsx3.xml.CDF;var bc=jsx3.util.Logger.getLogger(k.jsxclass.getName());k.DEFAULTSTYLESHEET=jsx3.resolveURI("jsx:///xsl/xml.xsl");k.DEFAULTXSLCACHEID="JSX_XML_XSL";k.CLEANUPRESOURCES=0;k.SHARERESOURCES=1;n.doTransform=function(m,i){var gb=this.getNodeSet()!=null?this.getNodeSet():this.getXML();if(m==null&&this.jsxxslparams!=null)m=this.jsxxslparams;var Eb=0;var sb="";if(gb!=null){Eb=1;var cc=this.getXSL();if(cc!=null){Eb=2;sb=gb.transformNode(cc,m);if(sb!="")Eb=3;}}if(Eb==2){}else{if(Eb==1){if(i!=true)bc.error("XML02","Transformation Failed: When attempting to load the XSL for the control, "+this.getId()+", it resulted in a null object.",3);}else{if(Eb==0){}}}return sb;};n.getXSLParams=function(){if(this.jsxxslparams==null)this.jsxxslparams={};return this.jsxxslparams;};n.setXSLParam=function(p,r){if(r!=null)this.getXSLParams()[p]=r;else delete this.getXSLParams()[p];return this;};n.removeXSLParam=function(o){delete this.getXSLParams()[o];return this;};n.removeXSLParams=function(){delete this.jsxxslparams;return this;};n.getNodeSet=function(){return this._jsxft;};n.setNodeSet=function(f){this._jsxft=f;};n.onDestroyCached=function(q){if(this.getShareResources()==k.CLEANUPRESOURCES)this.resetCacheData(q.getServer());delete this._jsxft;};n.resetCacheData=function(a){var oc=(a||this.getServer()).getCache();oc.clearById(this.getXSLId());oc.clearById(this.getXMLId());};n.resetXmlCacheData=function(e){var lc=(e||this.getServer()).getCache();lc.clearById(this.getXMLId());};n.resetXslCacheData=function(b){var Lb=(b||this.getServer()).getCache();Lb.clearById(this.getXSLId());};n.clearXmlData=function(){this.getServer().getCache().setDocument(this.getXMLId(),Ob.newDocument());};n.getShareResources=function(){return this.jsxshare==null?k.CLEANUPRESOURCES:this.jsxshare;};n.setShareResources=function(h){this.jsxshare=h;return this;};n.getXML=function(){var lc=this.getServer();if(lc==null)return Ob.newDocument();var bb=lc.getCache().getDocument(this.getXMLId());if(bb==null){var eb=this.getXMLString();if(!jsx3.util.strEmpty(eb)){bb=new E();bb.loadXML(eb);}else{var Wb=this.getXMLURL();if(!jsx3.util.strEmpty(Wb)){bb=new E();bb.load(this.getUriResolver().resolveURI(Wb));}else{bb=Ob.newDocument();}}if(bb.hasError()){bc.error("Error parsing or loading the XML file for "+this+": "+bb.getError().description);return bb;}bb=this.setSourceXML(bb);}return bb;};n.setSourceXML=function(a){a=this.Tt(a);this.getServer().getCache().setDocument(this.getXMLId(),a);if(this.instanceOf(Ob)){if(a.getNodeName()=="data"&&a.getAttribute("jsxassignids")=="1")this.assignIds();this.convertProperties(this.getServer().getProperties());}return a;};n.getXMLId=function(){return this.jsxxmlid||this.getId()+"_XML";};n.setXMLId=function(s){this.jsxxmlid=s;return this;};n.getXMLString=function(){return this.jsxxml;};n.setXMLString=function(b){this.jsxxml=b;return this;};n.getXMLURL=function(){return this.jsxxmlurl;};n.setXMLURL=function(b){this.jsxxmlurl=b;return this;};n.getXSL=function(m){var hb=this.getXSLId();var Bc=this.getServer().getCache().getDocument(hb);if(Bc==null){Bc=new E();if(this.getXSLString()!=null){Bc.loadXML(this.getXSLString());}else{if(this.getXSLURL()!=null){Bc.load(this.getUriResolver().resolveURI(this.getXSLURL()));}else{if(m!=true){Bc.load(k.DEFAULTSTYLESHEET);hb=k.DEFAULTXSLCACHEID;}else{return null;}}}if(Bc.hasError()){bc.error("Error parsing or loading the XSL file for "+this+": "+Bc.getError().description);return Bc;}this.getServer().getCache().setDocument(hb,Bc);}return Bc;};n.getXSLId=function(){return this.jsxxslid||this.getId()+"_XSL";};n.setXSLId=function(a){this.jsxxslid=a;return this;};n.getXSLString=function(){return this.jsxxsl;};n.setXSLString=function(c){this.jsxxsl=c;return this;};n.getXSLURL=function(){return this.jsxxslurl;};n.setXSLURL=function(p){this.jsxxslurl=p;return this;};n.getXMLTransformers=function(){return this.jsxxmltrans!=null?this.jsxxmltrans.split(/\s*,\s*/g):[];};n.setXMLTransformers=function(a){this.jsxxmltrans=a!=null?a instanceof Array?a.join(","):a:null;};n.Tt=function(d){var Y=this.getXMLTransformers();if(Y.length>0){var v=this.getServer();var nc=v.getCache();var ib=d;for(var wb=0;wb<Y.length;wb++){var Q=Y[wb];var Fb=nc.getDocument(Q);if(Fb==null){Q=v.resolveURI(Q);Fb=nc.openDocument(Q,Q);}if(Fb==null||Fb.hasError()){bc.warn("Bad XML transformer for "+this+": "+Q+" ("+Fb.getError().description+")");nc.clearById(Q);continue;}var ub=new jsx3.xml.Processor(ib,Fb,this.getXSLParams());ib=ub.transformToObject();if(ib.hasError()){throw new jsx3.Exception("Error transforming XML for object "+this+": "+ib.getError().description);}}return ib;}else{return d;}};k.getVersion=function(){return "3.00.00";};});jsx3.xml.Cacheable.prototype.resetData=jsx3.xml.Cacheable.prototype.clearXmlData;
jsx3.Class.defineClass("jsx3.app.Monitor",jsx3.util.Logger.FormatHandler,null,function(f,k){var t=jsx3.app.Server;f.ed=false;f.lu=jsx3.net.URIResolver.DEFAULT.resolveURI("jsx:///html/jsx3.app.Monitor.html");f.ideDidLoad=function(){f.ed=true;};k.Vt=false;k.Fz=true;k.mw=null;k.Qx=false;k.jf=null;k.cd=null;k.init=function(p){this.jsxsuper(p);};k.onAfterInit=function(){if(this.mw!=null){var jb=null;if(jsx3.Class.forName("jsx3.lang.System"))jb=jsx3.System.getApp(this.mw);if(jb!=null){this.xC(jb);}else{t.subscribe(t.EVENT_SERVER_INITED,this,"ci");}}else{this.Fz=false;this.Qx=false;this.Vt=true;this.ne();}};k.xC=function(c){this.Vt=true;this.jf=c;if(this.Qx){var nc=this;c.registerHotKey(function(o){nc.pB();},"m",false,true,true);}else{this.ne();}};k.ci=function(r){var sb=r.target;if(sb.getEnv("namespace")==this.mw){if(!f.ed||!this.Fz)this.xC(sb);t.unsubscribe(t.EVENT_SERVER_INITED,this);}};k.handle=function(b){if(this.Vt&&(!f.ed||!this.Fz)){if(this.cd){if(this.cd.closed){if(!this.Qx)this.ne();}if(!this.cd.closed&&this.cd.appendMessage){var sc=this.format(b).escapeHTML();this.cd.appendMessage(sc,jsx3.util.Logger.levelAsString(b.getLevel()));}}}};k.pB=function(){if(this.cd==null||this.cd.closed)this.ne();};k.ne=function(){this.cd=window.open(f.lu,"Monitor_"+this.getName(),"directories=no,location=no,menubar=no,status=yes,personalbar=no,titlebar=yes,toolbar=no,resizable=yes,scrollbars=no,width=500,height=400");if(this.cd){if(this.jf){if(typeof(this.cd.setName)=="function")this.cd.setName(this.jf.getEnv("namespace"));else this.cd._jsxname=this.jf.getEnv("namespace");}window.focus();}};k.getDisableInIDE=function(){return this.Fz;};k.setDisableInIDE=function(n){this.Fz=n;};k.getServerNamespace=function(){return this.mw;};k.setServerNamespace=function(n){this.mw=n;};k.getActivateOnHotKey=function(){return this.Qx;};k.setActivateOnHotKey=function(g){this.Qx=g;};});jsx3.util.Logger.Handler.registerHandlerClass(jsx3.app.Monitor.jsxclass);
jsx3.Class.defineInterface("jsx3.gui.Form",null,function(p,c){var kc=jsx3.gui.Event;p.DEFAULTDISABLEDCOLOR="#a8a8b5";p.DEFAULTDISABLEDBACKGROUNDCOLOR="#d8d8e5";p.STATEINVALID=0;p.STATEVALID=1;p.STATEDISABLED=0;p.STATEENABLED=1;p.OPTIONAL=0;p.REQUIRED=1;c.doKeyBinding=function(a,h){var wb=jsx3.gui.HotKey.valueOf(h,a);return this.ti().registerHotKey(wb);};c.ti=function(){var gb=jsx3.gui.Window!=null;var T=jsx3.gui.Dialog!=null;var Ib=this;while(Ib!=null){if(gb&&Ib instanceof jsx3.gui.Window)return Ib.getRootBlock();if(T&&Ib instanceof jsx3.gui.Dialog)return Ib;var gc=Ib.getParent();if(gc==null)return Ib.getServer();Ib=gc;}return null;};c.getKeyBinding=function(){return this.jsxkeycode==null?null:this.jsxkeycode;};c.setKeyBinding=function(b){this.jsxkeycode=b;return this;};c.getDisabledBackgroundColor=function(){return this.jsxdisabledbgcolor;};c.setDisabledBackgroundColor=function(e){this.jsxdisabledbgcolor=e;return this;};c.UZ=function(){var hb=this.getEnabled()!=p.STATEDISABLED?this.getBackgroundColor():this.getDisabledBackgroundColor();return hb?"background-color:"+hb+";":"";};c.getDisabledColor=function(){return this.jsxdisabledcolor;};c.setDisabledColor=function(m){this.jsxdisabledcolor=m;return this;};c.getEnabled=function(){return this.jsxenabled==null?p.STATEENABLED:this.jsxenabled;};c.getValue=function(){return this.jsxvalue;};c.setValue=function(a){this.jsxvalue=a;return this;};c.setEnabled=function(q,j){if(this.jsxenabled!=q){this.jsxenabled=q;if(j)this.repaint();}return this;};c.QP=function(){if(this.getEnabled()!=p.STATEDISABLED){return "color:"+(this.getColor()?this.getColor():jsx3.gui.Block.DEFAULTCOLOR)+";";}else{return "color:"+(this.getDisabledColor()?this.getDisabledColor():p.DEFAULTDISABLEDCOLOR)+";";}};c.WP=function(){return this.getEnabled()==p.STATEENABLED?"":" disabled=\"disabled\" ";};c.CI=function(){return jsx3.gui.Block.prototype.CI.call(this,this.getIndex()||Number(0));};c.getRequired=function(){return this.jsxrequired==null?p.OPTIONAL:this.jsxrequired;};c.setRequired=function(g){this.jsxrequired=g;return this;};c.getValidationState=function(){return this._jsxVf==null?p.STATEVALID:this._jsxVf;};c.setValidationState=function(a){this._jsxVf=a;return this;};c.doValidate=jsx3.Method.newAbstract();c.doReset=function(){this.setValidationState(p.STATEVALID);return this;};p.validate=function(d,q){var Hb=d.getDescendantsOfType(jsx3.gui.Form);if(d.instanceOf(jsx3.gui.Form))Hb.unshift(d);var sc=p.STATEVALID;for(var E=0;E<Hb.length;E++){var Cb=Hb[E].doValidate();if(q)q(Hb[E],Cb);if(Cb!=p.STATEVALID)sc=Cb;}return sc;};p.reset=function(o){var Nb=o.getDescendantsOfType(jsx3.gui.Form);if(o.instanceOf(jsx3.gui.Form))Nb.unshift(o);for(var sb=0;sb<Nb.length;sb++)Nb[sb].doReset();};p.getVersion=function(){return "3.00.00";};c.emInit=function(e){if(this.emGetType()==jsx3.gui.Matrix.EditMask.NORMAL){this.setRelativePosition(jsx3.gui.Block.ABSOLUTE,true);this.setDisplay(jsx3.gui.Block.DISPLAYNONE,true);}};c.emGetType=function(){return jsx3.gui.Matrix.EditMask.NORMAL;};c.emPaintTemplate=function(){throw new jsx3.Exception("Not implemented.");};c.PS=function(k,s){return "<xsl:choose xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\"><xsl:when test=\"@jsxnomask='1'\"></xsl:when><xsl:when test=\"@jsxdisabled='1'\">"+s+"</xsl:when>"+"<xsl:otherwise>"+k+"</xsl:otherwise>"+"</xsl:choose>";};c.emBeginEdit=function(q,f,i,n,h,a,o){if(this.emGetType()==jsx3.gui.Matrix.EditMask.NORMAL){this.setRelativePosition(jsx3.gui.Block.ABSOLUTE,true);this.emUpdateDisplay(f,i);this.setDisplay(jsx3.gui.Block.DISPLAYBLOCK,true);this.setZIndex(10,true);this.focus();this.emFocus();}this.emSetValue(q);};c.emEndEdit=function(){if(this.emGetType()==jsx3.gui.Matrix.EditMask.NORMAL){this.emRestoreDisplay();}var hb=this.emGetValue();return hb;};c.emSetValue=function(a){this.setValue(a);};c.emGetValue=function(){var rc=this.getValue();return rc!=null?rc.toString():null;};c.emUpdateDisplay=function(k,d){var H=this.emGetSession();var Tb=this.getWidth(),Gc=this.getHeight();H.width=Tb;H.height=Gc;var hb=isNaN(Tb)?k.W:Math.min(parseInt(Tb),k.W);var kb=isNaN(Gc)?k.H:Math.min(parseInt(Gc),k.H);this.setDimensions(k.L,k.T,hb,kb,true);};c.emRestoreDisplay=function(){this.setDisplay(jsx3.gui.Block.DISPLAYNONE,true);var Nc=this.emGetSession();this.setWidth(Nc.width,false);this.setHeight(Nc.height,false);};c.emFocus=function(){};});jsx3.Form=jsx3.gui.Form;
jsx3.Class.defineClass("jsx3.gui.HotKey",null,[jsx3.util.EventDispatcher],function(p,o){var Eb=jsx3.gui.Event;p.WAS_INVOKED="invoked";o.Ue=null;o.Zq=null;o.Aw=false;o.Iz=false;o.Ku=false;o.ty=false;o.Rc=true;o.Vx=false;p.valueOf=function(r,d){var I=r.toLowerCase().split("+");var gc=I.pop();var A=I.indexOf("ctrl")>=0;var Hc=I.indexOf("shift")>=0;var yb=I.indexOf("alt")>=0;var _=I.indexOf("meta")>=0;if(typeof(gc)=="string"&&gc.match(/^\[(\d+)\]$/))gc=parseInt(RegExp.$1);return new p(d||new Function(""),gc,Hc,A,yb,_);};o.init=function(i,h,b,d,a,c){if(!(typeof(i)=="function"))throw new jsx3.IllegalArgumentException("callback",i);this.Ue=i;this.Aw=b==null?null:Boolean(b);this.Iz=d==null?null:Boolean(d);this.ty=a==null?null:Boolean(a);this.Ku=c==null?null:Boolean(c);this.Zq=typeof(h)=="number"?h:p.keyDownCharToCode(h);if(this.Zq==null)throw new jsx3.IllegalArgumentException("key",h);};o.getKey=function(){var ab="";if(this.Ku)ab=ab+"meta+";if(this.ty)ab=ab+"alt+";if(this.Iz)ab=ab+"ctrl+";if(this.Aw)ab=ab+"shift+";var G=p.keyDownCodeToChar(this.Zq);ab=ab+(G!=null?G:"["+this.Zq+"]");return ab;};o.getKeyCode=function(){return this.Zq;};o.isMatch=function(f){var vc=f.keyCode()==this.Zq&&(this.Aw==null||f.shiftKey()==this.Aw)&&(this.Iz==null||f.ctrlKey()==this.Iz)&&(this.Ku==null||f.metaKey()==this.Ku)&&(this.ty==null||f.altKey()==this.ty);return vc;};o.invoke=function(s,r){if(this.Vx||!this.Rc)throw new jsx3.Exception("HotKey destroyed or not enabled");this.Ue.apply(s,r);this.publish({subject:p.WAS_INVOKED});};o.isEnabled=function(){return this.Rc;};o.setEnabled=function(a){this.Rc=a;};o.isDestroyed=function(){return this.Vx;};o.destroy=function(){this.Vx=true;delete this.Ue;};o.getFormatted=function(){var _b=null,Fb=null;if(jsx3.app.Browser.macosx){if(p.Tm.shift==null){var Ic=jsx3.html.getMode()==jsx3.html.MODE_FF_STRICT;p.Tm.shift=[Ic?"\u21EA":"\u0005",Eb.KEY_SHIFT];}_b="";Fb=p.Tm;}else{_b="+";Fb=p.Hu;}var H="";if(this.Iz)H=H+(Fb.ctrl[0]+_b);if(this.ty)H=H+(Fb.alt[0]+_b);if(this.Aw)H=H+(Fb.shift[0]+_b);if(this.Ku)H=H+(Fb.meta[0]+_b);var Dc=p.keyDownCodeToChar(this.Zq,true);H=H+(Dc!=null?Dc.length==1?Dc.toUpperCase():Dc:"["+this.Zq+"]");return H;};p.Tm={meta:["\u2318",Eb.KEY_META],alt:["\u2325",Eb.KEY_ALT],ctrl:["\u2303",Eb.KEY_CONTROL],shift:null,enter:["\u21A9",Eb.KEY_ENTER],esc:["\u238B",Eb.KEY_ESCAPE],tab:["\u21E5",Eb.KEY_TAB],del:["\u2326",Eb.KEY_DELETE],space:["\u2423",Eb.KEY_SPACE],backspace:["\u232B",Eb.KEY_BACKSPACE],up:["\u2191",Eb.KEY_ARROW_UP],down:["\u2193",Eb.KEY_ARROW_DOWN],left:["\u2190",Eb.KEY_ARROW_LEFT],right:["\u2192",Eb.KEY_ARROW_RIGHT],insert:["Insert",Eb.KEY_INSERT],home:["\u2196",Eb.KEY_HOME],end:["\u2198",Eb.KEY_END],pgup:["\u21DE",Eb.KEY_PAGE_UP],pgdn:["\u21DF",Eb.KEY_PAGE_DOWN]};p.Hu={meta:["Meta",Eb.KEY_META],alt:["Alt",Eb.KEY_ALT],ctrl:["Ctrl",Eb.KEY_CONTROL],shift:["Shift",Eb.KEY_SHIFT],enter:["Enter",Eb.KEY_ENTER],esc:["Esc",Eb.KEY_ESCAPE],tab:["Tab",Eb.KEY_TAB],del:["Del",Eb.KEY_DELETE],space:["Space",Eb.KEY_SPACE],backspace:["Backspace",Eb.KEY_BACKSPACE],up:["Up",Eb.KEY_ARROW_UP],down:["Down",Eb.KEY_ARROW_DOWN],left:["Left",Eb.KEY_ARROW_LEFT],right:["Right",Eb.KEY_ARROW_RIGHT],insert:["Insert",Eb.KEY_INSERT],home:["Home",Eb.KEY_HOME],end:["End",Eb.KEY_END],pgup:["PgUp",Eb.KEY_PAGE_UP],pgdn:["PgDn",Eb.KEY_PAGE_DOWN]};o.toString=function(){return "@HotKey key:"+this.Zq+" shift:"+this.Aw+" ctrl:"+this.Iz+" alt:"+this.ty+" meta:"+this.Ku;};p.Fx={39:222,44:188,45:189,46:190,47:191,59:186,61:187,91:219,92:220,93:221,96:192};p.keyDownCharToCode=function(n){var gc=null;if(n.length==1){var Fb=n.charCodeAt(0);if(Fb>=65&&Fb<=90)gc=Fb;else{if(Fb>=97&&Fb<=122)gc=Fb-32;else{if(Fb>=48&&Fb<=57)gc=Fb;else gc=p.Fx[Fb];}}}else{if(p.Hu[n.toLowerCase()]){gc=p.Hu[n.toLowerCase()][1];}else{if(n.match(/^[fF](\d\d?)$/)){gc=parseInt(RegExp.$1)+Eb.KEY_F1-1;}}}return gc;};p.keyDownCodeToChar=function(i,a){var Y=null;if(i>=65&&i<=90)Y=String.fromCharCode(i+97-65);else{if(i>=48&&i<=57)Y=String.fromCharCode(i);else{if(i>=Eb.KEY_F1&&i<=Eb.KEY_F15)Y="F"+(i-Eb.KEY_F1+1);else{for(var wb in p.Fx){if(p.Fx[wb]==i){Y=String.fromCharCode(wb);break;}}if(Y==null){var S=a&&jsx3.app.Browser.macosx?p.Tm:p.Hu;for(var wb in S){if(S[wb][1]==i){Y=S[wb][0];break;}}}}}}return Y;};});
jsx3.Class.defineClass("jsx3.gui.Painted",jsx3.app.Model,null,function(b,c){b.MASK_NO_EDIT={NN:false,EE:false,SS:false,WW:false,MM:false};b.MASK_ALL_EDIT={NN:true,EE:true,SS:true,WW:true,MM:true};c.init=function(l){this.jsxsuper(l);};c.getAbsolutePosition=function(q,o){if(o==null)o=this.getRendered(q);if(o==null)return {L:0,T:0,W:0,H:0};if(q==null)q=this.tA().getRendered(o);return jsx3.html.getRelativePosition(q,o);};c.applyDynamicProperties=function(){if(this._jsxvq!=null){var vc=this.getServer();if(vc==null)return;var H=vc.getProperties();for(var Lc in this._jsxvq)this[Lc]=H.get(this._jsxvq[Lc]);}};c.setDynamicProperty=function(o,s){if(this._jsxvq==null)this._jsxvq={};if(s==null){delete this._jsxvq[o];}else{if(o!=null&&o!=""){this._jsxvq[o]=s;}}return this;};c.getDynamicProperty=function(j){return this._jsxvq!=null?this._jsxvq[j]:null;};c.setAttribute=function(g,h){this.getAttributes()[g]=h;return this;};c.getAttribute=function(a){return this.getAttributes()[a];};c.getAttributes=function(){if(this.jsxcustom==null)this.jsxcustom={};return this.jsxcustom;};c.renderAttributes=function(o,f){var Ub=[];if(this.jsxcustom!=null){var z=jsx3.gui.Interactive&&this.instanceOf(jsx3.gui.Interactive);for(var C in this.jsxcustom){var Hb=o!=null&&(o instanceof Array&&o.indexOf(C)>=0||o[C])||f&&z&&jsx3.gui.Interactive.isBridgeEventHandler(C);var t=this.jsxcustom[C];if(!Hb&&t!=null)Ub.push(" "+C+"=\""+t.replace(/\"/g,"&quot;")+"\"");}}return Ub.join("");};c.removeAttribute=function(e){delete this.getAttributes()[e];return this;};c.removeAttributes=function(){delete this.jsxcustom;return this;};c.focus=function(){var G=this.getRendered();if(G!=null&&G.focus)G.focus();return G;};c.getMaskProperties=function(){return b.MASK_NO_EDIT;};c.getRendered=function(m){var eb=null;if(m instanceof jsx3.gui.Event){if(m.exists()&&m.srcElement())eb=m.srcElement().ownerDocument;}else{if(m!=null){eb=m.getElementById?m:m.ownerDocument;}}if(eb==null)eb=this.getDocument();return eb!=null?eb.getElementById(this.getId()):null;};c.containsHtmlElement=function(n){var wb=this.getRendered(n);if(wb){while(n!=null){if(wb==n)return true;n=n.parentNode;}}return false;};c.getDocument=function(){var Jb=this;while(Jb!=null){if(jsx3.gui.Window&&Jb instanceof jsx3.gui.Window)return Jb.getDocument();else{if(Jb._jsxW9!=null)return Jb._jsxW9.getRootDocument();}Jb=Jb.getParent();}return null;};c.tA=function(){var Xb=this;while(Xb!=null){if(jsx3.gui.Window&&Xb instanceof jsx3.gui.Window)return Xb.getRootBlock();else{if(Xb._jsxW9!=null)return Xb._jsxW9.getRootBlock();}Xb=Xb.getParent();}return null;};b.yj=null;c.repaint=function(){var B=this.getRendered();if(this.isDomPaint()){if(B!=null){var wb=B.previousSibling;var ab=this.paintDom();if(ab!=B)B.parentNode.replaceChild(ab,B);else{if(ab.parentNode==null)wb.parentNode.insertBefore(ab,wb);}}return null;}else{var xc=null;if(B!=null){xc=this.paint();jsx3.html.setOuterHTML(B,xc);var tb=B.ownerDocument;if(tb.recalc!=null)jsx3.sleep(function(){tb.recalc(true);},"jsx3.gui.Painted.recalc");}return xc;}};c.paint=jsx3.Method.newAbstract();c.isDomPaint=function(){return false;};c.paintDom=function(){throw new jsx3.Exception();};c.dg=function(){return "<span id=\""+this.getId()+"\" style=\"display:none;\"></span>";};b.mp=[];b.Bl=function(q){b.mp.push(q);jsx3.sleep(b.He,"jsx3.gui.Painted.domPaint");};b.He=function(){for(var Xb=0;Xb<b.mp.length;Xb++){var kb=b.mp[Xb];var Ic=kb.getRendered();if(Ic!=null){var gc=kb.paintDom();Ic.parentNode.replaceChild(gc,Ic);}}b.mp.splice(0,b.mp.length);};c.paintChild=function(a,q,p){if(p==null)p=this.getRendered();if(p!=null){if(a.isDomPaint()){p.appendChild(a.paintDom());}else{jsx3.html.insertAdjacentHTML(p,"beforeEnd",a.paint());}}};c.Zu=function(a,q){this.paintChild(a,q);};c.insertHTML=function(a){this.paintChild(a);return this;};c.paintChildren=function(q){if(q==null)q=this.getChildren();var bc=[];for(var Tb=0;Tb<q.length;Tb++){var Ac=q[Tb];if(Ac.isDomPaint()){bc.push(Ac.dg());b.Bl(Ac);}else{bc.push(Ac.paint());}}return bc.join("");};c.RL=function(s,j){if(this._jsxHg)this.vQ();if(this._jsxUf==null&&s)this._jsxUf=this.T5(j);return this._jsxUf;};c.I9=function(i){this._jsxUf=i;};c.C5=function(){this._jsxHg=true;};c.vQ=function(a){if(a){this.findDescendants(function(q){q.vQ(false);},true,true,false,true);}else{delete this._jsxUf;delete this._jsxHg;}};b.Nn=/(-\S)/gi;b.HM=function(m,l,q){if(l){var u=l.split(";");for(var Vb=0;u.length;Vb++){var P=(u[Vb]+"").trim();if(P=="")return;var wb=P.split(/\s*:\s*/);if(wb&&wb.length==2){var yc=wb[0].replace(b.Nn,function(r,i){return i.substring(1).toUpperCase();});m.style[yc]=wb[1];}}}else{if(q){var kc=["Top","Right","Bottom","Left"];for(var Vb=0;Vb<4;Vb++){var yc=q+kc[Vb];m.style[yc]="";}}}};c.recalcBox=function(k){this.findDescendants(function(o){o.vQ(false);},true,true,false,true);this.J1(this.getParent()?this.getParent().IO(this):null,this.getRendered());if(k){var nb=this.getRendered();if(nb!=null){var Eb=this.RL(true);for(var O=0;O<k.length;O++){if(k[O]=="padding"){b.HM(nb,Eb.N4(),"padding");}else{if(k[O]=="margin"){b.HM(nb,Eb.Q2(),"margin");}else{if(k[O]=="border"){b.HM(nb,Eb.jO(),"border");}}}}}}};c.IO=function(){var wb=this.RL();return wb!=null?{parentwidth:wb.XK(),parentheight:wb.P5()}:{};};c.T5=function(l){return new b.Box({});};c.k7=function(e,r,p){this.B_(e,r,p,1);};c.B_=function(d,a,n,s){if(s==1){this.C5();if(a!=null)n.addRepaint(this);}else{if(s==2){var Gc=this.RL(true,d);if(Gc.recalculate(d,a,n)){if(jsx3.gui.Interactive&&a){var J={parentwidth:Gc.XK(),parentheight:Gc.P5()};this.publish({subject:jsx3.gui.Interactive.AFTER_RESIZE_VIEW,gui:a,implicit:J});}var G=this.getChildren();for(var eb=G.length-1;eb>=0;eb--){var jc=a?a.childNodes[eb]?a.childNodes[eb]:true:null;n.add(G[eb],{parentwidth:Gc.XK(),parentheight:Gc.P5()},jc,true);}}}else{if(s==3){var Gc=this.RL(true,d);if(a)Gc.recalculate(d,a,n);}}}};c.nW=function(r,o,d){var Cb=new b.Queue(d);Cb.add(this,r,o);Cb.start();};c.J1=function(a,q,f){var oc={};oc.add=function(k,j,i){k.yE(this,j,i);};oc.addRepaint=function(k){k.repaint();};oc.isPositional=function(){return f;};oc.add(this,a,q);};c.yE=function(n,d,a){var Hc=this.RL(false);if(Hc==null||Hc.isValidQueue(n)){if(!n.isPositional())this.applyDynamicProperties();this.k7(d,a,n);}else{}};});jsx3.Class.defineClass("jsx3.gui.Painted.Queue",jsx3.lang.Object,null,function(h,g){h.Ad=250;h.SG=0;h.Kt=[];h.HE=true;h.jt=false;h.enableChunking=function(s){h.HE=s;};h.Ze=function(){if(h.HE){if(!h.jt)h.doChunk();}else{h.doChunk();}};h.doChunk=function(){if(h.HE){h.jt=false;if(h.od==null)h.od=(new Date()).getTime();var ib=h.od;var t=(new Date()).getTime();var ab=h.Kt.shift();while(ab!=null&&t<ib+h.Ad){if(ab.zy.length>0){var Wb=ab.zy.shift();if(Wb instanceof Array)Wb[0].yE(ab,Wb[1],Wb[2]);else Wb.repaint();t=(new Date()).getTime();}else{ab.destroy();ab=h.Kt.shift();}}h.od=null;if(ab!=null){h.Kt.unshift(ab);jsx3.sleep(h.doChunk,"jsx3.gui.Painted.queue");h.jt=true;}}else{while(h.Kt.length>0){var ab=h.Kt.shift();while(ab.zy.length>0){var Wb=ab.zy.shift();if(Wb instanceof Array)Wb[0].yE(ab,Wb[1],Wb[2]);else Wb.repaint();}}}};g.init=function(s){this.Gl= ++h.SG;this.zy=[];this.st=s;h.Kt.push(this);};g.add=function(d,l,i,p){if(i===true)i=d.getRendered();this.zy[p?"unshift":"push"]([d,l,i]);};g.addRepaint=function(s,a){this.zy[a?"unshift":"push"](s);};g.start=function(){h.Ze();};g.destroy=function(){delete this.zy;h.Kt.remove(this);};g.isPositional=function(){return this.st;};g.toString=function(){return "{Painted.Queue "+this.Gl+" "+(this.zy!=null?this.zy.length:"-")+"}";};});jsx3.Class.defineClass("jsx3.gui.Painted.Box",jsx3.lang.Object,null,function(p,c){p.Lf=/[^\d^-]*([-]*[\d]*)[^\d^-]*([-]*[\d]*)[^\d^-]*([-]*[\d]*)[^\d^-]*([-]*[\d]*)/;p.JG=/\b([\d])*px/g;p.Pp=["boxtype","tagname","margin","padding","border","left","top","width","height","empty","container"];p.ji=["top","right","bottom","left"];p.il=null;p.yz=0;p.Rw=["","display:-moz-inline-box;","display:inline-block;","display:-moz-inline-box;"];p.getCssFix=function(){return p.Rw[jsx3.html.getMode()];};c.init=function(i){this.styles="";this.attributes="";this.tokenindex=p.yz;this.implicit=i?i:{};this.calculate();};c.paint=function(){var Ac=new Array(2);var gc="<"+this.explicit.tagname+" "+this.attributes;var ob=this.KZ();ob=!jsx3.util.numIsNaN(ob)?"width:"+Math.max(0,ob)+"px;":"";var kb=this.wI();kb=!jsx3.util.numIsNaN(kb)?"height:"+Math.max(0,kb)+"px;":"";var D=this.explicit.empty?"\"/>":"\">";if(this.explicit.boxtype=="box"){var ub=this.O8();ub=jsx3.util.numIsNaN(ub)?"0px;":"left:"+ub+"px;";var dc=this.hH();dc=jsx3.util.numIsNaN(dc)?"0px;":"top:"+dc+"px;";var Eb=this.implicit.omitpos?"":"position:absolute;";Ac[0]=gc+" style=\""+Eb+ob+kb+ub+dc+this.N4()+this.Q2()+this.jO()+this.styles+D;}else{if(this.explicit.boxtype=="relativebox"){var Eb=this.implicit.omitpos?"":"position:relative;";Ac[0]=gc+" style=\""+Eb+this.RA()+ob+kb+this.N4()+this.Q2()+this.jO()+this.styles+D;}else{var ub=this.O8();ub=jsx3.util.numIsNaN(ub)?"":"left:"+ub+"px;";var dc=this.hH();dc=jsx3.util.numIsNaN(dc)?"":"top:"+dc+"px;";var Eb=this.implicit.omitpos?"":"position:relative;";Ac[0]=gc+" style=\""+Eb+ob+kb+ub+dc+this.N4()+this.Q2()+this.jO()+this.styles+D;}}Ac[1]=this.explicit.empty?"":"</"+this.explicit.tagname+">";return Ac;};c.setStyles=function(r){this.styles=r;return this;};c.setAttributes=function(j){this.attributes=j;return this;};c.RA=function(){return this.explicit.container&&(jsx3.html.getMode()==jsx3.html.MODE_FF_STRICT||jsx3.html.getMode()==jsx3.html.MODE_FF_QUIRKS)?"":p.getCssFix();};c.recalculate=function(o,e,j){for(var Ac in o)this.implicit[Ac]=o[Ac];var Gb=this.explicit.clientwidth;var Ub=this.explicit.clientheight;this.calculate();var y,Qb,Ob,Jb;if(e&&e.style){if(j==null||!j.isPositional()){y=this.KZ();if(!isNaN(y)&&y<0)y=0;if(y>=0)e.style.width=y+"px";Ob=this.wI();if(!isNaN(Ob)&&Ob<0)Ob=0;if(Ob>=0)e.style.height=Ob+"px";}if(this.explicit.boxtype=="box"&&!isNaN(this.O8())&&!isNaN(this.hH())){e.style.left=this.O8()+"px";e.style.top=this.hH()+"px";}}return true;};c.calculate=function(){this.explicit={};for(var Wb=0;Wb<p.Pp.length;Wb++){var D=p.Pp[Wb];var eb=this.implicit[D];if((eb==null||eb=="")&&(D=="margin"||D=="padding"||D=="border")){this.explicit[D+"width"]=0;this.explicit[D+"height"]=0;}else{if((eb==null||eb=="")&&this.implicit.boxtype=="box"&&(D=="left"||D=="top")){this.explicit[D]=0;}else{if(eb!=null){this.addProperty(D,eb);}}}}};p.registerServer=function(q,g){var K=q.getEnv("GUIREF");if(K){var X=K.clientWidth;var ob=K.clientHeight;}if(g)jsx3.gui.Event.subscribe(jsx3.gui.Event.RESIZE,q,"onResize");};p.unregisterServer=function(o,i){if(i)jsx3.gui.Event.unsubscribe(jsx3.gui.Event.RESIZE,o,"onResize");};c.addProperty=function(n,e){if(n=="width"||n=="height"){if(typeof(e)=="string"&&e.indexOf("%")>-1)e=parseInt(this.implicit["parent"+n]*(parseInt(e)/100));this.explicit[n]=Number(e);this.explicit["client"+n]=e-this.explicit["padding"+n]-this.explicit["border"+n];if(this.explicit["client"+n]<0)this.explicit["client"+n]=0;}else{if(n=="left"||n=="top"){this.explicit[n]=typeof(e)=="string"&&e.indexOf("%")>-1?parseInt(this.implicit["parent"+(n=="left"?"width":"height")]*(parseInt(e)/100)):Number(e);}else{if(n=="margin"||n=="padding"){e=(e+"").trim();if(e=="")return;var X=e.match(/\s/)?e.match(p.Lf):[null,e,e,e,e];if(!(isNaN(parseInt(X[1]))||isNaN(parseInt(X[2]))||isNaN(parseInt(X[3]))||isNaN(parseInt(X[4])))&&n=="padding"){this.explicit["paddingwidth"]=parseInt(X[2])+parseInt(X[4]);this.explicit["paddingheight"]=parseInt(X[1])+parseInt(X[3]);}else{if(e.indexOf(":")>-1){var Jb=p.AG(e,n);X=Jb.match(p.Lf);if(!(isNaN(parseInt(X[1]))||isNaN(parseInt(X[2]))||isNaN(parseInt(X[3]))||isNaN(parseInt(X[4])))&&n=="padding"){this.explicit["paddingwidth"]=parseInt(X[2])+parseInt(X[4]);this.explicit["paddingheight"]=parseInt(X[1])+parseInt(X[3]);}else{if(n=="padding"){this.explicit["paddingwidth"]=0;this.explicit["paddingheight"]=0;X=[null,0,0,0,0];}}}else{if(n=="padding"){this.explicit["paddingwidth"]=0;this.explicit["paddingheight"]=0;X=[null,0,0,0,0];}}}this.explicit[n]=n+":"+X[1]+"px "+X[2]+"px "+X[3]+"px "+X[4]+"px;";}else{if(n=="border"){e=e.trim();if(e=="")return;if(e.replace(/(^;*)|(;*$)/g,"").search(/(;)|(:)/)==-1){e=e.replace(/(^;*)|(;*$)/g,"");for(var zb=0;zb<2;zb++)e=e+(";"+e);}else{if(e.replace(/(^;*)|(;*$)/g,"").search(/:/)==-1){e=e.replace(/(^;*)|(;*$)/g,"");}}var X=e.match(p.JG);var Qb=e.split(";");if(e.indexOf(":")==-1&&X&&X.length==4){this.explicit["borderwidth"]=parseInt(X[1])+parseInt(X[3]);this.explicit["borderheight"]=parseInt(X[0])+parseInt(X[2]);}else{if(e.indexOf(":")>-1){var Jb=p.rp(e);Qb=Jb.split(";");X=Jb.match(p.JG);if(X!=null&&Qb.length==4){this.explicit["borderwidth"]=parseInt(X[1])+parseInt(X[3]);this.explicit["borderheight"]=parseInt(X[0])+parseInt(X[2]);}else{this.explicit["borderwidth"]=0;this.explicit["borderheight"]=0;Qb=["none"];}}else{this.explicit["borderwidth"]=0;this.explicit["borderheight"]=0;Qb=["none"];}}if(Qb.length==1||Qb[0]==Qb[1]&&Qb[1]==Qb[2]&&Qb[2]==Qb[3]){this.explicit[n]=n+":"+Qb[0]+";";}else{if(Qb.length==4){var db=new Array(4);for(var zb=0;zb<4;zb++){if(Qb[zb].match(/\d+px/))db[zb]=n+"-"+p.ji[zb]+":"+Qb[zb]+";";else db[zb]=n+"-"+p.ji[zb]+":0px;";}this.explicit[n]=db.join("");}}}else{if(n=="tagname"){if(e.search(/input\[(\S*)\]/i)>-1){this.explicit.tagname="input";this.explicit.type=RegExp.$1;}else{this.explicit.tagname=e;}}else{this.explicit[n]=e;}}}}}};c.W8=function(q){if(typeof(this.children)=="undefined")this.children=[];this.children.push(q);};c.pQ=function(s){return this.children!=null?this.children[s]:null;};c.jJ=function(){var Bc=0;var Lb=0;if(typeof(this.explicit.border)=="string"){var rb=this.explicit.border.match(p.JG);Lb=rb?parseInt(rb[rb.length-1]):0;}if(typeof(this.explicit.padding)=="string"){var rb=this.explicit.padding.match(p.Lf);Bc=rb?parseInt(rb[4]):0;}return Lb+Bc;};c.G_=function(){var ac=0;var Y=0;if(typeof(this.explicit.border)=="string"){var Jc=this.explicit.border.match(p.JG);Y=Jc?parseInt(Jc[0]):0;}if(typeof(this.explicit.padding)=="string"){var Jc=this.explicit.padding.match(p.Lf);ac=Jc?parseInt(Jc[1]):0;}return Y+ac;};c.XK=function(){return this.explicit.clientwidth;};c.P5=function(){return this.explicit.clientheight;};c.jU=function(){return this.explicit.width;};c.JV=function(){return this.explicit.height;};c.KZ=function(){return (this.explicit.type&&(this.explicit.type.toUpperCase()=="TEXT"||this.explicit.type.toUpperCase()=="PASSWORD")||this.explicit.tagname=="textarea")&&jsx3.html.getMode()==jsx3.html.MODE_FF_QUIRKS||jsx3.html.getMode()==jsx3.html.MODE_IE_QUIRKS?this.explicit.width:this.explicit.clientwidth;};c.wI=function(){return (this.explicit.type&&(this.explicit.type.toUpperCase()=="TEXT"||this.explicit.type.toUpperCase()=="PASSWORD")||this.explicit.tagname=="textarea")&&jsx3.html.getMode()==jsx3.html.MODE_FF_QUIRKS||jsx3.html.getMode()==jsx3.html.MODE_IE_QUIRKS?this.explicit.height:this.explicit.clientheight;};c.O8=function(){return this.explicit.left;};c.hH=function(){return this.explicit.top;};c.getBoxType=function(){return this.explicit.boxtype;};c.isValidQueue=function(q){if(q.Gl==null)return true;if(this.tokenindex<q.Gl){this.tokenindex=q.Gl;return true;}else{return false;}};c.Q2=function(){return this.explicit.margin?this.explicit.margin:"";};c.N4=function(){return this.explicit.padding?this.explicit.padding:"";};c.jO=function(){return this.explicit.border?this.explicit.border:"";};p.getBody=function(){return document.getElementsByTagName("body")[0];};p.getScrollSize=function(r){if(p.il==null){var J=r||p.getBody();var tc="<div id=\"_jsx3_gui_painted_box_0\" label=\"block\" class=\"jsx30block\" style=\"padding:0px;margin:0px;border-width:0px;position:absolute;width:100px;height:100px;left:-100px;top:-100px;overflow:scroll;\">&#160;</div>";jsx3.html.insertAdjacentHTML(J,"beforeEnd",tc);p.il=100-parseInt(document.getElementById("_jsx3_gui_painted_box_0").clientWidth);}return p.il;};p.getScrollSizeOffset=function(d){var v=p.getScrollSize();return jsx3.html.getScrollSizeOffset(v,d);};p.AG=function(h,o){var pc="not matched";var dc="0";var jc="0";var Mc="0";var jb="0";var Wb=/(\s*(padding|padding-top|padding-right|padding-bottom|padding-left)\s*:\s*(\d+)(px)?\s*((\d+)(px)?)?\s*((\d+)(px)?)?\s*((\d+)(px)?)?\s*;)+/ig;var fc=/(\s*(margin|margin-top|margin-right|margin-bottom|margin-left)\s*:\s*(-*\d+)(px)?\s*((-*\d+)(px)?)?\s*((-*\d+)(px)?)?\s*((-*\d+)(px)?)?\s*;)+/ig;var Ec=o=="padding"?Wb:fc;var yc=h.split(";");if(yc){try{for(var bb=0;bb<yc.length;bb++){var yb=yc[bb]+";";var Nc=yb.search(Ec);if(Nc>0){var Yb={};Yb.desc="Missing Semicolon";Yb.cause=yc[bb];throw Yb;}else{if(Nc==-1){if(yc[bb].search(/[^\s*]/i)>=0){var Yb={};Yb.desc="Mismatch Rule";Yb.cause=yc[bb];throw Yb;}}else{pc=yb.replace(Ec,function(j,i,g,f,e,d,b,a,s,r,q,n,m){if(g.match(/-top/)){dc=f==null?"0":f;}else{if(g.match(/-right/)){jc=f==null?"0":f;}else{if(g.match(/-bottom/)){Mc=f==null?"0":f;}else{if(g.match(/-left/)){jb=f==null?"0":f;}else{dc=jsx3.util.strEmpty(f)?"0":f;jc=jsx3.util.strEmpty(b)?dc:b;Mc=jsx3.util.strEmpty(r)?dc:r;jb=jsx3.util.strEmpty(m)?jc:m;}}}}return dc+" "+jc+" "+Mc+" "+jb;});pc=dc+" "+jc+" "+Mc+" "+jb;}}}}catch(Kc){if(Kc.desc=="Missing Semicolon")pc="Migration broken. Semicolon is missing: "+Kc.cause;if(Kc.desc=="Mismatch Rule")pc="Migration broken. Dosen't match the regular expression. \nPlease control the rule '"+Kc.cause+"'.\nPlease check if all units are in px.\nPlease check if a colon is missing.\n"+"Please check the rule name";return pc;}}return pc;};p.rp=function(j){var D="not matched";var W=["0px","solid",""];var K=["0px","solid",""];var ac=["0px","solid",""];var x=["0px","solid",""];var Mb="";var bb="";var Sb="";var lc=/border\s*.*[^;]\s*border/ig;var wc=/^(\d+)(px)?$/i;var Nc=/^(dashed|dotted|double|groove|hidden|inset|none|outset|ridge|solid)$/i;var rb=/^(#[a-zA-Z0-9]{6}|rgb\s*\(\s*\d{1,3}%?\s*,\s*\d{1,3}%?\s*,\s*\d{1,3}%?\s*\)|(AliceBlue|AntiqueWhite|Aqua|Aquamarine|Azure|Beige|Bisque|Black|BlanchedAlmond|Blue|BlueViolet|Brown|BurlyWood|CadetBlue|Chartreuse|Chocolate|Coral|CornflowerBlue|Cornsilk|Crimson|Cyan|DarkBlue|DarkCyan|DarkGoldenrod|DarkGray|DarkGreen|DarkKhaki|DarkMagenta|DarkOliveGreen|DarkOrange|DarkOrchid|DarkRed|DarkSalmon|DarkSeaGreen|DarkSlateBlue|DarkSlateGray|DarkTurquoise|DarkViolet|DeepPink|DeepSkyBlue|DimGray|DodgerBlue|FireBrick|FloralWhite|ForestGreen|Fuchsia|Gainsboro|GhostWhite|Gold|Goldenrod|Gray|Green|GreenYellow|Honeydew|HotPink|IndianRed|Indigo|Ivory|Khaki|Lavender|LavenderBlush|LawnGreen|LemonChiffon|LightBlue|LightCora|LightCyan|LightGoldenrodYellow|LightGreen|LightGrey|LightPink|LightSalmon|LightSeaGreen|LightSkyBlue|LightSlateGray|LightSteelBlu|LightYellow|Lime|LimeGreen|Linen|Magenta|Maroon|MediumAquamarine|MediumBlue|MediumOrchid|MediumPurple|MediumSeaGreen|MediumSlateBlue|MediumSpringGreen|MediumTurquoise|MediumVioletRed|MidnightBlue|MintCream|MistyRose|Moccasin|NavajoWhite|Navy|OldLace|Olive|OliveDrab|Orange|OrangeRed|Orchid|PaleGoldenrod|PaleGreen|PaleTurquoise|PaleVioletRed|PapayaWhip|PeachPuff|Peru|Pink|Plum|PowderBlue|Purple|Red|RosyBrown|RoyalBlue|SaddleBrown|Salmon|SandyBrown|SeaGreen|Seashell|Sienna|Silver|SkyBlue|SlateBlue|SlateGray|Snow|SpringGreen|SteelBlue|Tan|Teal|Thistle|Tomato|Turquoise|Violet|Wheat|White|WhiteSmoke|Yellow|YellowGreen))$/i;var Hb=j.split(";");if(Hb){for(var Y=0;Y<Hb.length;Y++){try{if(Hb[Y].match(lc)){var dc={};dc.desc="Missing Semicolon";dc.cause=Hb[Y];throw dc;}var Ic=Hb[Y].split(":");if(Ic.length==2){var wb=Ic[1].split(" ");for(var fc=0;fc<wb.length;fc++){if(wb[fc]!=""){if(wb[fc].match(wc)){Mb=wb[fc].replace(wc,function(h,g,f,e){return g;});Mb=Mb+"px";}else{if(wb[fc].match(Nc)){bb=wb[fc];}else{if(wb[fc].match(rb)){Sb=wb[fc];}else{var dc={};dc.desc="Mismatch Width Color Style";dc.cause=wb[fc];throw dc;}}}if(Ic[0].match(/^\s*border\s*$/)){W=[Mb,bb,Sb];K=[Mb,bb,Sb];ac=[Mb,bb,Sb];x=[Mb,bb,Sb];}else{if(Ic[0].match(/^\s*border-top\s*$/)){W[0]=Mb;W[1]=bb;W[2]=Sb;}else{if(Ic[0].match(/^\s*border-bottom\s*$/)){ac[0]=Mb;ac[1]=bb;ac[2]=Sb;}else{if(Ic[0].match(/^\s*border-right\s*$/)){K[0]=Mb;K[1]=bb;K[2]=Sb;}else{if(Ic[0].match(/^\s*border-left\s*$/)){x[0]=Mb;x[1]=bb;x[2]=Sb;}else{if(Ic[0].match(/^\s*border-width\s*$/)){W[0]=Mb;K[0]=Mb;ac[0]=Mb;x[0]=Mb;}else{if(Ic[0].match(/^\s*border-top-width\s*$/)){W[0]=Mb;}else{if(Ic[0].match(/^\s*border-bottom-width\s*$/)){ac[0]=Mb;}else{if(Ic[0].match(/^\s*border-right-width\s*$/)){K[0]=Mb;}else{if(Ic[0].match(/^\s*border-left-width\s*$/)){x[0]=Mb;}else{if(Ic[0].match(/^\s*border-style\s*$/)){W[1]=bb;K[1]=bb;ac[1]=bb;x[1]=bb;}else{if(Ic[0].match(/^\s*border-top-style\s*$/)){W[1]=bb;}else{if(Ic[0].match(/^\s*border-bottom-style\s*$/)){ac[1]=bb;}else{if(Ic[0].match(/^\s*border-right-style\s*$/)){K[1]=bb;}else{if(Ic[0].match(/^\s*border-left-style\s*$/)){x[1]=bb;}else{if(Ic[0].match(/^\s*border-color\s*$/)){W[2]=Sb;K[2]=Sb;ac[2]=Sb;x[2]=Sb;}else{if(Ic[0].match(/^\s*border-top-color\s*$/)){W[2]=Sb;}else{if(Ic[0].match(/^\s*border-bottom-color\s*$/)){ac[2]=Sb;}else{if(Ic[0].match(/^\s*border-right-color\s*$/)){K[2]=Sb;}else{if(Ic[0].match(/^\s*border-left-color\s*$/)){x[2]=Sb;}else{var dc={};dc.desc="Mismatch Name";dc.cause=Ic[0];throw dc;}}}}}}}}}}}}}}}}}}}}}}}else{if(Hb[Y].search(/[^\s*]/i)>=0){var dc={};dc.desc="Missing Colon";dc.cause=Hb[Y];throw dc;}}}catch(Kc){if(Kc.desc=="Missing Semicolon")D="Migration broken. Semicolon is missing: "+Kc.cause;if(Kc.desc=="Mismatch Width Color Style")D="Migration broken. Dosen't match the regular expression. \nPlease control the rule '"+Kc.cause+"'.\nPlease check if all units are in px.\nPlease control the type of the border.\nPlease control the color";if(Kc.desc=="Mismatch Name")D="Migration broken. Rule name "+Kc.cause+" must match one of these rule names:\n border, border-left, ...";if(Kc.desc=="Missing Colon")D="Migration broken. Colon missing: "+Kc.cause;return D;}}D=W[0]+" "+W[1]+" "+W[2]+";"+K[0]+" "+K[1]+" "+K[2]+";"+ac[0]+" "+ac[1]+" "+ac[2]+";"+x[0]+" "+x[1]+" "+x[2];}return D;};c.toString=function(){var Tb="IMPLICIT:\n";for(var P in this.implicit)Tb=Tb+(P+": "+this.implicit[P]+"\n");Tb=Tb+"\nEXPLICIT:\n";for(var P in this.explicit)Tb=Tb+(P+": "+this.explicit[P]+"\n");return Tb;};});
jsx3.Class.defineClass("jsx3.gui.Heavyweight",null,null,function(r,q){var O=jsx3.util.Logger.getLogger(r.jsxclass.getName());r.JC={};r.Yp=1;r.DEFAULTZINDEX=32000;q.init=function(f,n){this.ge=f!=null?f:r.getKey();this.sk=n;if(r.JC[this.ge]!=null)r.JC[this.ge].destroy();r.JC[this.ge]=this;};r.getKey=function(){return "jsx_heavyweight_"+r.Yp++;};q.getBody=function(){if(this.sk){var u=this.sk.getDocument();if(u)return u.getElementsByTagName("body")[0];else O.warn("getBody() document of owner of "+this+" is null");}else{O.warn("getBody() owner of "+this+" is null");}return null;};r.GO=function(n){return r.JC[n];};q.show=function(j){var t=this.getId();var L=this.getHTML();if(jsx3.util.strEmpty(L))return;var B=this.getWidth();var J=B==null?"width:100px;":"width:"+B+"px;";var pb=this.getHeight();var R=pb==null?"":"height:"+pb+"px;";var xc="<span id=\""+t+"\" class=\"jsx30block\" style=\"position:absolute;overflow:;"+J+R+"left:0px;top:0px;z-index:"+this.getZIndex()+";visibility:hidden;\">"+L+"</span>";var v=this.getDomParent();jsx3.html.insertAdjacentHTML(v,"beforeEnd",xc);this.applyRatio();this.applyRules("Y");this.applyRules("X");if(j!=false)this.setVisibility(jsx3.gui.Block.VISIBILITYVISIBLE);if(this.sk)this.sk.subscribe(jsx3.gui.Interactive.DESTROY,this,"kv");};q.applyRatio=function(a){var Pb=this.getRendered();if(Pb&&Pb.style){var x=null,xc=null;if(a||!Pb.childNodes[0]){x=Pb.offsetHeight;xc=Pb.offsetWidth;}else{x=Pb.childNodes[0].offsetHeight;xc=Pb.childNodes[0].offsetWidth;}var L=this.getRatio();if(L){xc=parseInt(L*(xc+x));Pb.style.width=xc+"px";Pb.childNodes[0].style.width=xc;if(a!=true){x=Pb.childNodes[0].offsetHeight;Pb.style.height=x+"px";}else{Pb.childNodes[0].style.height=x+"px";}}else{if(a!=true){Pb.style.width=xc+"px";Pb.style.height=x+"px";}}}};q.applyRules=function(o){var S=this.getRendered();var mb=this.getDomParent();if(S==null||mb==null)return;if(o=="X"){var Ob="clientWidth";var gb="left";var ab="width";var tc=S.childNodes[0].offsetWidth;var bb=this.getWidth();}else{var Ob="clientHeight";var gb="top";var ab="height";var tc=S.childNodes[0].offsetHeight;var bb=this.getHeight();}var K=this.getPositionRules()[o].length;var Qb=mb[Ob];var nc=0;for(var F=0;F<K;F++){var Lc=this.getPositionRule(F,o);var Pb=this.getPoint(S,Lc.POINT);if(Lc.PIXEL==null){nc=Qb-tc;}else{nc=Lc.PIXEL+Lc.OFFSET-Pb[o];}if(nc<0||nc+tc>Qb){Lc.VIEWSIZE=nc<0?tc+nc:Qb-nc;Lc.VIEWORIGIN=nc;}else{S.style[gb]=nc+"px";return;}}var M=-1;var t=-1;for(var F=0;F<K;F++){var Lc=this.getPositionRule(F,o);if(M<Lc.VIEWSIZE){M=Lc.VIEWSIZE;t=F;}}var Lc=this.getPositionRule(Math.max(0,t),o);if(Lc!=null){S.style[gb]=Lc.VIEWORIGIN+"px";if(bb==null){S.childNodes[0].style[ab]=Math.max(0,Lc.VIEWSIZE-10)+"px";if(this.getOverflow()==jsx3.gui.Block.OVERFLOWSCROLL)S.childNodes[0].style.overflow="auto";S.style[ab]=Math.max(0,Lc.VIEWSIZE-10)+"px";if(Lc.VIEWORIGIN<0)S.style[gb]="10px";}}};q.hide=function(){var ac=this.getRendered();if(ac!=null)ac.parentNode.removeChild(ac);if(this.sk)this.sk.unsubscribe(jsx3.gui.Interactive.DESTROY,this);};q.kv=function(l){O.trace("onOwnerDestroyed "+l.target.getName());var oc=l.context.objPARENT;var zc=oc.getDocument().getElementById(this.getId());if(zc!=null)zc.parentNode.removeChild(zc);this.sk.unsubscribe(jsx3.gui.Interactive.DESTROY,this);this.sk=null;delete r.JC[this.getId()];this.ge=null;};q.destroy=function(){if(!r.JC[this.ge])return;this.hide();this.sk=null;delete r.JC[this.ge];this.ge=null;};q.getRendered=function(c){var Bc=this.getId();if(Bc==null)return null;var R=null;if(c instanceof jsx3.gui.Event){if(c.exists()&&c.srcElement())R=c.srcElement().ownerDocument;}else{if(c!=null){R=c.getElementById?c:c.ownerDocument;}}if(!R&&this.sk)R=this.sk.getDocument();if(R)return R.getElementById(Bc);else{if(this.sk!=null&&this.sk.getServer()!=null)O.warn("Document of owner of "+this+" is null.");}return null;};q.containsHtmlElement=function(n){var gb=this.getRendered(n);if(gb){while(n!=null){if(gb==n)return true;n=n.parentNode;}}return false;};q.getId=function(){return this.ge;};q._setId=function(a){this.ge=a;};q.getHTML=function(){return this.html;};q.setHTML=function(s,d){this.html=s;if(d){var xb=this.getRendered();if(xb!=null)xb.innerHTML=s;}return this;};q.getDomParent=function(){return this.vu==null?this.getBody():this.vu;};q.setDomParent=function(c){this.vu=c;return this;};q.getRatio=function(){return this.MF;};q.setRatio=function(j){this.MF=j;return this;};q.getOverflow=function(){return this.ix==null?jsx3.gui.Block.OVERFLOWSCROLL:this.ix;};q.setOverflow=function(j){this.ix=j;return this;};q.setVisibility=function(j){var xb=this.getRendered();if(xb)xb.style.visibility=j;return this;};q.getZIndex=function(){return this.tz!=null?this.tz:r.DEFAULTZINDEX;};q.setZIndex=function(e){this.tz=e;return this;};q.getWidth=function(){return this.Ul==null?null:this.Ul;};q.setWidth=function(g){this.Ul=g;return this;};q.getHeight=function(){return this.Ir==null?null:this.Ir;};q.setHeight=function(l){this.Ir=l;return this;};q.addXRule=function(o,n,s,h){var Cc=o instanceof jsx3.gui.Event?o.clientX():this.getPoint(o,n).X;this.addRule(Cc,s,h,"X");return this;};q.addYRule=function(a,i,e,c){var Fc=a instanceof jsx3.gui.Event?a.clientY():this.getPoint(a,i).Y;this.addRule(Fc,e,c,"Y");return this;};q.addRule=function(b,e,c,l){var tc=this.getPositionRules();var sc=tc[l];sc[sc.length]={PIXEL:b,OFFSET:c,POINT:e};return this;};q.getPositionRule=function(f,l){return this.getPositionRules()[l][f];};q.getPositionRules=function(){if(typeof(this.hD)!="object"){this.hD={};this.hD.X=[];this.hD.Y=[];}return this.hD;};q.getPoint=function(n,d){if(typeof(n)=="number")return {X:n,Y:n};var S=null;if(n instanceof jsx3.gui.Block)S=n.getAbsolutePosition(this.getDomParent());else S=jsx3.html.getRelativePosition(this.getDomParent(),n);switch(d){case "N":return {X:S.L+Math.floor(S.W/2),Y:S.T};case "S":return {X:S.L+Math.floor(S.W/2),Y:S.T+S.H};case "E":return {X:S.L+S.W,Y:S.T+Math.floor(S.H/2)};case "W":return {X:S.L,Y:S.T+Math.floor(S.H/2)};case "NE":return {X:S.L+S.W,Y:S.T};case "SE":return {X:S.L+S.W,Y:S.T+S.H};case "SW":return {X:S.L,Y:S.T+S.H};case "NW":return {X:S.L,Y:S.T};case "O":return {X:S.L+Math.floor(S.W/2),Y:S.T+Math.floor(S.H/2)};}};q.toString=function(){var Fb=this.sk?this.sk.getId():null;return "jsx3.gui.Heavyweight "+this.getId()+"/"+Fb;};r.getVersion=function(){return "3.00.00";};});jsx3.Heavyweight=jsx3.gui.Heavyweight;
jsx3.require("jsx3.gui.HotKey","jsx3.gui.Heavyweight");jsx3.Class.defineInterface("jsx3.gui.Interactive",null,function(j,i){var tb=jsx3.gui.Event;j.JSXBLUR="jsxblur";j.JSXCHANGE="jsxchange";j.JSXCLICK="jsxclick";j.JSXDOUBLECLICK="jsxdblclick";j.JSXFOCUS="jsxfocus";j.JSXKEYDOWN="jsxkeydown";j.JSXKEYPRESS="jsxkeypress";j.JSXKEYUP="jsxkeyup";j.JSXMOUSEDOWN="jsxmousedown";j.JSXMOUSEOUT="jsxmouseout";j.JSXMOUSEOVER="jsxmouseover";j.JSXMOUSEUP="jsxmouseup";j.JSXMOUSEWHEEL="jsxmousewheel";j.FOCUS_STYLE="text-decoration:underline";j.ADOPT="jsxadopt";j.AFTER_APPEND="jsxafterappend";j.AFTER_COMMIT="jsxaftercommit";j.AFTER_EDIT="jsxafteredit";j.AFTER_MOVE="jsxaftermove";j.AFTER_REORDER="jsxafterreorder";j.AFTER_RESIZE="jsxafterresize";j.AFTER_RESIZE_VIEW="jsxafterresizeview";j.AFTER_SORT="jsxaftersort";j.BEFORE_APPEND="jsxbeforeappend";j.BEFORE_DROP="jsxbeforedrop";j.BEFORE_EDIT="jsxbeforeedit";j.BEFORE_MOVE="jsxbeforemove";j.BEFORE_RESIZE="jsxbeforeresize";j.BEFORE_SELECT="jsxbeforeselect";j.BEFORE_SORT="jsxbeforesort";j.CANCEL_DROP="jsxcanceldrop";j.CHANGE="jsxchange";j.CTRL_DROP="jsxctrldrop";j.DESTROY="jsxdestroy";j.DATA="jsxdata";j.DRAG="jsxdrag";j.DROP="jsxdrop";j.EXECUTE="jsxexecute";j.HIDE="jsxhide";j.INCR_CHANGE="jsxincchange";j.MENU="jsxmenu";j.SCROLL="jsxscroll";j.SELECT="jsxselect";j.SHOW="jsxshow";j.SPYGLASS="jsxspy";j.TOGGLE="jsxtoggle";i.UJ=function(a,l){this.doEvent(j.JSXBLUR,{objEVENT:a});};i.gI=function(s,m){this.doEvent(j.JSXCHANGE,{objEVENT:s});};i.IU=function(m,s){this.doEvent(j.JSXCLICK,{objEVENT:m});};i.LH=function(f,c){this.doEvent(j.JSXDOUBLECLICK,{objEVENT:f});};i.SU=function(n,r){this.doEvent(j.JSXFOCUS,{objEVENT:n});};i.DY=function(l,a){var jc=false;if(this.hasHotKey())jc=this.checkHotKeys(l);if(!jc)this.doEvent(j.JSXKEYDOWN,{objEVENT:l});return jc;};i.M0=function(m,s){this.doEvent(j.JSXKEYPRESS,{objEVENT:m});};i.EN=function(r,n){this.doEvent(j.JSXKEYUP,{objEVENT:r});};i.mL=function(f,g){this.doEvent(j.JSXMOUSEDOWN,{objEVENT:f});};i.u2=function(b,k){this.doEvent(j.JSXMOUSEOUT,{objEVENT:b});};i.CL=function(f,c){this.doEvent(j.JSXMOUSEOVER,{objEVENT:f});};i._4=function(c,k){var ub=null;this.doEvent(j.JSXMOUSEUP,{objEVENT:c});if(c.rightButton()&&(ub=this.getMenu())!=null){var B=this.getServer().getJSX(ub);if(B!=null){var Mb=this.doEvent(j.MENU,{objEVENT:c,objMENU:B});if(Mb!==false){if(Mb instanceof Object&&Mb.objMENU instanceof jsx3.gui.Menu)B=Mb.objMENU;B.showContextMenu(c,this);}}}};i.U2=function(d,e){this.doEvent(j.JSXMOUSEWHEEL,{objEVENT:d});};i.setEvent=function(s,p){this.getEvents()[p]=s;return this;};i.getEvents=function(){if(this._jsxbu==null)this._jsxbu={};return this._jsxbu;};i.getEvent=function(h){return this._jsxbu!=null?this._jsxbu[h]:null;};i.hasEvent=function(p){return this._jsxbu!=null&&this._jsxbu[p]!=null&&this._jsxbu[p].match(/\S/);};i.doEvent=function(k,l){var uc=this.getEvent(k);if(typeof(this.publish)=="function")this.publish({subject:k,context:l});return this.eval(uc,l);};i.removeEvent=function(n){if(this._jsxbu!=null)delete this._jsxbu[n];return this;};i.removeEvents=function(){this._jsxbu={};return this;};i.setCanMove=function(f){this.jsxmove=f;return this;};i.getCanMove=function(){return this.jsxmove||jsx3.Boolean.FALSE;};i.setCanDrag=function(o){this.jsxdrag=o;return this;};i.getCanDrag=function(){return this.jsxdrag||jsx3.Boolean.FALSE;};i.setCanDrop=function(o){this.jsxdrop=o;return this;};i.getCanDrop=function(){return this.jsxdrop||jsx3.Boolean.FALSE;};i.setCanSpy=function(q){this.jsxspy=q;return this;};i.getCanSpy=function(){return this.jsxspy||jsx3.Boolean.FALSE;};i.getMenu=function(){return this.jsxmenu;};i.setMenu=function(f){this.jsxmenu=f;return this;};j.s5=[tb.BLUR,tb.CHANGE,tb.CLICK,tb.DOUBLECLICK,tb.FOCUS,tb.KEYDOWN,tb.KEYPRESS,tb.KEYUP,tb.MOUSEDOWN,tb.MOUSEOUT,tb.MOUSEOVER,tb.MOUSEUP,tb.MOUSEWHEEL];j.F5={};j.F5[tb.BLUR]="UJ";j.F5[tb.CHANGE]="gI";j.F5[tb.CLICK]="IU";j.F5[tb.DOUBLECLICK]="LH";j.F5[tb.FOCUS]="SU";j.F5[tb.KEYDOWN]="DY";j.F5[tb.KEYPRESS]="M0";j.F5[tb.KEYUP]="EN";j.F5[tb.MOUSEDOWN]="mL";j.F5[tb.MOUSEOUT]="u2";j.F5[tb.MOUSEOVER]="CL";j.F5[tb.MOUSEUP]="_4";j.F5[tb.MOUSEWHEEL]="U2";j.isBridgeEventHandler=function(f){if(j.sn==null){j.sn={};for(var Y=0;Y<j.s5.length;Y++){j.sn["on"+j.s5[Y]]=true;}}return j.sn[f];};j.Jn="kE";j.zs="_e";i.lM=function(c,f){var Mb={};if((c==null||!c[tb.KEYDOWN])&&(this.hasHotKey()||this.getAlwaysCheckHotKeys()))Mb[tb.KEYDOWN]=true;if((c==null||!c[tb.MOUSEUP])&&this.getMenu())Mb[tb.MOUSEUP]=true;var y=[];var Rb=this.instanceOf(jsx3.gui.Painted);var z=this.getId();for(var Db=0;Db<j.s5.length;Db++){var zc=j.s5[Db];var _="on"+zc;var Jb=[];var Bb=Rb?this.getAttribute(_):null;if(Bb){Jb.push(Bb.replace(/\"/g,"&quot;"));if(!Bb.match(/;\s*$/))Jb.push(";");}var yc=c&&c[zc]||Mb[zc];if(yc){if(typeof(yc)!="string")yc=j.F5[zc];if(f!=null)Jb.push("jsx3."+j.zs+"(event,this,'"+yc+"',"+f+");");else Jb.push("jsx3.GO('"+z+"')."+j.Jn+"(event,this,'"+yc+"');");}if(Jb.length>0){y.push(" "+_+"=\"");y.pushAll(Jb);y.push("\"");}}return y.join("");};i.RX=function(d,q,r){var G="on"+d;var O="";var Qb=false;if(Qb){var C=this.getAttribute(G);if(C){O=O+C;if(!C.match(/;\s*$/))O=O+";";}}var U=r!=null?"jsx3."+j.zs+"(event,this,'"+q+"',"+r+");":"jsx3.GO('"+this.getId()+"')."+j.Jn+"(event,this,'"+q+"');";return " "+G+"=\""+O+U+"\"";};i.kE=function(l,c,k){var bc=this[k];var Z=jsx3.gui.Event.wrap(l);if(bc){bc.call(this,Z,c);}else{throw new jsx3.Exception("no bridge method '"+k+"' for event type '"+Z.getType()+"' on DOM object of id "+this.getId());}};jsx3._e=function(r,n,e,k){var P=n;k=k||Number(0);for(var ec=0;ec<k;ec++)P=P.parentNode;var y=P.getAttribute("id");var cc=jsx3.GO(y);if(cc!=null)cc.kE(r,n,e);else{if(jsx3.html.getElmUpByTagName(n,"body")!=null)throw new jsx3.Exception("No JSX DOM object with id '"+y+"' ("+k+" up from "+n+").");}};j.P3=function(r,n,o,p){var Q=n.ownerDocument;jsx3.gui.Event.preventSelection(Q);var ub=r.getTrueX();var kb=n.offsetLeft;jsx3.EventHelp.constrainY=p;jsx3.EventHelp.xOff=kb-ub;var w=r.getTrueY();var A=n.offsetTop;jsx3.EventHelp.constrainX=o;jsx3.EventHelp.yOff=A-w;jsx3.EventHelp.curDragObject=n;jsx3.EventHelp.FLAG=1;jsx3.EventHelp.beginTrackMouse(r);r.setCapture(n);r.cancelReturn();r.cancelBubble();};j.DM=function(r,n,k){var dc=n.ownerDocument;jsx3.gui.Event.preventSelection(dc);jsx3.EventHelp.startX=r.getTrueX();jsx3.EventHelp.startY=r.getTrueY();jsx3.EventHelp.xOff=n.offsetLeft;jsx3.EventHelp.yOff=n.offsetTop;jsx3.EventHelp.dragRounder=k;jsx3.EventHelp.curDragObject=n;jsx3.EventHelp.FLAG=3;jsx3.EventHelp.beginTrackMouse(r);r.setCapture(n);r.cancelReturn();r.cancelBubble();};i.doBeginMove=function(m,s){if(!m.leftButton()){return;}if(s==null)s=this.getRendered();var wb=s.ownerDocument;var Lc=this.doEvent(j.BEFORE_MOVE,{objEVENT:m});var Ec=Lc===false;if(s!=null&&!Ec){s.style.zIndex=this.getServer().getNextZIndex(jsx3.app.Server.Z_DRAG);jsx3.gui.Event.preventSelection(wb);var Fb=m.getTrueX();var Z=s.style.position=="absolute"?parseInt(s.style.left):s.scrollLeft;if(Lc&&Lc.bCONSTRAINY)jsx3.EventHelp.constrainY=true;jsx3.EventHelp.xOff=Z-Fb;var gc=m.getTrueY();var ic=s.style.position=="absolute"?parseInt(s.style.top):s.scrollTop;if(Lc&&Lc.bCONSTRAINX)jsx3.EventHelp.constrainX=true;jsx3.EventHelp.yOff=ic-gc;jsx3.EventHelp.curDragObject=s;jsx3.EventHelp.FLAG=1;jsx3.EventHelp.beginTrackMouse(m);m.setCapture(s);}};i.doEndMove=function(c,k){if(k==null)k=this.getRendered();if(k!=null){k.style.zIndex=this.getZIndex();c.releaseCapture(k);var Bb=parseInt(k.style.left);var eb=parseInt(k.style.top);this.setLeft(Bb);this.setTop(eb);this.doEvent(j.AFTER_MOVE,{objEVENT:c});}};i.doDrag=function(b,k,q,o){b.cancelAll();if(k==null){k=b.srcElement();while(k!=null&&k.getAttribute("JSXDragId")==null){k=k.parentNode;if(k=k.ownerDocument.getElementsByTagName("body")[0])k=null;}if(k==null)return;}var V=k.getAttribute("JSXDragId");var ib=k.getAttribute("JSXDragType");if(o==null)o={};o.strDRAGID=k.getAttribute("JSXDragId");o.strDRAGTYPE=k.getAttribute("JSXDragType");o.objGUI=k;o.objEVENT=b;if(this.doEvent(j.DRAG,o)===false)return;jsx3.EventHelp.DRAGTYPE=o.strDRAGTYPE;jsx3.EventHelp.DRAGID=o.strDRAGID;if(o.strDRAGIDS instanceof Array)jsx3.EventHelp.DRAGIDS=o.strDRAGIDS;jsx3.EventHelp.JSXID=this;if(q==null)q=jsx3.EventHelp.drag;var Jb=q(k,this,jsx3.EventHelp.DRAGTYPE,jsx3.EventHelp.DRAGID);if(Jb==null){return false;}else{jsx3.EventHelp.dragItemHTML=Jb;jsx3.EventHelp.FLAG=2;jsx3.EventHelp.beginTrackMouse(b);}jsx3.EventHelp.constrainX=false;jsx3.EventHelp.constrainY=false;};i.doDrop=function(n,r,m){if(jsx3.EventHelp.DRAGID!=null){var Yb=jsx3.EventHelp.JSXID;var K=jsx3.EventHelp.DRAGID;var zc=jsx3.EventHelp.DRAGTYPE;var ub={objEVENT:n,objSOURCE:Yb,strDRAGID:K,strDRAGTYPE:zc};if(m==jsx3.EventHelp.ONDROP&&jsx3.gui.isMouseEventModKey(n)){ub.objGUI=n.srcElement();this.doEvent(j.CTRL_DROP,ub);jsx3.EventHelp.reset();}else{if(m==jsx3.EventHelp.ONDROP){ub.objGUI=n.srcElement();this.doEvent(j.DROP,ub);jsx3.EventHelp.reset();}else{if(m==jsx3.EventHelp.ONBEFOREDROP){ub.objGUI=n.toElement();this.doEvent(j.BEFORE_DROP,ub);}else{if(m==jsx3.EventHelp.ONCANCELDROP){ub.objGUI=n.fromElement();this.doEvent(j.CANCEL_DROP,ub);}}}}}};i.doSpyOver=function(r,n,a){var cb=r.getTrueX();var Ab=r.getTrueY();if(this._jsxspytimeout)return;if(a==null)a={};a.objEVENT=r;var Wb=this;this._jsxspytimeout=window.setTimeout(function(){if(Wb.getParent()==null)return;Wb._jsxspytimeout=null;var wc=Wb.doEvent(j.SPYGLASS,a);if(wc)Wb.showSpy(wc,cb,Ab);},jsx3.EventHelp.SPYDELAY);};i.doSpyOut=function(f,g){if(f.toElement()!=null&&f.toElement().className=="jsx30spyglassbuffer")return;window.clearTimeout(this._jsxspytimeout);this._jsxspytimeout=null;j.hideSpy();};i.showSpy=function(g,r,n){if(g!=null){j.hideSpy();g="<span onmouseout=\"if (event.toElement != this.childNodes[0]) jsx3.gui.Interactive.hideSpy();\" class=\"jsx30spyglassbuffer\"><div id=\"_jsxspychild\" class=\"jsx30spyglass\">"+g+"</div></span>";var Ob=new jsx3.gui.Heavyweight("_jsxspy",this);Ob.setHTML(g);Ob.addRule(r,"W",-2,"X");Ob.addRule(r,"E",12,"X");Ob.addRule(null,"W",-24,"X");Ob.addRule(n,"N",-2,"Y");Ob.addRule(n,"S",-6,"Y");Ob.addRule(null,"N",-224,"Y");Ob.setOverflow(jsx3.gui.Block.OVERFLOWEXPAND);Ob.show();var jb=Ob.getRendered();if(jb){var Yb=jb.ownerDocument.getElementsByTagName("body")[0];var S=Yb.offsetHeight-(jb.childNodes[0].offsetHeight+parseInt(jb.style.top));if(S<0)jb.style.top=parseInt(jb.style.top)+S+"px";if(parseInt(jb.style.width)+parseInt(jb.style.left)>Yb.offsetWidth)Ob.applyRules("X");}tb.subscribe(jsx3.gui.Event.MOUSEDOWN,jsx3.gui.Interactive.hideSpy);}};j.hideSpy=function(){if(jsx3.gui.Heavyweight){var hb=jsx3.gui.Heavyweight.GO("_jsxspy");if(hb){hb.destroy();tb.unsubscribe(jsx3.gui.Event.MOUSEDOWN,jsx3.gui.Interactive.hideSpy);}}};i.getSpyStyles=function(g){return this.jsxspystyle?this.jsxspystyle:g?g:null;};i.setSpyStyles=function(a){delete this._jsxem;delete this._jsxrk;delete this.jsxspystylekeys;delete this.jsxspystylevalues;this.jsxspystyle=a;};i.ao=function(){var A={};if(jsx3.util.strEmpty(this.getSpyStyles())&&this.jsxspystylekeys!=null){var Fc=(this.jsxspystylekeys||"").split(/ *; */);var hc=(this.jsxspystylevalues||"").split(/ *; */);for(var u=0;u<Fc.length;u++)A[Fc[u]]=hc[u];}else{var y=this.getSpyStyles(j.FOCUS_STYLE);var ob=/(-\S)/gi;var A={};var Nc=y.split(";");for(var u=0;u<Nc.length;u++){var V=Nc[u]+"";var Cb=V.split(":");if(Cb&&Cb.length==2){var Nb=Cb[0].replace(ob,function(d,c){return c.substring(1).toUpperCase();});A[Nb]=Cb[1];}}}return A;};i.applySpyStyle=function(d){if(this._jsxem==null)this._jsxem=this.ao();if(this._jsxrk==null){this._jsxrk={};for(var bc in this._jsxem)this._jsxrk[bc]=d.style[bc];}for(var bc in this._jsxem)d.style[bc]=this._jsxem[bc];};i.removeSpyStyle=function(e){for(var ub in this._jsxrk)e.style[ub]=this._jsxrk[ub];};i.checkHotKeys=function(e){if(this._jsxkn==null)return false;if(e.isModifierKey())return false;var W=false;var Mb=e.getAttribute("jsxmodal");for(var ac in this._jsxkn){var V=this._jsxkn[ac];if(V instanceof jsx3.gui.HotKey){if(V.isDestroyed()){delete this._jsxkn[ac];continue;}else{if(!V.isEnabled()){continue;}}if(V.isMatch(e)){if(!Mb)V.invoke(this,[e]);W=true;}}}if(W)e.cancelAll();return W;};i.registerHotKey=function(k,d,f,o,c){var yc;if(k instanceof jsx3.gui.HotKey){yc=k;}else{var jb=typeof(k)=="function"?k:this[k];if(!(typeof(jb)=="function"))throw new jsx3.IllegalArgumentException("vntCallback",k);yc=new jsx3.gui.HotKey(jb,d,f,o,c);}if(this._jsxkn==null)this._jsxkn={length:0};var fb=yc.getKey();this._jsxkn.length+=(this._jsxkn[fb]?0:1);this._jsxkn[fb]=yc;return yc;};i.hasHotKey=function(){return this._jsxkn!=null&&this._jsxkn.length>0;};i.setAlwaysCheckHotKeys=function(k){this.jsxalwayscheckhk=k;return this;};i.getAlwaysCheckHotKeys=function(){return this.jsxalwayscheckhk;};i.clearHotKeys=function(){this._jsxkn=null;};j.getVersion=function(){return "3.00.00";};i.isOldEventProtocol=function(){var Lb=this.getServer();return Lb&&Lb.getEnv("EVENTSVERS")<3.1;};});jsx3.Event=jsx3.gui.Interactive;
jsx3.require("jsx3.gui.Interactive");jsx3.Class.defineInterface("jsx3.gui.Alerts",null,function(h,i){var G=jsx3.gui.Interactive;i.getAlertsParent=jsx3.Method.newAbstract();i.alert=function(c,r,g,o,s){var hb=jsx3.net.URIResolver.JSX;var Kc=this.getAlertsParent().loadAndCache("xml/components/dialog_alert.xml",false,null,hb);var vc=Kc.getDescendantOfName("ok");if(c!=null)Kc.getDescendantOfName("title").setText(c);if(r!=null)Kc.getDescendantOfName("message").setText(r);if(o===false)Kc.hideButton();else{if(o!=null)vc.setText(o);}if(g!=null){var tb="Ye";vc.Ye=g;vc.setEvent("this."+tb+"(this.getAncestorOfType(jsx3.gui.Dialog));",G.EXECUTE);}this.configureAlert(Kc,s);this.getAlertsParent().paintChild(Kc);Kc.focus();return Kc;};i.prompt=function(g,c,k,e,m,q,o){var lb=jsx3.net.URIResolver.JSX;var tb=this.getAlertsParent().loadAndCache("xml/components/dialog_prompt.xml",false,null,lb);var kc=tb.getDescendantOfName("ok");var vc=tb.getDescendantOfName("cancel");if(g!=null)tb.getDescendantOfName("title").setText(g);if(c!=null)tb.getDescendantOfName("message").setText(c);if(m!=null)kc.setText(m);if(q!=null)vc.setText(q);if(k!=null){var _="Ye";kc.Ye=k;kc.setEvent("var d = this.getAncestorOfType(jsx3.gui.Dialog); this."+_+"(d, d.getDescendantOfName('value').getValue());",G.EXECUTE);}if(e!=null){var _="Ye";vc.Ye=e;vc.setEvent("this."+_+"(this.getAncestorOfType(jsx3.gui.Dialog));",G.EXECUTE);}this.configureAlert(tb,o);this.getAlertsParent().paintChild(tb);jsx3.sleep(function(){tb.getDescendantOfName("value").focus();});return tb;};i.confirm=function(n,j,r,q,d,o,m,g,a,s){var ub=jsx3.net.URIResolver.JSX;var Bc=this.getAlertsParent().loadAndCache("xml/components/dialog_confirm.xml",false,null,ub);var rc=Bc.getDescendantOfName("ok");var lb=Bc.getDescendantOfName("cancel");var xb=Bc.getDescendantOfName("no");var jc=[rc,lb,xb];m=m!=null?m-1:0;if(n!=null)Bc.getDescendantOfName("title").setText(n);if(j!=null)Bc.getDescendantOfName("message").setText(j);if(d!=null)rc.setText(d);if(o!=null)lb.setText(o);if(q!=null){var xc="Ye";lb.Ye=q;lb.setEvent("this."+xc+"(this.getAncestorOfType(jsx3.gui.Dialog));",G.EXECUTE);}if(r!=null){var xc="Ye";rc.Ye=r;rc.setEvent("this."+xc+"(this.getAncestorOfType(jsx3.gui.Dialog));",G.EXECUTE);}if(g!=null||a!=null||m==3){if(a)xb.setText(a);if(g){var xc="Ye";xb.Ye=g;xb.setEvent("this."+xc+"(this.getAncestorOfType(jsx3.gui.Dialog));",G.EXECUTE);}xb.setDisplay(jsx3.gui.Block.DISPLAYBLOCK);}var uc=jc[m];if(uc){uc.setFontWeight("bold");Bc.registerHotKey(function(b){if(b.enterKey()){this.getDescendantOfName(uc.getName()).doExecute(b);b.cancelBubble();}},jsx3.gui.Event.KEY_ENTER,false,false,false);}this.configureAlert(Bc,s);this.getAlertsParent().paintChild(Bc);Bc.focus();return Bc;};i.configureAlert=function(m,k){if(k==null)return;if(k.width)m.setWidth(k.width,false);if(k.height)m.setHeight(k.height,false);if(k.noTitle)m.removeChild(m.getChild("title"));if(k.nonModal)m.setModal(jsx3.gui.Dialog.NONMODAL);};});jsx3.Alerts=jsx3.gui.Alerts;
jsx3.require("jsx3.gui.Painted","jsx3.gui.Interactive");jsx3.Class.defineClass("jsx3.gui.Block",jsx3.gui.Painted,[jsx3.gui.Interactive],function(l,k){var gb=jsx3.gui.Event;var F=jsx3.gui.Interactive;l.SCROLLSIZE=16;l.OVERFLOWSCROLL=1;l.OVERFLOWHIDDEN=2;l.OVERFLOWEXPAND=3;l.DEFAULTFONTNAME="Verdana";l.DEFAULTFONTSIZE=10;l.DEFAULTCOLOR="#000000";l.DEFAULTTEXT="&#160;";l.DEFAULTCLASSNAME="jsx30block";l.DEFAULTTAGNAME="span";l.FONTBOLD="bold";l.FONTNORMAL="normal";l.DISPLAYBLOCK="";l.DISPLAYNONE="none";l.VISIBILITYVISIBLE="";l.VISIBILITYHIDDEN="hidden";l.NULLSTYLE=-1;l.ALIGNLEFT="left";l.ALIGNCENTER="center";l.ALIGNRIGHT="right";l.ABSOLUTE=0;l.RELATIVE=1;l.MASK_NO_EDIT=jsx3.gui.Painted.MASK_NO_EDIT;l.MASK_ALL_EDIT=jsx3.gui.Painted.MASK_ALL_EDIT;l.MASK_EAST_ONLY={NN:false,EE:true,SS:false,WW:false,MM:false};l.SPACE=jsx3.resolveURI("jsx:///images/spc.gif");jsx3.html.loadImages(l.SPACE);k.init=function(h,q,j,f,c,m){this.jsxsuper(h);if(q!=null)this.setLeft(q);if(j!=null)this.setTop(j);if(f!=null)this.setWidth(f);if(c!=null)this.setHeight(c);if(m!=null)this.setText(m);};k.getBackgroundColor=function(){return this.jsxbgcolor;};k.setBackgroundColor=function(g,m){this.jsxbgcolor=g;if(m)this.updateGUI("backgroundColor",g==l.NULLSTYLE?"":g);return this;};k.getBackground=function(){return this.jsxbg;};k.setBackground=function(j){this.jsxbg=j;return this;};k.getBorder=function(){return this.jsxborder;};k.setBorder=function(e,n){this.jsxborder=e;if(n)this.recalcBox(["border"]);else this.C5();return this;};k.getColor=function(){return this.jsxcolor;};k.setColor=function(b,h){this.jsxcolor=b;if(h)this.updateGUI("color",b==l.NULLSTYLE?"":b);return this;};k.getCursor=function(){return this.jsxcursor;};k.setCursor=function(f,i){this.jsxcursor=f;if(i)this.updateGUI("cursor",f);return this;};k.getCSSOverride=function(){return this.jsxstyleoverride;};k.setCSSOverride=function(o){this.jsxstyleoverride=o;return this;};k.getClassName=function(){return this.jsxclassname;};k.setClassName=function(o){this.jsxclassname=o;return this;};k.getDisplay=function(){return this.jsxdisplay;};k.setDisplay=function(p,o){this.jsxdisplay=p;if(o){if(p!=l.DISPLAYNONE){var x=this.RL();if(!(this.getRelativePosition()==l.ABSOLUTE||x&&x.getBoxType()!="relativebox")){var Nc=jsx3.gui.Painted.Box.getCssFix().split(":");if(Nc.length==2)p=Nc[1];}}this.updateGUI("display",p);}return this;};k.getFontName=function(){return this.jsxfontname;};k.setFontName=function(i){this.jsxfontname=i;return this;};k.getFontSize=function(){return this.jsxfontsize;};k.setFontSize=function(a){this.jsxfontsize=a;return this;};k.getFontWeight=function(){return this.jsxfontweight;};k.setFontWeight=function(j){this.jsxfontweight=j;return this;};k.getHeight=function(){return this.jsxheight;};k.setHeight=function(h,e){this.jsxheight=h;if(e){var Lc=this.RL(true);this.nW({height:h,parentwidth:Lc.implicit.parentwidth,parentheight:Lc.implicit.parentheight},true);}else{this.C5();}return this;};k.getIndex=function(){return this.jsxindex;};k.setIndex=function(m,r){this.jsxindex=m;if(r){var Tb=this.getRendered();if(Tb!=null)Tb.tabIndex=m;}return this;};l.getJSXParent=function(g){return jsx3.html.getJSXParent(g);};k.getLeft=function(){return this.jsxleft;};k.setLeft=function(s,b){this.jsxleft=s;if(b){if(s==null)s=0;var qc=this.RL(true);this.nW({left:s,parentwidth:qc.implicit.parentwidth,parentheight:qc.implicit.parentheight},true,true);}else{this.vQ(false);}return this;};k.setDimensions=function(b,o,h,p,a){if(b instanceof Array){this.setLeft(b[0],a);this.setTop(b[1],a);this.setWidth(b[2],a);this.setHeight(b[3],a);}else{this.setLeft(b,a);this.setTop(o,a);this.setWidth(h,a);this.setHeight(p,a);}};k.getDimensions=function(){return [this.getLeft(),this.getTop(),this.getWidth(),this.getHeight()];};k.getMargin=function(){return this.jsxmargin;};k.setMargin=function(r,h){this.jsxmargin=r;if(h)this.recalcBox(["margin"]);else this.C5();return this;};k.getMaskProperties=function(){var Q={};Q.NN=true;Q.SS=true;Q.EE=true;Q.WW=true;Q.MM=this.getRelativePosition()==l.ABSOLUTE;return Q;};k.doBeginMove=function(m,s){if(m.leftButton()){this.jsxsupermix(m,s);gb.subscribe(gb.MOUSEUP,this,"doEndMove");m.cancelAll();}};k.doEndMove=function(f){f=f.event;var ic=this.getRendered(f);if(f.leftButton()){gb.unsubscribe(gb.MOUSEUP,this,"doEndMove");this.jsxsupermix(f,ic);}else{this._4(f,ic);}};k.doBeginDrag=function(h,e){if(h.leftButton())this.doDrag(h,e,null);};k.getOverflow=function(){return this.jsxoverflow;};k.setOverflow=function(j){this.jsxoverflow=j;return this;};k.getPadding=function(){return this.jsxpadding;};k.setPadding=function(s,i){this.jsxpadding=s;if(i)this.recalcBox(["padding"]);else this.C5();return this;};k.getPropertiesPath=function(){return null;};k.getModelEventsPath=function(){return null;};k.getRelativePosition=function(){return this.jsxrelativeposition;};k.setRelativePosition=function(o,e){this.C5();this.jsxrelativeposition=o;if(e){if(o==l.ABSOLUTE){this.setLeft(this.getLeft()?this.getLeft():0,true);this.setTop(this.getTop()?this.getTop():0,true);this.updateGUI("margin","0px");}else{this.updateGUI("left","0px");this.updateGUI("top","0px");if(this.getMargin())this.setMargin(this.getMargin(),true);}this.updateGUI("position",o==l.RELATIVE?"relative":"absolute");if(this.getDisplay()!=l.DISPLAYNONE)this.setDisplay(l.DISPLAYBLOCK,true);}return this;};k.getTagName=function(){return this.jsxtagname;};k.setTagName=function(r){this.jsxtagname=r;return this;};k.getText=function(){return this.jsxtext;};k.setText=function(g,f){this.jsxtext=g;if(f){if(this.getChild(0)!=null||this.RL(true).pQ(0)!=null){this.repaint();}else{var _=this.getRendered();if(_!=null)_.innerHTML=g;}}return this;};k.getTextAlign=function(){return this.jsxtextalign;};k.setTextAlign=function(r){this.jsxtextalign=r;return this;};k.getTip=function(){return this.jsxtip;};k.setTip=function(g){this.jsxtip=g;var ab;if(ab=this.getRendered())ab.title=g;return this;};k.getTop=function(){return this.jsxtop;};k.setTop=function(o,m){this.jsxtop=o;if(m){if(o==null)o=0;var Ic=this.RL(true);this.nW({top:o,parentwidth:Ic.implicit.parentwidth,parentheight:Ic.implicit.parentheight},true,true);}else{this.vQ(false);}return this;};k.updateGUI=function(r,b){var jb=this.getRendered();if(jb!=null){try{jb.style[r]=b;}catch(Kc){}}};k.getVisibility=function(){return this.jsxvisibility;};k.setVisibility=function(h,g){this.jsxvisibility=h;if(g)this.updateGUI("visibility",h);return this;};k.getWidth=function(){return this.jsxwidth;};k.setWidth=function(h,p){this.jsxwidth=h;if(p){var fb=this.RL(true);this.nW({width:h,parentwidth:fb.implicit.parentwidth,parentheight:fb.implicit.parentheight},true);}else{this.C5();}return this;};k.getZIndex=function(){return this.jsxzindex;};k.setZIndex=function(e,q){this.jsxzindex=e;if(q)this.updateGUI("zIndex",e);return this;};k.k7=function(j,g,h){this.B_(j,g,h,2);};k.T5=function(c){this.applyDynamicProperties();if(this.getParent()&&(c==null||isNaN(c.parentwidth)||isNaN(c.parentheight))){c=this.getParent().IO(this);}else{if(c==null){c={};}}var D=c.boxtype&&c.boxtype!="box"||this.getRelativePosition()!=0;var rb=D?null:c.left?c.left:this.getLeft();var fb=D?null:c.top?c.top:this.getTop();if(!D&&!rb)rb=0;if(!D&&!fb)fb=0;var S,zc,hb,vc;if(c.boxtype==null)c.boxtype=D?"relativebox":"box";if(c.tagname==null)c.tagname=(S=this.getTagName())?S.toLowerCase():jsx3.gui.Block.DEFAULTTAGNAME;if(c.left==null&&c.boxtype=="box")c.left=rb;if(c.top==null&&c.boxtype=="box")c.top=fb;if(c.width==null)c.width=c.width?c.width:this.getWidth();if(c.height==null)c.height=c.height?c.height:this.getHeight();if(c.width=="100%"||c.tagName=="div"&&this.AN()==""){c.tagname="div";c.container=true;}if((zc=this.getPadding())!=null&&zc!="")c.padding=zc;if(D&&(hb=this.getMargin())!=null&&hb!="")c.margin=hb;if((vc=this.getBorder())!=null&&vc!="")c.border=vc;return new jsx3.gui.Painted.Box(c);};k.paint=function(m){this.applyDynamicProperties();m=m==null?this.AN():m;var zb=this.getId();var fc={};if(this.hasEvent(F.JSXDOUBLECLICK))fc[gb.DOUBLECLICK]=true;if(this.hasEvent(F.JSXCLICK))fc[gb.CLICK]=true;if(this.hasEvent(F.JSXKEYDOWN))fc[gb.KEYDOWN]=true;var tc="";if(this.getCanSpy()==1){fc[gb.MOUSEOVER]=true;fc[gb.MOUSEOUT]=true;}if(this.getCanMove()==1){if(this.getCanMove()==1){fc[gb.MOUSEDOWN]="doBeginMove";}}else{if(this.getMenu()!=null){fc[gb.MOUSEUP]=true;}else{if(this.getCanDrop()==1){fc[gb.MOUSEUP]=true;}}}if(fc[gb.MOUSEDOWN]==null&&this.getCanDrag()==1){fc[gb.MOUSEDOWN]="doBeginDrag";tc=tc+(" JSXDragId=\""+zb+"\" JSXDragType=\"JSX_GENERIC\"");}var rb=this.lM(fc,0)+tc;var Q=this.renderAttributes(null,true);var bb=this.RL(true);bb.setAttributes(this.CI()+this.vH()+rb+" id=\""+zb+"\" label=\""+this.getName()+"\" class=\""+this.CH()+"\" "+Q);bb.setStyles(this.g0()+this.UZ()+this.K2()+this.QP()+this.A0()+this.oY()+this.d9()+this.D6()+this.eQ()+this.I6()+this.T1()+this.paintBlockDisplay()+this.iN());return bb.paint().join(m+this.paintChildren());};k.CL=function(r,n){if(this.getCanSpy()==1)this.doSpyOver(r,n);if(this.getCanDrop()==1)this.doDrop(r,n,jsx3.EventHelp.ONBEFOREDROP);};k.u2=function(d,i){if(this.getCanSpy()==1)this.doSpyOut(d,i);if(this.getCanDrop()==1)this.doDrop(d,i,jsx3.EventHelp.ONCANCELDROP);};k._4=function(o,q){if(this.getCanDrop()==1)this.doDrop(o,q,jsx3.EventHelp.ONDROP);else this.jsxsupermix(o,q);};k.UZ=function(){var Nc=this.getBackgroundColor();return Nc?"background-color:"+Nc+";":"";};k.K2=function(){return this.getBackground()?this.getBackground()+";":"";};k.QP=function(){var bc=this.getColor();return bc?"color:"+bc+";":"";};k.I6=function(){var Nc=this.getCursor();return Nc?"cursor:"+Nc+";":"";};k.iN=function(){return this.getCSSOverride()?this.getCSSOverride():"";};k.CH=function(){var v=this.getClassName();return l.DEFAULTCLASSNAME+(v?" "+v:"");};k.paintBlockDisplay=function(){if(jsx3.util.strEmpty(this.getDisplay())||this.getDisplay()=="block"){var O=this.RL();if(this.getWidth()=="100%"){return "display:block;";}else{return "";}}else{if(this.getDisplay()=="none"){return "display:none;";}}return "";};k.MU=function(){var Dc=this.getDisplay();return jsx3.util.strEmpty(Dc)||Dc==l.DISPLAYBLOCK?"":"display:none;";};k.oY=function(){var Hb=this.getFontName();return Hb?"font-family:"+Hb+";":"";};k.g0=function(){var Nb=parseInt(this.getFontSize());return isNaN(Nb)?"":"font-size:"+Nb+"px;";};k.D6=function(){var bc=this.getFontWeight();return bc?"font-weight:"+bc+";":"";};k.CI=function(a){if(a==null)a=this.getIndex();return a!=null?" tabindex=\""+a+"\" jsxtabindex=\""+a+"\"":"";};k.A0=function(){if(this.getOverflow()==l.OVERFLOWSCROLL){return "overflow:auto;";}else{if(this.getOverflow()==l.OVERFLOWHIDDEN){return "overflow:hidden;";}else{return "";}}};k.fY=function(){return this.getTagName()?this.getTagName():l.DEFAULTTAGNAME;};k.AN=function(){return this.getText()?this.getText():"";};k.eQ=function(){var ub=this.getTextAlign();return ub?"text-align:"+ub+";":"";};k.vH=function(){var Qb=this.getTip();if(Qb!=null){Qb=Qb.doReplace("\"","&quot;");return Qb?" title=\""+Qb+"\" ":"";}else{if(jsx3.gui.Form&&this.instanceOf(jsx3.gui.Form)){var E=this.getKeyBinding();return E?" title=\""+E.doReplace("\"","&quot;")+"\" ":"";}else{return "";}}};k.T1=function(){return jsx3.util.strEmpty(this.getVisibility())||this.getVisibility()==l.VISIBILITYVISIBLE?"":"visibility:hidden;";};k.d9=function(){var R=this.getZIndex();return isNaN(R)?"":"z-index:"+R+";";};k.showMask=function(d){if(this._jsxQD)this.hideMask();var Ub;if(Ub=this.getRendered()){var sc=this.getAbsolutePosition().H;if(Ub.onfocus)Ub._jsxwx=Ub.onfocus;jsx3.html.addEventListener(Ub,"onfocus",l.Wf);if(Ub.tabIndex)Ub._jsxtabindex=Ub.tabIndex;Ub.tabIndex=0;this._jsxQD=jsx3.gui.Heavyweight.getKey();var rc=(new l(this._jsxQD,0,0,"100%","100%",d)).setOverflow(l.OVERFLOWHIDDEN).setFontWeight(l.FONTBOLD).setTextAlign(l.ALIGNCENTER).setIndex(0).setRelativePosition(0).setZIndex(32000).setDynamicProperty("jsxbgcolor","@Solid Shadow").setDynamicProperty("jsxbg","@Mask 70%").setDynamicProperty("jsxcursor","@Wait");rc.setWidth("100%");rc.setHeight("100%");rc.setPadding(parseInt(sc/2));rc.setEvent("if (objEVENT.tabKey() && objEVENT.shiftKey()) { this.getParent().focus(); }",F.JSXKEYDOWN);rc.setAttribute("onfocus","var objEVENT = jsx3.gui.Event.wrap(event); if (objEVENT.shiftKey()) { jsx3.GO(this.id).getParent().focus(); }");this.setChild(rc);this.paintChild(rc);}};l.Wf=function(i){var rc=jsx3.GO(this.id);if(rc){var G=gb.wrap(i||window.event);if(!G.shiftKey()){if(rc.getChildren().length)rc.getLastChild().focus();}}};k.hideMask=function(){var Fb;if(Fb=jsx3.GO(this._jsxQD)){this.removeChild(Fb);delete this._jsxQD;var X;if(X=this.getRendered()){if(X._jsxtabindex){X.tabIndex=X._jsxtabindex;}else{X.removeAttribute("tabIndex");}jsx3.html.removeEventListener(X,"onfocus",l.Wf);if(X._jsxwx){X.onfocus=X._jsxwx;delete X._jsxwx;}else{}}}};l.getVersion=function(){return "3.00.00";};k.onDestroy=function(h){this.jsxsuper(h);this.doEvent(jsx3.gui.Interactive.DESTROY,{objPARENT:h});};});jsx3.Block=jsx3.gui.Block;
jsx3.require("jsx3.xml.Cacheable","jsx3.gui.Block");jsx3.Class.defineClass("jsx3.gui.BlockX",jsx3.gui.Block,[jsx3.xml.Cacheable],function(d,j){j.init=function(k,n,i,f,c){this.jsxsuper(k,n,i,f,c);};j.paint=function(){this.applyDynamicProperties();return this.jsxsuper(this.doTransform());};j.onDestroy=function(b){this.jsxsuper(b);this.onDestroyCached(b);};d.getVersion=function(){return "3.00.00";};});jsx3.BlockX=jsx3.gui.BlockX;
jsx3.require("jsx3.gui.Form","jsx3.gui.Block");jsx3.Class.defineClass("jsx3.gui.ToolbarButton",jsx3.gui.Block,[jsx3.gui.Form],function(r,d){var Ob=jsx3.gui.Form;var z=jsx3.gui.Interactive;var nc=jsx3.gui.Event;r.TYPENORMAL=0;r.TYPECHECK=1;r.TYPERADIO=2;r.STATEOFF=0;r.STATEON=1;r.IMAGEDOWN=jsx3.resolveURI("jsx:///images/tbb/down.gif");r.IMAGEON=jsx3.resolveURI("jsx:///images/tbb/on.gif");r.IMAGEOVER=jsx3.resolveURI("jsx:///images/tbb/over.gif");r.DEFAULTIMAGE=jsx3.resolveURI("jsx:///images/tbb/default.gif");r.BORDERCOLOR="#9B9BB7";jsx3.html.loadImages(r.IMAGEDOWN,r.IMAGEON,r.IMAGEOVER,r.DEFAULTIMAGE);d.init=function(l,c,i){this.jsxsuper(l,null,null,null,null);if(c!=null)this.setType(c);if(i!=null)this.setTip(i);};d.getDisabledImage=function(){return this.jsxdisabledimage!=null&&this.jsxdisabledimage.trim()!=""?this.jsxdisabledimage:this.getImage();};d.setDisabledImage=function(s){this.jsxdisabledimage=s;return this;};d.doValidate=function(){var bb=this.getType==r.TYPENORMAL||this.getRequired()==Ob.OPTIONAL||this.getState()==r.STATEON;return this.setValidationState(bb?Ob.STATEVALID:Ob.STATEINVALID).getValidationState();};d.getImage=function(){return this.jsximage!=null&&this.jsximage.trim()!=""?this.jsximage:null;};d.setImage=function(l){this.jsximage=l;return this;};d.getType=function(){return this.jsxtype==null?r.TYPENORMAL:this.jsxtype;};d.setType=function(e){this.jsxtype=e;return this;};d.DY=function(o,q){if(o.spaceKey()||o.enterKey()){this.wd(o,q);o.cancelAll();}};d.getMaskProperties=function(){return jsx3.gui.Block.MASK_NO_EDIT;};d.mL=function(s,m){if(!s.leftButton())return;m.style.backgroundImage="url("+r.IMAGEDOWN+")";m.childNodes[3].style.backgroundColor=r.BORDERCOLOR;if(this.getEvent(z.MENU)!=null)m.childNodes[2].style.backgroundImage="url("+r.IMAGEDOWNMENU+")";};d._4=function(p,n){if(p.leftButton()){n.style.backgroundImage="";n.childNodes[3].style.backgroundColor="";}else{if(p.rightButton()){this.jsxsupermix(p,n);}}};d.CL=function(s,m){if(this.getState()==r.STATEOFF){m.style.backgroundImage="url("+r.IMAGEOVER+")";m.childNodes[3].style.backgroundColor="#808080";}};d.u2=function(j,c){if(this.getState()==r.STATEOFF){c.style.backgroundImage="";c.childNodes[3].style.backgroundColor="";}};d.doExecute=function(o){if(o==null)o=true;this.wd(o,this.getRendered(o instanceof nc?o:null));};d.doClick=function(){this.wd(true,this.getRendered());};d.wd=function(j,c){var R=this.doEvent(z.EXECUTE,{objEVENT:j instanceof nc?j:null});if(R!==false){if(this.getType()==r.TYPERADIO){this.Vf(r.STATEON,j,c);}else{if(this.getType()==r.TYPECHECK){this.Vf(this.getState()==r.STATEON?r.STATEOFF:r.STATEON,j,c);}}}};d.getGroupName=function(){return this.jsxgroupname!=null&&this.getType()==r.TYPERADIO?this.jsxgroupname:null;};d.setGroupName=function(j){if(this.getType()==r.TYPERADIO)this.jsxgroupname=j;return this;};d.getDivider=function(){return this.jsxdivider!=null?this.jsxdivider:0;};d.setDivider=function(p,j){this.jsxdivider=p;if(j)this.recalcBox(["border","padding"]);else this.C5();return this;};d.getState=function(){return this.getType()==r.TYPENORMAL?r.STATEOFF:this.jsxstate==null?r.STATEOFF:this.jsxstate;};d.setState=function(e){this.Vf(e,this.isOldEventProtocol(),this.getRendered());return this;};d.Vf=function(l,c,j){var Gc=false;if(this.getType()==r.TYPERADIO&&l==r.STATEON){var Lb=this.getGroupName();var t=this.getParent().findDescendants(function(k){return k instanceof r&&k.getGroupName()==Lb;},false,true,true);for(var gb=t.length-1;gb>=0;gb--){if(t[gb]!=this&&t[gb].getType()==r.TYPERADIO){t[gb].jsxstate=r.STATEOFF;var Lc=t[gb].getRendered(j);if(Lc!=null){Lc.style.backgroundImage="";Lc.childNodes[3].style.backgroundColor="";if(t[gb].getEvent(z.MENU)!=null)Lc.childNodes[2].style.backgroundImage="url("+r.IMAGEOFFMENU+")";}}else{if(t[gb]==this){if(j!=null){j.style.backgroundImage="url("+r.IMAGEON+")";j.childNodes[3].style.backgroundColor=r.BORDERCOLOR;if(this.getEvent(z.MENU)!=null)j.childNodes[2].style.backgroundImage="url("+r.IMAGEONMENU+")";}}}}Gc=true;}else{if(this.getType()==r.TYPERADIO){if(j!=null){j.style.backgroundImage="";j.childNodes[3].style.backgroundColor="";if(this.getEvent(z.MENU)!=null)j.childNodes[2].style.backgroundImage="url("+r.IMAGEOFFMENU+")";}Gc=true;}else{if(this.getType()==r.TYPECHECK){if(j!=null){if(l==r.STATEON){j.style.backgroundImage="url("+r.IMAGEON+")";j.childNodes[3].style.backgroundColor=r.BORDERCOLOR;if(this.getEvent(z.MENU)!=null)j.childNodes[2].style.backgroundImage="url("+r.IMAGEONMENU+")";}else{j.style.backgroundImage="";j.childNodes[3].style.backgroundColor="";if(this.getEvent(z.MENU)!=null)j.childNodes[2].style.backgroundImage="url("+r.IMAGEOFFMENU+")";}}Gc=true;}}}this.jsxstate=l;if(Gc&&c){var ub=null;if(c instanceof nc)ub={objEVENT:c};this.doEvent(z.CHANGE,ub);}return this;};d.setEnabled=function(n,e){if(this._jsxhotkey!=null)this._jsxhotkey.setEnabled(n==Ob.STATEENABLED);return this.jsxsupermix(n,e);};r.s5={};r.s5[nc.CLICK]="wd";r.s5[nc.KEYDOWN]=true;r.s5[nc.MOUSEDOWN]=true;r.s5[nc.MOUSEUP]=true;r.s5[nc.MOUSEOUT]=true;r.s5[nc.MOUSEOVER]=true;r.s5[nc.BLUR]="u2";r.s5[nc.FOCUS]="CL";d.k7=function(f,c,l){this.B_(f,c,l,3);};d.T5=function(){var nb=this.getRelativePosition()!=0;var Y,Cc,dc;var qc={};qc.height=22;if(nb){qc.margin=(Y=this.getMargin())!=null&&Y!=""?Y:"1 4 1 0";qc.tagname="span";qc.boxtype="relativebox";}else{qc.left=(Cc=this.getLeft())!=null&&Cc!=""?Cc:0;qc.top=(dc=this.getTop())!=null&&dc!=""?dc:0;qc.tagname="div";qc.boxtype="box";}if(this.getDivider()==1){qc.padding="0 0 0 4";qc.border="0px;0px;0px;solid 1px "+r.BORDERCOLOR;}var y=new jsx3.gui.Painted.Box(qc);qc={};qc.width=this.getImage()!=null&&this.getImage()!=""?22:3;qc.height=22;qc.tagname="span";qc.boxtype="relativebox";var Jb=new jsx3.gui.Painted.Box(qc);y.W8(Jb);qc={};if(jsx3.util.strEmpty(this.getText())){qc.width=1;}else{qc.padding="5 4 5 0";}qc.height=22;qc.tagname="span";qc.boxtype="relativebox";var xc=new jsx3.gui.Painted.Box(qc);y.W8(xc);qc={};qc.width=1;qc.height=22;qc.tagname="span";qc.boxtype="relativebox";var kb=new jsx3.gui.Painted.Box(qc);y.W8(kb);qc={};qc.width=1;qc.height=22;qc.tagname="span";qc.boxtype="relativebox";var ob=new jsx3.gui.Painted.Box(qc);y.W8(ob);return y;};d.paint=function(){this.applyDynamicProperties();var H;if((H=this.getKeyBinding())!=null){var ub=this;if(this._jsxhotkey!=null)this._jsxhotkey.destroy();this._jsxhotkey=this.doKeyBinding(function(b){ub.wd(b,ub.getRendered());},H);this._jsxhotkey.setEnabled(this.getEnabled()!=Ob.STATEDISABLED);}var Ib=this.getState()==r.STATEON?"background-image:url("+r.IMAGEON+");":"";var oc=this.T1();var pb=this.MU();var R=null,Z=null,Wb=null;if(this.getEnabled()==Ob.STATEENABLED){R=this.lM(r.s5,0);Z=this.getUriResolver().resolveURI(this.getImage());Wb="";}else{R="";Z=this.getUriResolver().resolveURI(this.getDisabledImage());Wb=jsx3.html.getCSSOpacity(0.4);}var jb=this.renderAttributes(null,true);var mc=this.RL(true);mc.setAttributes("id='"+this.getId()+"' "+"label='"+this.getName()+"' "+this.CI()+this.vH()+R+" class='jsx30toolbarbutton'"+jb);mc.setStyles(this.I6()+Ib+oc+pb+Wb+this.d9()+this.iN());var xc=mc.pQ(0);xc.setStyles("overflow:hidden;"+(Z!=null?"background-image:url("+Z+");":""));xc.setAttributes("class='jsx30toolbarbutton_img' unselectable='on'");var Hc=mc.pQ(1);Hc.setAttributes("class='jsx30toolbarbutton_lbl' unselectable='on'");var qb;if((qb=this.getText())!=null&&qb!=""){Hc.setStyles(this.QP()+this.oY()+this.g0());}else{qb="&#160;";Hc.setStyles("overflow:hidden;");}var Mc=mc.pQ(2);Mc.setAttributes("class='jsx30toolbarbutton_cap'");var Dc=mc.pQ(3);Dc.setAttributes("class='jsx30toolbarbutton_cap'");Dc.setStyles("overflow:hidden;"+(this.getState()==r.STATEON?"background-color:"+r.BORDERCOLOR+";":""));return mc.paint().join(xc.paint().join("&#160;")+Hc.paint().join(qb)+Mc.paint().join("&#160;")+Dc.paint().join("&#160;"));};d.I6=function(){return this.getEnabled()==Ob.STATEENABLED?"cursor:pointer;":"cursor:default;";};r.getVersion=function(){return "3.0.00";};d.emGetType=function(){return jsx3.gui.Matrix.EditMask.FORMAT;};d.emInit=function(s){this.jsxsupermix(s);if(this.getType()==r.TYPERADIO)this.setType(r.TYPENORMAL);this.subscribe(z.EXECUTE,this,"Mg");};d.emSetValue=function(b){};d.emGetValue=function(){return null;};d.emBeginEdit=function(s,o,b,e,f,h,m){var ec=m.childNodes[0].childNodes[0];if(ec){this.jsxsupermix(s,o,b,e,f,h,m);ec.focus();}else{return false;}};d.emPaintTemplate=function(){this.setEnabled(Ob.STATEDISABLED);var rc=this.paint();this.setEnabled(Ob.STATEENABLED);var I=this.paint();return this.PS(I,rc);};d.Mg=function(e){var U=this.emGetSession();if(U){}};});jsx3.ToolbarButton=jsx3.gui.ToolbarButton;
jsx3.require("jsx3.gui.Block");jsx3.Class.defineClass("jsx3.gui.WindowBar",jsx3.gui.Block,null,function(a,f){a.DEFAULTHEIGHT=26;a.DEFAULTBACKGROUND=jsx3.html.getCSSFade(false);a.DEFAULTBG="#c8c8d5";a.DEFAULTBGCAPTION="#aaaacb";a.DEFAULTBORDER="solid 1px #e8e8f5;solid 0px;solid 1px #a8a8b5;solid 0px;";a.DEFAULTBORDERCAPTION="solid 1px #9898a5";a.DEFAULTFONTWEIGHT=jsx3.gui.Block.FONTBOLD;a.DEFAULTFONTSIZE=11;a.TYPECAPTION=0;a.TYPETOOL=1;a.TYPEMENU=2;a.TYPETASK=3;f.init=function(s,b){this.jsxsuper(s);this.setRelativePosition(jsx3.gui.Block.RELATIVE);if(b!=null)this.setType(b);};f.getMaskProperties=function(){return jsx3.gui.Block.MASK_NO_EDIT;};f.getType=function(){return this.jsxbartype==null?a.TYPECAPTION:this.jsxbartype;};f.setType=function(b){this.jsxbartype=b;return this;};f.setText=function(i,d){this.jsxsuper(i,d);if(d){if(this.getType()==a.TYPECAPTION){var Bc=this.getParent();if(Bc instanceof jsx3.gui.Dialog&&Bc.getRendered()!=null){Bc.nt();}}}return this;};f.doBeginMove=function(m,s){if(jsx3.html.getJSXParent(m.srcElement())==this)this.getParent().doBeginMove(m,s);};a.s5={};a.s5[jsx3.gui.Event.MOUSEDOWN]="doBeginMove";f.k7=function(g,d,k){this.B_(g,d,k,2);};f.T5=function(r){this.applyDynamicProperties();if(this.getParent()&&(r==null||!isNaN(r.parentwidth)&&!isNaN(r.parentheight))){r=this.getParent().IO(this);}else{if(r==null){r={};}}var Gb=this.getBorder();var D=this.getRelativePosition()!==0;if(r.left==null&&!D&&!jsx3.util.strEmpty(this.getLeft()))r.left=this.getLeft();if(r.top==null&&!D&&!jsx3.util.strEmpty(this.getTop()))r.top=this.getTop();if(r.width==null)r.width="100%";if(r.height==null)r.height=a.DEFAULTHEIGHT;r.boxtype=D?"inline":"box";r.tagname="div";r.padding="0 0 0 4";r.border=Gb!=null?Gb:this.getType()==a.TYPECAPTION?a.DEFAULTBORDERCAPTION:a.DEFAULTBORDER;var oc=new jsx3.gui.Painted.Box(r);if(this.getType()==a.TYPECAPTION){var Jb={};Jb.left=6;Jb.top=6;Jb.tagname="span";Jb.boxtype="box";var bc=new jsx3.gui.Painted.Box(Jb);oc.W8(bc);}return oc;};f.paint=function(){this.applyDynamicProperties();var ec=this.RL(true);var t=null,qc=null,kb=null;if(this.getType()==a.TYPECAPTION){var Sb=ec.pQ(0);Sb.setAttributes("class=\"jsx30windowbar_lbl\"");Sb.setStyles(this.QP()+this.D6()+this.oY()+this.g0());kb=Sb.paint().join(this.AN());t="cursor:move;";qc=this.lM(a.s5,0);}else{t="cursor:default;";qc="";kb="";}var Ub=this.renderAttributes(null,true);ec.setAttributes("id=\""+this.getId()+"\" label=\""+this.getName()+"\" "+this.vH()+this.CI()+qc+" class=\"jsx30windowbar\""+Ub);ec.setStyles(t+this.eQ()+this.UZ()+this.d9()+this.K2()+this.iN());return ec.paint().join(kb+this.paintChildren());};f.CI=function(){return this.jsxsuper(this.getIndex()||Number(0));};f.UZ=function(){var eb=this.getBackgroundColor();return eb==null||eb!=""?"background-color:"+(eb?eb:this.getType()==a.TYPECAPTION?a.DEFAULTBGCAPTION:a.DEFAULTBG)+";":"";};f.K2=function(){if(this.getType()==a.TYPEMENU)return "";var lc=this.getBackground();return lc==null?a.DEFAULTBACKGROUND:lc;};f.getHeight=function(){var ib=this.jsxsuper();if(ib==null||isNaN(ib))ib=a.DEFAULTHEIGHT;return ib;};f.D6=function(){return this.getFontWeight()?"font-weight:"+this.getFontWeight()+";":"font-weight:"+jsx3.gui.Block.FONTBOLD+";";};f.g0=function(){return "font-size:"+(this.getFontSize()?this.getFontSize():a.DEFAULTFONTSIZE)+"px;";};f.eQ=function(){return "text-align:"+(this.getTextAlign()?this.getTextAlign():this.getType()==a.TYPECAPTION?jsx3.gui.Block.ALIGNRIGHT:jsx3.gui.Block.ALIGNLEFT)+";";};f.AN=function(){return this.getText()?this.getText():"";};f.beep=function(){jsx3.gui.F9(this.getRendered(),{filter:"none",backgroundColor:"#FFFFFF",backgroundImage:""});};a.getVersion=function(){return "2.4.00";};});jsx3.WindowBar=jsx3.gui.WindowBar;
jsx3.require("jsx3.gui.Alerts","jsx3.gui.Block","jsx3.gui.ToolbarButton");jsx3.Class.defineClass("jsx3.gui.Dialog",jsx3.gui.Block,[jsx3.gui.Alerts],function(b,r){var Eb=jsx3.gui.Event;var Jb=jsx3.gui.Interactive;b.MINIMIZED=0;b.MAXIMIZED=1;b.DEFAULTBACKGROUNDCOLOR="#e8e8f5";b.FIXED=0;b.RESIZEABLE=1;b.RESIZABLE=1;b.pF=jsx3.resolveURI("jsx:///images/dialog/window.gif");b.wi=jsx3.resolveURI("jsx:///images/dialog/close.gif");b.bG=jsx3.resolveURI("jsx:///images/dialog/min.gif");b.Vn=jsx3.resolveURI("jsx:///images/dialog/resize.gif");b.MODAL=1;b.NONMODAL=0;b.zB="JSX/images/dialog/max.gif";b.XD="JSX/images/dialog/restore.gif";b.KC=[null,32,32,32];b.jz=[10,10,10,10];b.dn=10;b.pD="JSXTBB_";r.init=function(l,j,g,e){this.jsxsuper(l,null,null,j,g);var R=new jsx3.gui.WindowBar(l+"_cbar");if(e!=null)R.setText(e);this.setChild(R,jsx3.app.Model.PERSISTEMBED,null,jsx3.app.Model.FRAGMENTNS);var D=new jsx3.gui.ToolbarButton(this.getName()+"_btn_min",null);D.setEvent("this.getParent().getParent().doToggleState();",Jb.EXECUTE);D.setDynamicProperty("jsximage","@Min Icon");D.setDynamicProperty("jsxtip","@Min Tip");R.setChild(D,jsx3.app.Model.PERSISTEMBED,null,jsx3.app.Model.FRAGMENTNS);D=new jsx3.gui.ToolbarButton(this.getName()+"_btn_close",null);D.setEvent("this.getParent().getParent().doClose();",Jb.EXECUTE);D.setDynamicProperty("jsximage","@Close Icon");D.setDynamicProperty("jsxtip","@Close Tip");R.setChild(D,jsx3.app.Model.PERSISTEMBED,null,jsx3.app.Model.FRAGMENTNS);};r.onAfterAssemble=function(l,n){if(this.getWindowState()==b.MAXIMIZED)this.setZIndex(n.getNextZIndex(jsx3.app.Server.Z_DIALOG));};r.getMaskProperties=function(){return this.getModal()==b.NONMODAL?jsx3.gui.Block.MASK_ALL_EDIT:jsx3.gui.Block.MASK_NO_EDIT;};r.doToggleState=function(q){var Kc=q!=null?q:this.getWindowState()==b.MAXIMIZED?b.MINIMIZED:b.MAXIMIZED;var sc;if((sc=this.getTaskButton())!=null){this.setWindowState(Kc);if(Kc==b.MAXIMIZED){this.setDisplay(jsx3.gui.Block.DISPLAYBLOCK,true);this.setZIndex(this.getServer().getNextZIndex(jsx3.app.Server.Z_DIALOG)*this.getZMultiplier(),true);var xb=this;}else{this.setDisplay(jsx3.gui.Block.DISPLAYNONE,true);var xb=sc;}sc.setState(Kc==b.MAXIMIZED?jsx3.gui.ToolbarButton.STATEON:jsx3.gui.ToolbarButton.STATEOFF);xb.focus();}else{var mb=this.Nk();if(Kc==b.MAXIMIZED){this.setWindowState(b.MAXIMIZED);var K=this.RL(true);mb.style.height=K.wI()+"px";mb.childNodes[2].style.height=K.wI()+"px";mb.childNodes[1].style.display="";if(this.getResize()){mb.childNodes[3].style.display="";mb.childNodes[4].style.display="";}this.setZIndex(this.getServer().getNextZIndex(jsx3.app.Server.Z_DIALOG)*this.getZMultiplier(),true);}else{this.setWindowState(b.MINIMIZED);mb.childNodes[1].style.display="none";var K=this.RL(true);var hc=K.JV()-K.wI();mb.style.height=32-hc+"px";mb.childNodes[2].style.height=32-hc+"px";if(this.getResize()){mb.childNodes[3].style.display="none";mb.childNodes[4].style.display="none";}}}};r.setDisplay=function(g,a){this.jsxdisplay=g;if(a)this.updateGUI("display",g);return this;};r.updateGUI=function(a,d){var ub=this.Nk();if(ub!=null){try{ub.style[a]=d;}catch(Kc){}}};r.focus=function(a){if(!a){jsx3.sleep(function(){this.focus(true);},"focus"+this.getId(),this);return;}var Ib=this.Nk();if(!Ib)return;if(this.getWindowState()==b.MINIMIZED){this.doToggleState(b.MAXIMIZED);}else{var Z=jsx3.app.Browser.isTableMoveBroken();if(Z){Ib.childNodes[1].style.display="none";}this.setZIndex(this.getServer().getNextZIndex(jsx3.app.Server.Z_DIALOG),true);var Wb=this.getCaptionBar();if(Wb!=null)Wb.focus();else this.Nk().focus();if(Z){Ib.childNodes[1].style.display="";}}};r.isFront=function(){if(this.getWindowState()==b.MINIMIZED)return false;var y=this.getParent();var Ib=y.getDescendantsOfType(b,true);for(var Ac=0;Ac<Ib.length;Ac++){if(Ib[Ac]!=this&&Ib[Ac].getWindowState()==b.MAXIMIZED&&Ib[Ac].getZIndex()>this.getZIndex())return false;}return true;};r.lm=function(o,k){if(!this.isFront()){var fc=this.ns();var Db=fc.style.display;var Yb=jsx3.app.Browser.isTableMoveBroken();if(Db!="none"&&Yb)fc.style.display="none";this.setZIndex(this.getServer().getNextZIndex(jsx3.app.Server.Z_DIALOG),true);if(Db!="none"&&Yb)fc.style.display=Db;}};r.ns=function(){var w=this.Nk();return w!=null?w.childNodes[1]:null;};r.getTaskButton=function(m){if(m==null){var xc=this.getServer();if(xc!=null)m=xc.getTaskBar();}if(m!=null){return m.getChild(b.pD+this.getId());}return null;};r.paintChild=function(q,k){var rb=this.Nk();if(rb!=null){if(this.getCaptionBar()==q){this.repaint();}else{this.jsxsuper(q,k,rb.childNodes[1]);}}};r.doClose=function(){this.getParent().removeChild(this);};r.onSetParent=function(c){var S=this.getServer();if(S!=null&&S!=c.getServer())this.Iv(S);return true;};r.onSetChild=function(j){this.jsxsuper(j);if(!this.getCaptionBar()&&b.Yd(j))this.vQ(true);return true;};r.Iv=function(e){if(e==null)e=this.getServer();var sb=this.getTaskButton(e.getTaskBar());if(sb!=null)sb.getParent().removeChild(sb);};r.onDestroy=function(s){this.Iv(s.getServer());this.jsxsuper(s);};r.getWindowState=function(){return this.jsxwindowstate!=null?this.jsxwindowstate:b.MAXIMIZED;};r.setWindowState=function(l){this.jsxwindowstate=l;return this;};r.getZMultiplier=function(){return this.jsxzmultiplier!=null?this.jsxzmultiplier:1;};r.setZMultiplier=function(p){this.jsxzmultiplier=p;return this;};r.getModal=function(){return this.jsxmodal!=null?this.jsxmodal:b.NONMODAL;};r.setModal=function(j){this.jsxmodal=j;return this;};r.doBeginMove=function(a,l){if(!a.leftButton())return;this._jsxfx=true;var sc=this.Nk();if(jsx3.app.Browser.isTableMoveBroken())sc.childNodes[1].style.display="none";this.jsxsupermix(a,sc);Eb.subscribe(Eb.MOUSEUP,this,"doEndMove");};r.doEndMove=function(j){if(!this._jsxfx)return;this._jsxfx=false;Eb.unsubscribe(Eb.MOUSEUP,this,"doEndMove");j=j.event;var ub=this.Nk();if(ub.childNodes[0]==j.srcElement()||ub.childNodes[0].childNodes[0]==j.srcElement()||ub.ownerDocument.getElementsByTagName("body")[0]){this.jsxsupermix(j,ub);if(!this.getEvent(Jb.AFTER_MOVE))this.constrainPosition();if(this.getWindowState()!=b.MINIMIZED){ub.childNodes[1].style.display="";}this.focus();var xc=this.findAncestor(function(h){return h.getOverflow()==jsx3.gui.Block.OVERFLOWHIDDEN;},false);if(xc)xc.getRendered().scrollLeft=0;}else{jsx3.util.Logger.getLogger(b.jsxclass.getName()).error("doEndMove: "+jsx3.html.getOuterHTML(j.srcElement()));}};r.Nk=function(){var X=this.getRendered();if(X!=null&&this.jsxmodal){return X.childNodes[1];}else{return X;}};r.getAbsolutePosition=function(p){return this.jsxsuper(p,this.Nk());};r.setLeft=function(f,i){this.jsxleft=f;if(i){this.br({left:f});}else{this.C5();}return this;};r.setTop=function(m,q){this.jsxtop=m;if(q){this.br({top:m});}else{this.C5();}return this;};r.setWidth=function(p,g){this.jsxwidth=p;if(g){this.br({width:this.jsxwidth});}else{this.C5();}return this;};r.setHeight=function(c,s){this.jsxheight=c;if(s){this.br({height:this.jsxheight});}else{this.C5();}return this;};r.doMaximize=function(h){if(this.getWindowState()==b.MINIMIZED)this.doToggleState(b.MAXIMIZED);if(this._jsxSm!=null){var gc=this.rE(this._jsxSm.jsxwidth,this._jsxSm.jsxheight);this.jsxwidth=gc[0];this.jsxheight=gc[1];this.jsxleft=this._jsxSm.jsxleft;this.jsxtop=this._jsxSm.jsxtop;delete this._jsxSm;var fb={left:this.getLeft(),top:this.getTop(),width:this.getWidth(),height:this.getHeight()};this.br(fb,true);if(h)h.setDynamicProperty("jsxtip","@Max Tip").setImage(b.zB).repaint();}else{this._jsxSm={};this._jsxSm.jsxwidth=this.getWidth();this._jsxSm.jsxheight=this.getHeight();this._jsxSm.jsxtop=this.getTop();this._jsxSm.jsxleft=this.getLeft();var ic=this.getParent().getAbsolutePosition();var S=this.Nk();var gc=this.rE(ic.W-b.jz[1]-b.jz[3],ic.H-b.jz[0]-b.jz[2]);this.jsxwidth=gc[0];this.jsxheight=gc[1];this.jsxleft=Math.min(parseInt(S.style.left),ic.W-this.jsxwidth-b.jz[1]);this.jsxtop=Math.min(parseInt(S.style.top),ic.H-this.jsxheight-b.jz[2]);var fb={left:this.getLeft(),top:this.getTop(),width:this.getWidth(),height:this.getHeight()};this.br(fb,true);if(h)h.setDynamicProperty("jsxtip","@Restore Tip").setImage(b.XD).repaint();}};r.getResize=function(){return this.jsxresize==null?b.RESIZABLE:this.jsxresize;};r.setResize=function(m){this.jsxresize=m;this.C5();return this;};r.setResizeParameters=function(a,d,s,l,m,o){this.jsxresize=a;this.jsxminx=d;this.jsxminy=s;this.jsxmaxx=l;this.jsxmaxy=m;};r.rE=function(a,p){a=Math.max(a,this.dx());p=Math.max(p,this.gi());if(typeof(this.jsxmaxx)=="number")a=Math.min(a,this.jsxmaxx);if(typeof(this.jsxmaxy)=="number")p=Math.min(p,this.jsxmaxy);return [a,p];};r.getCaptionBar=function(){return this.findDescendants(b.Yd,false,false,true);};b.Yd=function(c){return jsx3.gui.WindowBar&&c instanceof jsx3.gui.WindowBar&&c.getType()==jsx3.gui.WindowBar.TYPECAPTION;};r.yB=function(d,i){if(!d.leftButton())return;var Mc=this.doEvent(Jb.BEFORE_RESIZE,{objEVENT:d});if(Mc!==false){b._jsxwy=i.parentNode.childNodes[2];b._jsxwy.style.visibility="";b._jsxwy.style.zIndex=11;i.style.zIndex=12;var sb=this.RL(true).pQ(1);b._jsxoffx=b.dn+2;b._jsxoffy=b.dn+2;var ub=this;jsx3.gui.Interactive.DM(d,i,function(g,f){return ub.xn(g,f);});Eb.subscribe(Eb.MOUSEUP,this,"XB");}};r.xn=function(q,p){if(b._jsxwy){this._jsxZp=q+b._jsxoffx;this._jsxXk=p+b._jsxoffy;this._jsxZp=Math.max(this._jsxZp,this.dx());this._jsxXk=Math.max(this._jsxXk,this.gi());if(typeof(this.jsxmaxx)=="number")this._jsxZp=Math.min(this._jsxZp,this.jsxmaxx);if(typeof(this.jsxmaxy)=="number")this._jsxXk=Math.min(this._jsxXk,this.jsxmaxy);var rb=this.RL().pQ(1);rb.recalculate({width:this._jsxZp,height:this._jsxXk},b._jsxwy);return [this._jsxZp-b._jsxoffx,this._jsxXk-b._jsxoffy];}return [q,p];};r.dx=function(){var Fb=Number(this.jsxminx)||-1;return Math.max(25,Fb);};r.gi=function(){var Hc=Number(this.jsxminy)||-1;var sb=15;if(this.getCaptionBar()!=null)sb=sb+30;return Math.max(sb,Hc);};r.XB=function(a){a=a.event;Eb.unsubscribe(Eb.MOUSEUP,this,"XB");Eb.publish(a);if(!b._jsxwy)return;var Pb=this.RL().pQ(1);var T=Pb.jU();var zc=Pb.JV();b._jsxwy.style.visibility="hidden";b._jsxwy.style.zIndex=0;delete b._jsxwy;this.jsxwidth=T;this.jsxheight=zc;this.br({width:T,height:zc});this.doEvent(Jb.AFTER_RESIZE,{objEVENT:a});};r.recalcBox=function(){this.jsxsuper();this.br();};r.IO=function(a){var U=a==this.getCaptionBar()?this.RL(true):this.RL(true).pQ(0);return {parentwidth:U.XK(),parentheight:U.P5()};};r.br=function(c,a){if(a&&(c.left==null||c.top==null)){var rb=this.getParent().getAbsolutePosition();if(c.left==null)c.left=parseInt((rb.W-c.width)/2);if(c.top==null)c.top=parseInt((rb.H-c.height)/2);}this.nW(c,true);};r.T5=function(f){var vc=this.getWindowState()==b.MINIMIZED&&this.getServer().getTaskBar()==null;var Nc=this.getParent();if(Nc==null){Nc={H:this.getHeight(),W:this.getWidth()};}else{Nc=Nc.getAbsolutePosition();if(Nc==null||Nc.W==0)Nc={H:this.getHeight(),W:this.getWidth()};}var v=jsx3.util.strEmpty(this.getTop())?parseInt((Nc.H-this.getHeight())/2):this.getTop();var eb=jsx3.util.strEmpty(this.getLeft())?parseInt((Nc.W-this.getWidth())/2):this.getLeft();if(f==null)f={};if(f.left==null)f.left=eb;if(f.top==null)f.top=v;if(f.width==null)f.width=this.getWidth();if(f.height==null)f.height=vc?30:this.getHeight();f.tagname="div";f.boxtype="box";f.padding="2 2 2 2";f.border="solid 1px #c6c6c6;solid 1px #a6a6a6;solid 1px #a6a6a6;solid 1px #c6c6c6";var tc=new jsx3.gui.Painted.Box(f);var Fc=this.getCaptionBar();var bb={};bb.parentwidth=tc.XK();bb.parentheight=tc.P5();bb.width="100%";bb.height=this.getHeight()-(Fc!=null?Fc.getHeight()+8:6);bb.top=Fc!=null?Fc.getHeight()+4:2;bb.left=2;bb.tagname="div";bb.boxtype="box";bb.border="solid 1px #a6a6a6;solid 1px #c6c6c6;solid 1px #c6c6c6;solid 1px #a6a6a6";var Cc=new jsx3.gui.Painted.Box(bb);tc.W8(Cc);bb={};bb.left=-1;bb.top=-1;bb.width=this.getWidth();bb.height=vc?30:this.getHeight();bb.tagname="div";bb.boxtype="box";bb.padding="0";bb.border="dashed 1px #4070ff";var W=new jsx3.gui.Painted.Box(bb);tc.W8(W);bb={};bb.left=this.getWidth()-(b.dn+2);bb.top=this.getHeight()-(b.dn+2);bb.width=b.dn+1;bb.height=b.dn+1;bb.tagname="div";bb.boxtype="box";var Rb=new jsx3.gui.Painted.Box(bb);tc.W8(Rb);bb={};bb.left=this.getWidth()-(b.dn+2);bb.top=this.getHeight()-(b.dn+2);bb.width=b.dn;bb.height=b.dn;bb.tagname="div";bb.boxtype="box";var V=new jsx3.gui.Painted.Box(bb);tc.W8(V);return tc;};r.k7=function(h,e,j){var Lb=this.RL(true,h);if(e!=null)e=this.Nk();if(e!=null){var T=this.getCaptionBar();Lb.recalculate(h,e,j);var Ab=Lb.pQ(0);var H=this.getHeight()-(T!=null?T.getHeight()+8:6);Ab.recalculate({parentwidth:Lb.XK(),parentheight:Lb.P5(),width:"100%",height:H},e.childNodes[1],j);var y=Lb.pQ(1);y.recalculate({width:this.getWidth(),height:this.getHeight()},e.childNodes[2],j);if(this.getResize()==b.RESIZABLE){var E=Lb.pQ(2);E.recalculate({top:this.getHeight()-(b.dn+2),left:this.getWidth()-(b.dn+2)},e.childNodes[3],j);var bb=Lb.pQ(3);bb.recalculate({top:this.getHeight()-(b.dn+2),left:this.getWidth()-(b.dn+2)},e.childNodes[4],j);}if(T)j.add(T,{width:"100%",parentwidth:Lb.XK(),height:T.getHeight()},e.childNodes[0],true);var eb=this.getChildren();var Hc=0;var vb=e.childNodes[T?1:0];if(vb){var vc=vb.childNodes;for(var fc=0;fc<eb.length;fc++){if(eb[fc]!=T){j.add(eb[fc],{parentwidth:Ab.XK(),parentheight:Ab.P5()},true,true);}else{Hc=1;}}}}};r.paint=function(){this.applyDynamicProperties();var yb=this.getId();var _b=this.getWindowState()==b.MINIMIZED&&this.getServer().getTaskBar()==null;var oc=_b?"display:none;":"";var xb=this.getServer()!=null?this.getServer().getNextZIndex(jsx3.app.Server.Z_DIALOG)*this.getZMultiplier():5000;var Hb={};if(this.getEvent("jsxkeypress")!=null)Hb[Eb.KEYPRESS]=true;if(this.getModal()!=b.MODAL)Hb[Eb.MOUSEDOWN]="lm";var wb=this.getModal()==b.MODAL;var db=this.lM(Hb,wb?1:0);var ib=this.renderAttributes(null,true);this.nt();var Zb=this.RL(true);if(_b){var tc=Zb.JV()-Zb.wI();var Jc="height:"+(32-tc)+"px;";}else{var Jc="";}if(wb){var gb=["<div id=\""+yb+"\" "+this.CI()+this.RX(Eb.KEYDOWN,"pG",0)+" style=\"width:100%;height:100%;position:absolute;left:0px;top:0px;z-index:"+xb+this.T1()+";\""+">"+"<div class=\"jsx30dialog_modal\""+this.RX(Eb.MOUSEDOWN,"he",1)+this.RX(Eb.MOUSEUP,"wz",1)+">&#160;</div>","<span "+this.CI()+this.RX(Eb.KEYDOWN,"pG",1)+" style=\"position:absolute;left:-1px;top:0px;width:1px;height:1px;overflow:hidden;\"></span></div>"];Zb.setAttributes("label=\""+this.getName()+"\""+db+this.CI()+" class=\""+this.CH()+"\" "+ib);Zb.setStyles("z-index:1;"+this.UZ()+this.K2()+this.MU()+this.iN()+Jc);}else{var gb=["",""];Zb.setAttributes("id=\""+yb+"\" label=\""+this.getName()+"\""+db+this.CI()+" class=\""+this.CH()+"\" "+ib);Zb.setStyles("z-index:"+xb+";"+this.UZ()+this.K2()+this.T1()+this.MU()+this.iN()+Jc);}var Vb=this.getCaptionBar();var A=Vb!=null?Vb.paint():"<span style='display:none;'>&#160;</span>";var W=Zb.pQ(0);W.setStyles("cursor:default;z-index:2;"+this.eQ()+this.A0()+oc);var Ec=this.getChildren().filter(function(l){return l!=Vb;});var uc=this.paintChildren(Ec);var kb=Zb.pQ(1);kb.setStyles("z-index:0;visibility:hidden;overflow:hidden;"+Jc);if(this.getResize()==b.RESIZABLE){var z=Zb.pQ(2);z.setStyles("overflow:hidden;cursor:se-resize;z-index:12;background-image:url("+jsx3.gui.Block.SPACE+");"+oc);z.setAttributes(this.RX(Eb.MOUSEDOWN,"yB",wb?2:1));var y=Zb.pQ(3);y.setStyles("overflow:hidden;z-index:1;background-image:url("+b.Vn+");"+oc);var Xb=z.paint().join("")+y.paint().join("");}else{var Xb="";}return gb[0]+Zb.paint().join(A+W.paint().join(uc)+kb.paint().join("&#160;")+Xb)+gb[1];};r.pG=function(d,i){if(d.srcElement()==i&&d.tabKey()){d.cancelReturn();(this.getCaptionBar()||this).focus();}else{d.setAttribute("jsxmodal",1);}};r.he=function(h,e){this.beep().focus();h.cancelBubble();};r.wz=function(f,g){this.focus();f.cancelBubble();};r.nt=function(){var Kb=this.getId();var sc;if(this.getServer()!=null&&(sc=this.getServer().getTaskBar())!=null&&this.getModal()!=b.MODAL){var A=this.getCaptionBar();var tc=this.getTaskButton();if(A!=null){if(tc==null){A.applyDynamicProperties();var wb=new jsx3.gui.ToolbarButton(b.pD+Kb,jsx3.gui.ToolbarButton.TYPECHECK,A.getText());sc.setChild(wb);wb.setEvent("var d = jsx3.GO('"+Kb+"'); d.doToggleState(d.isFront() ? jsx3.gui.Dialog.MINIMIZED : jsx3.gui.Dialog.MAXIMIZED); false;","jsxexecute");wb.setState(this.getWindowState()==b.MAXIMIZED?jsx3.gui.ToolbarButton.STATEON:jsx3.gui.ToolbarButton.STATEOFF);wb.setText((A.getText()||"").doTruncate(20));wb.setImage(b.pF);if(sc.getRendered()==null){jsx3.sleep(sc.repaint,"repaint"+sc.getId(),sc);}else{sc.paintChild(wb);}}else{tc.setText(A.getText().doTruncate(20)).repaint();}}else{if(tc!=null){tc.getParent().removeChild(tc);}}}};r.CI=function(){return this.jsxsuper(this.getIndex()||Number(0));};r.A0=function(){if(this.getOverflow()==jsx3.gui.Block.OVERFLOWHIDDEN){return "overflow:hidden;";}else{return "overflow:auto;";}};r.getAlertsParent=function(){return this;};r.constrainPosition=function(c){var G=this.getRendered();var Dc=G!=null;var wb=null;if(G){wb=G.parentNode;}else{if(this.getParent()){wb=this.getParent().getRendered();}}if(wb==null)return;var I=parseInt(wb.style.width);var Db=parseInt(wb.style.height);if(c){var sb=I-b.jz[1]-b.jz[3];var Qb=I-b.jz[0]-b.jz[2];if(this.getWidth()>sb)this.setWidth(sb,Dc);if(this.getHeight()>Qb)this.setHeight(Qb,Dc);var X=I-this.getWidth()-b.jz[1];var zc=Db-this.getHeight()-b.jz[2];if(this.getLeft()<b.jz[3])this.setLeft(b.jz[3],Dc);else{if(this.getLeft()>X)this.setLeft(X,Dc);}if(this.getTop()<b.jz[0])this.setTop(b.jz[0],Dc);else{if(this.getTop()>zc)this.setTop(zc,Dc);}}else{var qb=this.getDimensions();if(b.KC[3]==null&&qb[0]<0)this.setLeft(0,Dc);else{if(b.KC[3]!=null&&qb[0]<b.KC[3]-qb[2])this.setLeft(b.KC[3]-qb[2],Dc);else{if(b.KC[1]==null&&qb[0]>I-qb[2])this.setLeft(I-qb[2],Dc);else{if(b.KC[1]!=null&&qb[0]>I-b.KC[1])this.setLeft(I-b.KC[1],Dc);}}}if(b.KC[0]==null&&qb[1]<0)this.setTop(0,Dc);else{if(b.KC[0]!=null&&qb[1]<b.KC[0]-qb[3])this.setTop(b.KC[0]-qb[3],Dc);else{if(b.KC[2]==null&&qb[1]>Db-qb[3])this.setTop(Db-qb[3],Dc);else{if(b.KC[2]!=null&&qb[1]>Db-b.KC[2])this.setTop(Db-b.KC[2],Dc);}}}}};r.onRemoveChild=function(n,h){this.jsxsuper(n,h);if(n instanceof Array){this.C5();this.repaint();}else{if(b.Yd(n)){this.C5();this.repaint();}}};r.beep=function(){var Jc=this.getCaptionBar();if(Jc!=null){Jc.beep();}else{var A=this.Nk();jsx3.gui.F9(A,{backgroundColor:"#FFFFFF"});}return this;};r.getAlwaysCheckHotKeys=function(){return true;};b.getVersion=function(){return "3.0.00";};});jsx3.Dialog=jsx3.gui.Dialog;
jsx3.require("jsx3.gui.Form","jsx3.gui.Block");jsx3.Class.defineClass("jsx3.gui.Button",jsx3.gui.Block,[jsx3.gui.Form],function(r,b){var zc=jsx3.gui.Event;var Gc=jsx3.gui.Form;r.DEFAULTBACKGROUNDCOLOR="#e8e8f5";r.DEFAULTHIGHLIGHT="#f6f6ff";r.DEFAULTSHADOW="#a6a6af";r.DEFAULTHEIGHT=17;b._jsxtf=null;r.DEFAULTCLASSNAME="jsx30button";b.init=function(k,h,d,f,c){this.jsxsuper(k,h,d,f);this.setText(c);};b.doValidate=function(){return this.setValidationState(jsx3.gui.Form.STATEVALID).getValidationState();};b.DY=function(i,d){if(i.spaceKey()||i.enterKey()){this.wd(i,d);i.cancelAll();}};b.doClick=function(){var dc=zc.getCurrent();this.wd(dc);};b.doExecute=function(o){this.wd(o);};b.wd=function(o,q){if(o==null||o.leftButton()||!o.isMouseEvent())this.doEvent(jsx3.gui.Interactive.EXECUTE,{objEVENT:o});};b.mL=function(h,e){if(!h.leftButton())return;if(!this.getBorder()){e.style.border="solid 1px "+r.DEFAULTSHADOW;e.style.borderRightColor=r.DEFAULTHIGHLIGHT;e.style.borderBottomColor=r.DEFAULTHIGHLIGHT;}e.childNodes[0].focus();};b._4=function(p,n){if(p.leftButton()){if(!this.getBorder()){n.style.border="solid 1px "+r.DEFAULTHIGHLIGHT;n.style.borderRightColor=r.DEFAULTSHADOW;n.style.borderBottomColor=r.DEFAULTSHADOW;}}this.jsxsupermix(p,n);};b.u2=function(p,i){if(!this.getBorder()){i.style.border="solid 1px "+r.DEFAULTHIGHLIGHT;i.style.borderRightColor=r.DEFAULTSHADOW;i.style.borderBottomColor=r.DEFAULTSHADOW;}};b.getValue=function(){return this.getText();};b.setEnabled=function(f,o){if(this._jsxtf!=null)this._jsxtf.setEnabled(f==Gc.STATEENABLED);return this.jsxsupermix(f,o);};r.s5={};r.s5[zc.CLICK]="wd";r.s5[zc.KEYDOWN]=true;r.s5[zc.MOUSEDOWN]=true;r.s5[zc.MOUSEUP]=true;r.s5[zc.MOUSEOUT]=true;b.k7=function(j,g,h){var Jc=this.RL(true,j);if(g){Jc.recalculate(j,g,h);var ob=Jc.pQ(0);ob.recalculate({parentwidth:Jc.XK(),parentheight:Jc.P5()},g.childNodes[0],h);}};b.T5=function(p){this.applyDynamicProperties();if(this.getParent()&&(p==null||isNaN(p.parentwidth)||isNaN(p.parentheight))){p=this.getParent().IO(this);}else{if(p==null){p={};}}var V,ic;p.tagname="span";if(p.width==null&&!jsx3.util.strEmpty(this.getWidth()))p.width=this.getWidth();p.height=this.getHeight()==null?r.DEFAULTHEIGHT:this.getHeight();if(this.getRelativePosition()!=0){p.boxtype="relativebox";if((ic=this.getMargin())!=null&&ic!="")p.margin=ic;}else{p.boxtype="box";p.left=!jsx3.util.strEmpty(this.getLeft())?this.getLeft():0;p.top=!jsx3.util.strEmpty(this.getTop())?this.getTop():0;}p.padding=(V=this.getPadding())!=null&&V!=""?V:"2";p.border=this.getBorder()||"solid 1px "+r.DEFAULTHIGHLIGHT+";solid 1px "+r.DEFAULTSHADOW+";solid 1px "+r.DEFAULTSHADOW+";solid 1px "+r.DEFAULTHIGHLIGHT;var xb=new jsx3.gui.Painted.Box(p);var Sb={};Sb.parentwidth=xb.XK();Sb.parentheight=xb.P5();Sb.height="100%";if(p.width){Sb.width="100%";Sb.tagname="div";Sb.boxtype="inline";}else{Sb.tagname="span";Sb.boxtype="relativebox";}var oc=new jsx3.gui.Painted.Box(Sb);xb.W8(oc);return xb;};b.paint=function(){this.applyDynamicProperties();var O;if((O=this.getKeyBinding())!=null){var cc=this;if(this._jsxtf!=null)this._jsxtf.destroy();this._jsxtf=this.doKeyBinding(function(c){cc.wd(c);},O);this._jsxtf.setEnabled(this.getEnabled()!=jsx3.gui.Form.STATEDISABLED);}var Hb=this.lM(this.getEnabled()==jsx3.gui.Form.STATEENABLED?r.s5:null,0);var Gb=this.renderAttributes(null,true);var wc=this.RL(true);wc.setAttributes("id=\""+this.getId()+"\" label=\""+this.getName()+"\" "+this.vH()+Hb+" class=\""+this.CH()+"\" unselectable=\"on\" "+Gb);wc.setStyles(this.T1()+this.MU()+this.I6()+this.g0()+this.oY()+this.D6()+this.QP()+this.UZ()+this.d9()+this.eQ()+this.iN());var hc=wc.pQ(0);hc.setAttributes(this.CI()+" class=\"jsx30button_text\" unselectable=\"on\" ");hc.setStyles(this.eQ());return wc.paint().join(hc.paint().join(this.AN())+this.paintChildren());};b.UZ=function(){var K=this.getEnabled()!=Gc.STATEDISABLED?this.getBackgroundColor()||r.DEFAULTBACKGROUNDCOLOR:this.getDisabledBackgroundColor()||Gc.DEFAULTDISABLEDBACKGROUNDCOLOR;return "background-color:"+K+";";};b.I6=function(){return this.getEnabled()==jsx3.gui.Form.STATEENABLED?"cursor:pointer;":"cursor:default;";};b.CH=function(){var rb=this.getClassName();return r.DEFAULTCLASSNAME+(rb?" "+rb:"");};r.getVersion=function(){return "3.0.00";};b.emGetType=function(){return jsx3.gui.Matrix.EditMask.FORMAT;};b.emInit=function(o){this.jsxsupermix(o);this.subscribe(jsx3.gui.Interactive.EXECUTE,this,"Mg");};b.emSetValue=function(e){};b.emGetValue=function(){return null;};b.emBeginEdit=function(n,m,g,s,d,j,k){var Tb=jsx3.html.selectSingleElm(k,0,0,0);if(Tb){this.jsxsupermix(n,m,g,s,d,j,k);Tb.focus();}else{return false;}};b.emPaintTemplate=function(){this.setEnabled(Gc.STATEDISABLED);var qc=this.paint();this.setEnabled(Gc.STATEENABLED);var Lc=this.paint();return this.PS(Lc,qc);};b.Mg=function(d){var uc=this.emGetSession();if(uc){}};});jsx3.Button=jsx3.gui.Button;
jsx3.require("jsx3.gui.Form","jsx3.gui.Block");jsx3.Class.defineClass("jsx3.gui.TextBox",jsx3.gui.Block,[jsx3.gui.Form],function(d,m){var gb=jsx3.gui.Event;var F=jsx3.gui.Interactive;d.TYPETEXT=0;d.TYPETEXTAREA=1;d.TYPEPASSWORD=2;d.WRAPYES=1;d.WRAPNO=0;d.OVERFLOWNORMAL="";d.OVERFLOWAUTO="auto";d.OVERFLOWSCROLL="scroll";jsx3.gui.TextBox.DEFAULTBACKGROUNDCOLOR="#ffffff";d.VALIDATIONNONE="none";d.VALIDATIONSSN="ssn";d.VALIDATIONPHONE="phone";d.VALIDATIONEMAIL="email";d.VALIDATIONNUMBER="number";d.VALIDATIONLETTER="letter";d.VALIDATIONUSZIP="uszip";d.DEFAULTCLASSNAME="jsx30textbox";d.rd={};d.rd[d.VALIDATIONNONE]=/[\s\S]*/;d.rd[d.VALIDATIONSSN]=/^\d{3}-\d{2}-\d{4}$/;d.rd[d.VALIDATIONPHONE]=/^[0-9\-\(\) ]+$/;d.rd[d.VALIDATIONEMAIL]=/([a-zA-Z0-9_~\-\.]+)@([a-zA-Z0-9]+)\.[a-zA-Z0-9]{2,}/;d.rd[d.VALIDATIONNUMBER]=/^\d+$/;d.rd[d.VALIDATIONLETTER]=/^[a-zA-Z ,-\.]+$/;d.rd[d.VALIDATIONUSZIP]=/^\d{5}(-\d{4})?$/;m.init=function(j,o,r,h,e,b,i){this.jsxsuper(j,o,r,h,e);if(b!=null){this.setDefaultValue(b);this.setValue(b);}if(i!=null)this.setType(i);};m.M0=function(a,l){if(a.enterKey()&&this.getEvent(F.EXECUTE)){this.doEvent(F.EXECUTE,{objEVENT:a});}else{this.doEvent(F.JSXKEYPRESS,{objEVENT:a});}};m.gI=function(n,r){var w=this.doEvent(F.CHANGE,{objEVENT:n,strVALUE:r.value});if(w===false){r.value=this.jsxvalue;}else{this.jsxvalue=r.value;}};m.EN=function(s,j){this.doEvent(F.JSXKEYUP,{objEVENT:s});if(this.getType()==d.TYPETEXTAREA){var t=this.getMaxLength();if(t>0){var Zb=j.value;if(Zb&&Zb.length>t)j.value=Zb.substring(0,t);}}if(this.hasEvent(F.INCR_CHANGE)){var Ec=j.value;if(this._jsxur!=Ec){var Pb=this.doEvent(F.INCR_CHANGE,{objEVENT:s,strPREVIOUS:this._jsxur,strVALUE:Ec});if(Pb===false){j.value=this._jsxur!=null?this._jsxur:"";}else{this._jsxur=Ec;}}}};m.getMaxLength=function(){return this.jsxmaxlength!=null?this.jsxmaxlength:null;};m.setMaxLength=function(a){this.jsxmaxlength=a;return this;};m.setOverflow=function(r){this.jsxoverflow=r;return this;};m.getType=function(){return this.jsxtype==null?d.TYPETEXT:this.jsxtype;};m.setType=function(p){this.jsxtype=p;return this;};m.getValue=function(){var cb=this.getRendered();if(cb!=null){return cb.value;}else{return this.jsxvalue!=null?this.jsxvalue:this.getDefaultValue();}};m.LE=function(){var Ib=null;var qb=this.getRendered();if(qb!=null)Ib=qb.value;if(Ib==null)Ib=this.jsxvalue!=null?this.jsxvalue:this.getDefaultValue();Ib=Ib.toString().doReplace("&","&amp;").doReplace("<","&lt;").doReplace(">","&gt;");return Ib;};m.AN=function(){return this.getText()?this.getText():"";};m.getDefaultValue=function(){return this.AN();};m.setValue=function(r){this.jsxvalue=r;this._jsxur=r;var kb=this.getRendered();if(kb!=null)kb.value=r!=null?r:"";return this;};m.setDefaultValue=function(n){this.setText(n);return this;};m.getWrap=function(){return this.jsxwrap==null?d.WRAPYES:this.jsxwrap;};m.setWrap=function(b){this.jsxwrap=b;return this;};m.k7=function(k,h,g){this.B_(k,h,g,3);};m.T5=function(n){if(this.getParent()&&(n==null||isNaN(n.parentwidth)||isNaN(n.parentheight))){n=this.getParent().IO(this);}else{if(n==null){n={};}}this.applyDynamicProperties();var jc=this.getRelativePosition()!=0;var gc,T,vb,D,ec;var v=!jc&&!jsx3.util.strEmpty(this.getTop())?this.getTop():0;var S=!jc&&!jsx3.util.strEmpty(this.getLeft())?this.getLeft():0;if(n.left==null)n.left=S;if(n.top==null)n.top=v;if(n.width==null)n.width=(D=this.getWidth())!=null?D:100;if(n.height==null)n.height=(ec=this.getHeight())!=null?ec:18;var pc=this.getType();if(pc==d.TYPETEXT){n.tagname="input[text]";n.empty=true;}else{if(pc==d.TYPEPASSWORD){n.tagname="input[password]";n.empty=true;}else{n.tagname="textarea";}}if(n.boxtype==null)n.boxtype=jc?"inline":"box";n.padding=(gc=this.getPadding())!=null&&gc!=""?gc:"2 0 0 2";if(n.tagname!="textarea")n.margin=jc&&(T=this.getMargin())!=null&&T!=""?T:null;n.border=(vb=this.getBorder())!=null&&vb!=""?vb:"solid 1px #a6a6af;solid 1px #e6e6e6;solid 1px #e6e6e6;solid 1px #a6a6af";var Pb=new jsx3.gui.Painted.Box(n);return Pb;};m.paint=function(){this.applyDynamicProperties();var Lb=this.getId();var Xb=this.getType();var ic={};if(this.hasEvent(F.EXECUTE)||this.hasEvent(F.JSXKEYPRESS))ic[gb.KEYPRESS]=true;if(this.hasEvent(F.JSXKEYDOWN))ic[gb.KEYDOWN]=true;if(this.hasEvent(F.JSXKEYUP)||this.hasEvent(F.INCR_CHANGE)||this.getType()==d.TYPETEXTAREA&&this.getMaxLength()>0){ic[gb.KEYUP]=true;this._jsxur=this.getValue();}if(this.hasEvent(F.JSXBLUR))ic[gb.BLUR]=true;if(this.hasEvent(F.JSXFOCUS))ic[gb.FOCUS]=true;if(this.hasEvent(F.JSXDOUBLECLICK))ic[gb.DOUBLECLICK]=true;if(this.hasEvent(F.JSXCLICK))ic[gb.CLICK]=true;if(this.hasEvent(F.JSXMOUSEDOWN))ic[gb.MOUSEDOWN]=true;if(this.hasEvent(F.JSXMOUSEWHEEL))ic[gb.MOUSEWHEEL]=true;ic[gb.CHANGE]=true;var z=this.lM(ic,0);var H=this.renderAttributes(null,true);var kb=this.RL(true);if(Xb==d.TYPETEXT||Xb==d.TYPEPASSWORD){kb.setAttributes(this.Vo()+" id=\""+Lb+"\" label=\""+this.getName()+"\" "+this.WP()+this.Ot()+this.CI()+this.vH()+z+" value=\""+this.getValue().toString().doReplace("\"","&quot;")+"\" class=\""+this.CH()+"\" "+H);kb.setStyles(this.oY()+this.g0()+this.T1()+this.MU()+this.d9()+this.UZ()+this.K2()+this.QP()+this.eQ()+this.iN());var Kc="";}else{kb.setAttributes(" id=\""+Lb+"\" label=\""+this.getName()+"\" "+this.WP()+this.CI()+this.vH()+z+" class=\""+this.CH()+"\" "+this.renderAttributes()+this.pf());kb.setStyles(this.oY()+this.g0()+this.T1()+this.MU()+this.d9()+this.A0()+this.UZ()+this.K2()+this.QP()+this.eQ()+this.iN());var Kc=this.LE();}return kb.paint().join(Kc);};m.A0=function(){return "overflow:"+(this.getOverflow()?this.getOverflow():d.OVERFLOWNORMAL)+";";};m.pf=function(){return " wrap=\""+(this.getWrap()?"virtual":"off")+"\"";};m.UZ=function(){var K=this.getEnabled()!=jsx3.gui.Form.STATEDISABLED?this.getBackgroundColor()||d.DEFAULTBACKGROUNDCOLOR:this.getDisabledBackgroundColor()||jsx3.gui.Form.DEFAULTDISABLEDBACKGROUNDCOLOR;return "background-color:"+K+";";};m.Vo=function(){return " type=\""+(this.getType()==d.TYPETEXT?"text":"password")+"\"";};m.Ot=function(s){return this.getMaxLength()!=null?" MAXLENGTH=\""+parseInt(this.getMaxLength())+"\" ":"";};m.CH=function(){var Wb=this.getClassName();return d.DEFAULTCLASSNAME+(Wb?" "+Wb:"");};m.getValidationType=function(){return jsx3.util.strEmpty(this.jsxvalidationtype)?d.VALIDATIONNONE:this.jsxvalidationtype;};m.setValidationType=function(j){this.jsxvalidationtype=j;return this;};m.getValidationExpression=function(){return jsx3.util.strEmpty(this.jsxvalidationexpression)?null:this.jsxvalidationexpression;};m.setValidationExpression=function(o){this.jsxvalidationexpression=o;return this;};m.doValidate=function(){this.setValidationState(jsx3.gui.Form.STATEVALID);var x=this.getValue();var zb=null;if(x==null||x.trim()==""){if(this.getRequired()==jsx3.gui.Form.REQUIRED)this.setValidationState(jsx3.gui.Form.STATEINVALID);}else{if(typeof(x)=="string"){var rb=this.getValidationExpression();if(rb==null){zb=d.rd[this.getValidationType()];}else{zb=new RegExp(rb);}this.setValidationState(x.search(zb)==0?jsx3.gui.Form.STATEVALID:jsx3.gui.Form.STATEINVALID);}}return this.getValidationState();};m.beep=function(){jsx3.gui.F9(this.getRendered(),{backgroundColor:"#FFFF66"});};d.getVersion=function(){return "3.0.00";};m.emInit=function(i){this.jsxsupermix(i);var bc=F.JSXKEYDOWN;if(!this.hasEvent(bc))this.setEvent("1;",bc);this.subscribe(bc,this,"vl");};m.emUpdateDisplay=function(b,n){if(this.getType()==d.TYPETEXTAREA){var Cc=this.getWidth(),E=this.getHeight();var _b=this.emGetSession();_b.width=Cc;_b.height=E;var Kb=isNaN(Cc)?b.W:Math.min(parseInt(Cc),b.W);var Ib=isNaN(E)?b.H:Math.min(parseInt(E),n.H-b.T);this.setDimensions(b.L,b.T,Kb,Ib,true);}else{this.jsxsupermix(b,n);}};m.vl=function(q){var T=q.context.objEVENT;var Kc=false;if(!T.hasModifier(true)){var Nb=T.keyCode();var Jc=false;if(this.getType()==d.TYPETEXTAREA){Kc=!T.shiftKey()&&Nb==gb.KEY_ENTER;Jc=T.isArrowKey();}else{Jc=Nb==gb.KEY_ARROW_LEFT||Nb==gb.KEY_ARROW_RIGHT;}if(!Kc&&Jc){var wc=this.getRendered(T);var Bb=jsx3.html.getSelection(wc);var bc=wc.value;var X=Nb==gb.KEY_ARROW_LEFT||Nb==gb.KEY_ARROW_UP;Kc=X&&(Bb.getStartIndex()>0||Bb.getEndIndex()>0)||!X&&(Bb.getStartIndex()<bc.length||Bb.getEndIndex()<bc.length);}}if(Kc)T.cancelBubble();};});jsx3.TextBox=jsx3.gui.TextBox;
jsx3.require("jsx3.gui.Form","jsx3.gui.Block");jsx3.Class.defineClass("jsx3.gui.CheckBox",jsx3.gui.Block,[jsx3.gui.Form],function(n,f){n.UNCHECKED=0;n.CHECKED=1;n.PARTIAL=2;n.DEFAULTCLASSNAME="jsx30checkbox";f.init=function(c,h,q,a,l,g,s){this.jsxsuper(c,h,q,a,l,g);this.setDefaultChecked(s==null?n.CHECKED:s);this.jsxchecked=s;};f.getDefaultChecked=function(){return this.jsxdefaultchecked;};f.setDefaultChecked=function(j){this.jsxdefaultchecked=j;return this;};f.getChecked=function(){return this.jsxchecked!=null?this.jsxchecked:this.getDefaultChecked();};f.setChecked=function(g){if(this.jsxchecked!=g){this.jsxchecked=g;this.Ri();if(this.isOldEventProtocol())this.doEvent(jsx3.gui.Interactive.TOGGLE,{intCHECKED:g});}return this;};f.IU=function(j,c){if(!j.leftButton()&&j.isMouseEvent())return;if(this.getEnabled()==jsx3.gui.Form.STATEENABLED){var qc=this.getChecked()==n.CHECKED?n.UNCHECKED:n.CHECKED;this.jsxchecked=qc;this.Ri(c);this.doEvent(jsx3.gui.Interactive.TOGGLE,{objEVENT:j,intCHECKED:qc});}};f.Ri=function(k){if(k==null)k=this.getRendered();if(k!=null){jsx3.html.selectSingleElm(k,0,0,0).checked=this.jsxchecked==n.CHECKED;jsx3.html.selectSingleElm(k,0,0,1).style.visibility=this.jsxchecked==n.PARTIAL?"visible":"hidden";}};f.DY=function(k,b){if(k.enterKey()){this.IU(k,b);k.cancelAll();}};n.s5={};n.s5[jsx3.gui.Event.CLICK]=true;n.s5[jsx3.gui.Event.KEYDOWN]=true;f.k7=function(a,k,d){this.B_(a,k,d,3);};f.T5=function(q){if(this.getParent()&&(q==null||isNaN(q.parentwidth)||isNaN(q.parentheight))){q=this.getParent().IO(this);}else{if(q==null){q={};}}var W=this.getRelativePosition()!=0&&(!this.getRelativePosition()||this.getRelativePosition()==jsx3.gui.Block.RELATIVE);var zc,tc,U,D;if(q.tagname==null)q.tagname="span";if((zc=this.getBorder())!=null&&zc!="")q.border=zc;if(W&&(tc=this.getMargin())!=null&&tc!="")q.margin=tc;if(q.boxtype==null)q.boxtype=W?"relativebox":"box";if(q.left==null)q.left=!W&&!jsx3.util.strEmpty(this.getLeft())?this.getLeft():0;if(q.top==null)q.top=!W&&!jsx3.util.strEmpty(this.getTop())?this.getTop():0;if(q.height==null)q.height=(U=this.getHeight())!=null?U:18;if(q.width==null){if((D=this.getWidth())!=null)q.width=D;}var zb=new jsx3.gui.Painted.Box(q);var Nc={};Nc.tagname="div";Nc.boxtype="inline";var ib=new jsx3.gui.Painted.Box(Nc);zb.W8(ib);var Nc={};Nc.tagname="span";Nc.boxtype="box";Nc.width=16;Nc.parentheight=zb.P5();Nc.height=18;Nc.left=0;Nc.top=0;var yc=new jsx3.gui.Painted.Box(Nc);ib.W8(yc);var Nc={};Nc.tagname="input[checkbox]";Nc.empty=true;Nc.omitpos=true;var Ub=new jsx3.gui.Painted.Box(Nc);yc.W8(Ub);var Nc={};Nc.tagname="span";Nc.boxtype="box";Nc.left=3;Nc.top=7;Nc.width=7;Nc.height=2;var rb=new jsx3.gui.Painted.Box(Nc);yc.W8(rb);var Nc={};Nc.tagname="span";Nc.boxtype="inline";Nc.top=2;Nc.parentheight=zb.P5();Nc.height=18;Nc.padding="0 0 0 18";var Dc=new jsx3.gui.Painted.Box(Nc);zb.W8(Dc);return zb;};f.paint=function(){this.applyDynamicProperties();var Zb=this.getEnabled()==jsx3.gui.Form.STATEENABLED;var B=Zb?this.lM(n.s5,0):"";var uc=this.renderAttributes(null,true);var gb=this.getChecked()==n.PARTIAL?"visible":"hidden";var hb=Zb?"":"background-color:#999999;";var ec=this.RL(true);ec.setAttributes(" id=\""+this.getId()+"\" label=\""+this.getName()+"\" class=\""+this.CH()+"\" unselectable=\"on\" "+this.vH()+this.WP()+B+uc);ec.setStyles((ec.KZ()?"overflow-x:hidden;":"")+this.I6()+this.oY()+this.g0()+this.D6()+this.QP()+this.UZ()+this.T1()+this.MU()+this.d9()+this.iN());var P=ec.pQ(0);var V=P.pQ(0);V.setAttributes(" class=\"jsx30checkbox_tristate\" ");var T=V.pQ(0);T.setAttributes(" type=\"checkbox\" name=\""+this.getName()+"\" "+this.WP()+this.by()+this.CI());var Hb=V.pQ(1);Hb.setAttributes(" class=\"jsx30checkbox_partial\" ");Hb.setStyles("visibility:"+gb+";"+hb);var Nb=ec.pQ(1);Nb.setAttributes(" unselectable=\"on\" ");return ec.paint().join(P.paint().join(V.paint().join(T.paint().join("")+Hb.paint().join("&#160;"))+Nb.paint().join(this.AN())));};f.I6=function(){return this.getCursor()==null?"cursor:pointer;":"cursor:"+this.getCursor()+";";};f.by=function(){return this.getChecked()==n.CHECKED?" checked=\"checked\" ":"";};f.CH=function(){var J=this.getClassName();return n.DEFAULTCLASSNAME+(J?" "+J:"");};f.doValidate=function(){this.setValidationState(this.getRequired()==jsx3.gui.Form.OPTIONAL||this.getChecked()==n.CHECKED?jsx3.gui.Form.STATEVALID:jsx3.gui.Form.STATEINVALID);return this.getValidationState();};n.getVersion=function(){return "3.0.00";};f.emGetType=function(){return jsx3.gui.Matrix.EditMask.FORMAT;};f.emInit=function(l){this.jsxsupermix(l);this.subscribe(jsx3.gui.Interactive.TOGGLE,this,"Ox");};f.emSetValue=function(m){this.jsxchecked=Number(m)==n.CHECKED?n.CHECKED:n.UNCHECKED;};f.emGetValue=function(){var O=this.emGetSession();if(O)return O.column.getValueForRecord(O.recordId);return null;};f.emBeginEdit=function(h,g,l,m,q,p,e){var cc=jsx3.html.selectSingleElm(e,0,0,0,0,0);if(cc&&!cc.getAttribute("disabled")){this.jsxsupermix(h,g,l,m,q,p,e);cc.focus();}else{return false;}};f.emPaintTemplate=function(){this.jsxchecked=n.UNCHECKED;this.setText("");this.setEnabled(jsx3.gui.Form.STATEDISABLED);var pc=this.paint();this.setEnabled(jsx3.gui.Form.STATEENABLED);var sc=this.paint();var Q=this.PS(sc,pc);Q=Q.replace(/<(input .*?)\/>/g,"<$1><xsl:if test=\"{0}='1'\"><xsl:attribute name=\"checked\">checked</xsl:attribute></xsl:if></input>");return Q;};f.Ox=function(k){var Jc=this.emGetSession();if(Jc){var rb=k.context.intCHECKED;this.jsxchecked=rb;Jc.column.setValueForRecord(Jc.recordId,rb.toString());}};});jsx3.CheckBox=jsx3.gui.CheckBox;
jsx3.require("jsx3.gui.Form","jsx3.gui.Block");jsx3.Class.defineClass("jsx3.gui.RadioButton",jsx3.gui.Block,[jsx3.gui.Form],function(k,f){k.UNSELECTED=0;k.SELECTED=1;k.DEFAULTCLASSNAME="jsx30radio";f.init=function(p,s,n,d,a,b,i,j,h){this.jsxsuper(p,s,n,d,a,b);this.setGroupName(j);this.setValue(i);this.setDefaultSelected(h==null?k.SELECTED:h);if(h!=null)this.setSelected(h);};f.getGroupName=function(){return this.jsxgroupname;};f.setGroupName=function(g){this.jsxgroupname=g;};f.IU=function(r,n){if(!r.leftButton()&&r.isMouseEvent())return;if(this.getSelected()!=k.SELECTED){var Ib=this.doEvent(jsx3.gui.Interactive.SELECT,{objEVENT:r});if(Ib!==false)this.setSelected(k.SELECTED,n);}};f.DY=function(a,l){if(a.enterKey()){this.IU(a,l);a.cancelAll();}};f.getDefaultSelected=function(){return this.jsxdefaultselected;};f.setDefaultSelected=function(h){this.jsxdefaultselected=h;return this;};f.getSelected=function(){return this.jsxselected!=null?this.jsxselected:this.getDefaultSelected();};f.setSelected=function(l,s){l=l!=null?l:k.SELECTED;this.jsxselected=l;if(s==null)s=this.getRendered();if(s){jsx3.html.selectSingleElm(s,0,0,0).checked=l==k.SELECTED;if(l==k.SELECTED){var ub=this.getSiblings();for(var hb=0;hb<ub.length;hb++)ub[hb].jsxselected=k.UNSELECTED;}}return this;};f.getSiblings=function(h){var tc=[];var x=this.getDocument();if(x==null)return tc;var bb=this.getId();var _b=x.getElementsByName(this.getGroupName());for(var zc=0;zc<_b.length;zc++){var jb=_b[zc];if(jb.nodeName.toLowerCase()=="input"&&jb.type.toLowerCase()=="radio"){var J=jb.parentNode.parentNode.parentNode;if(J.id!=bb)tc.push(h?[jsx3.GO(J.id),J]:jsx3.GO(J.id));}}return tc;};k.getValue=function(g){var z=document;if(z!=null){var L=z.getElementsByName(g);if(L!=null){var nc=L.length;for(var vb=0;vb<nc;vb++){if(L[vb].checked)return L[vb].value;}}}};k.setValue=function(n,j){var _b=document;if(_b==null)return null;var Qb=_b.getElementsByName(n);if(Qb!=null){var t=Qb.length;for(var ac=0;ac<t;ac++){if(Qb[ac].value==j){var Dc=jsx3.GO(Qb[ac].parentNode.parentNode.parentNode.id);Dc.setSelected(k.SELECTED);return Dc;}}}return null;};f.getValue=function(){return this.jsxvalue;};f.setValue=function(l){this.jsxvalue=l;return this;};f.getGroupValue=function(){if(this.getSelected()==k.SELECTED)return this.getValue();var C=this.getSiblings();for(var Ic=0;Ic<C.length;Ic++){var zc=C[Ic];if(zc.getSelected()==k.SELECTED)return zc.getValue();}return null;};f.setGroupValue=function(m){if(this.getValue()==m){if(this.getSelected()!=k.SELECTED)this.setSelected(k.SELECTED);}else{this.jsxselected=k.UNSELECTED;var ec=this.getSiblings(true);for(var yc=0;yc<ec.length;yc++){var B=ec[yc][0];var x=ec[yc][1];var Cc=B.getValue()==m;B.jsxselected=Cc?k.SELECTED:k.UNSELECTED;jsx3.html.selectSingleElm(x,0,0,0).checked=Cc;}}};f.doValidate=function(){this.setValidationState(this.getRequired()==jsx3.gui.Form.OPTIONAL||this.getGroupValue()!=null?jsx3.gui.Form.STATEVALID:jsx3.gui.Form.STATEINVALID);return this.getValidationState();};k.s5={};k.s5[jsx3.gui.Event.CLICK]=true;k.s5[jsx3.gui.Event.KEYDOWN]=true;f.k7=function(p,m,b){this.B_(p,m,b,3);};f.T5=function(n){if(this.getParent()&&(n==null||isNaN(n.parentwidth)||isNaN(n.parentheight))){n=this.getParent().IO(this);}else{if(n==null){n={};}}var z=this.getRelativePosition()!=0&&(!this.getRelativePosition()||this.getRelativePosition()==jsx3.gui.Block.RELATIVE);var lc,tb,B,Ub;if(n.tagname==null)n.tagname="span";if((lc=this.getBorder())!=null&&lc!="")n.border=lc;if(z&&(tb=this.getMargin())!=null&&tb!="")n.margin=tb;if(n.boxtype==null)n.boxtype=z?"relativebox":"box";if(n.left==null)n.left=!z&&!jsx3.util.strEmpty(this.getLeft())?this.getLeft():0;if(n.top==null)n.top=!z&&!jsx3.util.strEmpty(this.getTop())?this.getTop():0;if(n.height==null)n.height=(B=this.getHeight())!=null?B:18;if(n.width==null){if((Ub=this.getWidth())!=null)n.width=Ub;}var vb=new jsx3.gui.Painted.Box(n);var ab={};ab.tagname="div";ab.boxtype="inline";var Ec=new jsx3.gui.Painted.Box(ab);vb.W8(Ec);ab={};ab.tagname="span";ab.boxtype="box";ab.width=16;ab.parentheight=vb.P5();ab.height=18;var Cc=new jsx3.gui.Painted.Box(ab);Ec.W8(Cc);ab={};ab.tagname="input[radio]";ab.empty=true;ab.omitpos=true;var ac=new jsx3.gui.Painted.Box(ab);Cc.W8(ac);ab={};ab.tagname="span";ab.boxtype="inline";ab.top=2;ab.parentheight=vb.P5();ab.height="100%";ab.padding="0 0 0 18";var Wb=new jsx3.gui.Painted.Box(ab);vb.W8(Wb);return vb;};f.paint=function(){this.applyDynamicProperties();var Wb=this.getEnabled()==jsx3.gui.Form.STATEENABLED;var F=Wb?this.lM(k.s5,0):"";var Qb=this.renderAttributes(null,true);var _b=this.RL(true);_b.setAttributes(" id=\""+this.getId()+"\" label=\""+this.getName()+"\" class=\""+this.CH()+"\" unselectable=\"on\" "+this.vH()+this.WP()+F+Qb);_b.setStyles((_b.KZ()?"overflow-x:hidden;":"")+this.I6()+this.oY()+this.g0()+this.D6()+this.QP()+this.UZ()+this.T1()+this.MU()+this.d9()+this.iN());var vb=_b.pQ(0);var jc=vb.pQ(0);jc.setAttributes(" class=\"jsx30radio_tristate\" ");var E=jc.pQ(0);E.setAttributes(" type=\"radio\" name=\""+this.getGroupName()+"\" value=\""+this.getValue()+"\" "+this.WP()+this.paintSelected()+this.CI());var Jc=_b.pQ(1);Jc.setAttributes(" unselectable=\"on\" ");return _b.paint().join(vb.paint().join(jc.paint().join(E.paint().join(""))+Jc.paint().join(this.AN())));};f.I6=function(){return this.getCursor()==null?"cursor:hand;":"cursor:"+this.getCursor()+";";};f.paintSelected=function(){return this.getSelected()==k.SELECTED?" checked=\"checked\" ":"";};f.CH=function(){var bb=this.getClassName();return k.DEFAULTCLASSNAME+(bb?" "+bb:"");};k.getVersion=function(){return "3.0.00";};f.emGetType=function(){return jsx3.gui.Matrix.EditMask.FORMAT;};f.emInit=function(a){this.jsxsupermix(a);this.subscribe(jsx3.gui.Interactive.SELECT,this,"Ti");};f.emSetValue=function(c){this.jsxselected=Number(c)==k.SELECTED?k.SELECTED:k.UNSELECTED;};f.emGetValue=function(){var z=this.emGetSession();if(z)return z.column.getValueForRecord(z.recordId);return null;};f.emBeginEdit=function(s,i,m,e,l,n,g){var nb=jsx3.html.selectSingleElm(g,0,0,0,0,0);if(nb&&!nb.getAttribute("disabled")){this.jsxsupermix(s,i,m,e,l,n,g);nb.focus();}else{return false;}};f.emPaintTemplate=function(){this.jsxselected=k.UNSELECTED;this.setText("");this.setEnabled(jsx3.gui.Form.STATEDISABLED);var wb=this.paint();this.setEnabled(jsx3.gui.Form.STATEENABLED);var I=this.paint();var _=this.PS(I,wb);_=_.replace(/<(input .*?)\/>/g,"<$1><xsl:if test=\"{0}='1'\"><xsl:attribute name=\"checked\">checked</xsl:attribute></xsl:if><xsl:if test=\"@jsxdisabled='1'\"><xsl:attribute name=\"disabled\">disabled</xsl:attribute></xsl:if></input>");return _;};f.Ti=function(p){var Hb=this.emGetSession();if(Hb){var Gb=Hb.column.getPath();var db=Hb.matrix.getXML().selectNodes("//record[@"+Gb+"='1']");for(var Sb=0;Sb<db.getLength();Sb++)db.getItem(Sb).removeAttribute(Gb);Hb.column.setValueForRecord(Hb.recordId,"1");}};});jsx3.RadioButton=jsx3.gui.RadioButton;
jsx3.require("jsx3.gui.Block");jsx3.Class.defineClass("jsx3.gui.Splitter",jsx3.gui.Block,null,function(m,f){var W=jsx3.gui.Event;var Q=jsx3.gui.Interactive;m.ORIENTATIONH=0;m.ORIENTATIONV=1;m.vy="jsx:///images/splitter/v.gif";m.Mt="jsx:///images/splitter/h.gif";jsx3.html.loadImages("jsx:///images/splitter/v.gif","jsx:///images/splitter/h.gif");m.tg="#2050df";m.RE="#c8c8d5";m.Gw="#ffffff";f.init=function(c,k){this.jsxsuper(c);if(k!=null)this.setOrientation(k);for(var nc=1;nc<=2;nc++){var Sb=new jsx3.gui.Block(c+"_"+nc,null,null,"100%","100%","");Sb.setRelativePosition(jsx3.gui.Block.RELATIVE);Sb.setBackgroundColor(m.Gw);this.setChild(Sb,jsx3.app.Model.PERSISTEMBED,null,jsx3.app.Model.FRAGMENTNS);}};f.paintChild=function(d,p){if(!p)this.repaint();};f.IO=function(c){var v=this.getParent().IO(this);var zb=v.width?v.width:v.parentwidth;var _=v.height?v.height:v.parentheight;var ec=Number(this.getSubcontainer1Pct().doReplace("%",""))/100;var P=0;if(this.getChild(0)==c){if(this.getOrientation()==m.ORIENTATIONH){P=parseInt(zb*ec);return {boxtype:"box",tagname:"div",left:0,top:0,width:P,height:_,parentwidth:P,parentheight:_};}else{P=parseInt(_*ec);return {boxtype:"box",tagname:"div",left:0,top:0,width:zb,height:P,parentwidth:zb,parentheight:P};}}else{if(this.getOrientation()==m.ORIENTATIONH){P=parseInt(zb*ec);return {boxtype:"box",tagname:"div",left:P+8,top:0,width:zb-parseInt(zb*ec)-8,height:_,parentwidth:zb-parseInt(zb*ec)-8,parentheight:_};}else{P=parseInt(_*ec);return {boxtype:"box",tagname:"div",left:0,top:P+8,width:zb,height:_-parseInt(_*ec)-8,parentwidth:zb,parentheight:_-parseInt(_*ec)-8};}}};f.k7=function(n,k,d){var kc=this.RL(true,n);if(k){kc.recalculate(n,k,d);var tb=this.getChildren();var wb=tb.length>2?2:tb.length;var Ic=0;for(var qc=0;qc<wb;qc++){var D=this.IO(tb[qc]);if(qc==1){var mb=kc.pQ(0);if(this.getOrientation()==m.ORIENTATIONH){mb.recalculate({left:Ic,parentheight:wc},k?k.childNodes[0]:null,d);}else{mb.recalculate({top:Ic,parentwidth:w},k?k.childNodes[0]:null,d);}}d.add(tb[qc],D,k?k.childNodes[qc+1]:null,true);var w=D.width!=null?D.width:D.parentwidth;var wc=D.height!=null?D.height:D.parentheight;Ic=this.getOrientation()==m.ORIENTATIONH?w:wc;}}};f.T5=function(r){this.applyDynamicProperties();if(this.getParent()&&(r==null||!isNaN(r.parentwidth)&&!isNaN(r.parentheight)||!isNaN(r.width)&&!isNaN(r.height))){r=this.getParent().IO(this);}else{if(r==null){r={};}}var zc=this.getRelativePosition()!=0;if(r.left==null||!zc&&!jsx3.util.strEmpty(this.getLeft()))r.left=this.getLeft();if(r.top==null||!zc&&!jsx3.util.strEmpty(this.getTop()))r.top=this.getTop();if(r.width==null)r.width="100%";if(r.height==null)r.height="100%";r.tagname="div";r.boxtype="box";var nb=new jsx3.gui.Painted.Box(r);var Vb={};Vb.tagname="div";Vb.boxtype="box";var mb=Number(this.getSubcontainer1Pct().doReplace("%",""))/100;Vb.parentwidth=nb.XK();Vb.parentheight=nb.P5();var oc=this.IO(this.getChild(0));var Nc=this.getOrientation()==m.ORIENTATIONH?oc.width:oc.height;if(this.getOrientation()==m.ORIENTATIONH){Vb.left=Nc;Vb.top=0;Vb.width=8;Vb.height="100%";}else{Vb.left=0;Vb.top=Nc;Vb.width="100%";Vb.height=8;}var eb=new jsx3.gui.Painted.Box(Vb);nb.W8(eb);return nb;};f.paint=function(){this.applyDynamicProperties();var zc=this.RX(W.MOUSEDOWN,"doBeginMove",1);var Wb=this.renderAttributes(null,true);var fc=this.RL(true);fc.setAttributes(this.CI()+this.vH()+" id=\""+this.getId()+"\" class=\"jsx30splitter\" label=\""+this.getName()+"\" "+Wb);fc.setStyles(this.UZ()+this.T1()+this.MU()+this.paintWrap()+this.iN());var E=fc.pQ(0);E.setAttributes(zc+" class=\"jsx30splitter_"+(this.getOrientation()==m.ORIENTATIONH?"h":"v")+"bar\"");E.setStyles(this.UZ()+(this.getOrientation()==m.ORIENTATIONH?this.LA():this.dp()));var pc,D;if((pc=this.getChild(0))!=null)pc.J1(this.IO(pc));if((D=this.getChild(1))!=null)D.J1(this.IO(D));return fc.paint().join(E.paint().join("&#160;")+this.paintChildren());};f.UZ=function(){return "background-color:"+(this.getBackgroundColor()?this.getBackgroundColor():m.RE)+";";};f.paintWrap=function(){return "";};f.doBeginMove=function(b,k){if(!b.leftButton())return;if(this.doEvent(Q.BEFORE_RESIZE,{objEVENT:b,objGUI:k})===false)return;k.style.backgroundColor=m.tg;this._jsxmoving=true;if(this.getOrientation()==m.ORIENTATIONH){jsx3.EventHelp.constrainY=true;}else{jsx3.EventHelp.constrainX=true;}this.jsxsupermix(b,k);W.subscribe(W.MOUSEUP,this,"doResizeEnd");};f.doResizeEnd=function(e){e=e.event;var mc=this.getRendered(e).childNodes[0];W.unsubscribe(W.MOUSEUP,this,"doResizeEnd");if(!this._jsxmoving)return;this._jsxmoving=false;e.releaseCapture(mc);mc.style.backgroundColor=this.getBackgroundColor()?this.getBackgroundColor():m.RE;if(this.getOrientation()==m.ORIENTATIONH){var Vb=parseInt(mc.style.left);var cb=mc.parentNode.offsetWidth;if(Vb<this.getSubcontainer1Min())Vb=this.getSubcontainer1Min();if(Vb>cb-8)Vb=cb-8;var A=Vb/cb*100;A=parseInt(A*100)/100;var Nb=A+"%";}else{var Vb=parseInt(mc.style.top);var cb=mc.parentNode.offsetHeight;if(Vb<this.getSubcontainer1Min())Vb=this.getSubcontainer1Min();if(Vb>cb-8)Vb=cb-8;var A=Vb/cb*100;A=parseInt(A*100)/100;var Nb=A+"%";}this.setSubcontainer1Pct(Nb,true);this.doEvent(Q.AFTER_RESIZE,{objEVENT:e,objGUI:mc});};f.getSubcontainer1Pct=function(){return this.jsxsubcontainer1pct==null?"50%":this.jsxsubcontainer1pct;};f.setSubcontainer1Pct=function(l,q){if(typeof(l)=="number")l=l+"%";this.jsxsubcontainer1pct=l;if(q){var G=this.getRendered();if(G!=null)this.nW({parentwidth:G.offsetWidth,parentheight:G.offsetHeight},G);}return this;};f.getSubcontainer2Pct=function(){return this.jsxsubcontainer2pct==null?"49.999%":this.jsxsubcontainer2pct;};f.setSubcontainer2Pct=function(i){this.jsxsubcontainer2pct=i;return this;};f.getSubcontainer1Min=function(){return this.jsxsubcontainer1min==null?1:this.jsxsubcontainer1min;};f.setSubcontainer1Min=function(p){this.jsxsubcontainer1min=p;return this;};f.getSubcontainer2Min=function(){return this.jsxsubcontainer2min==null?8:this.jsxsubcontainer2min;};f.setSubcontainer2Min=function(a){this.jsxsubcontainer2min=a;return this;};f.getOrientation=function(){return this.jsxorientation==null?m.ORIENTATIONH:this.jsxorientation;};f.setOrientation=function(k){this.jsxorientation=k;this.C5();return this;};f.getVSplitImage=function(){return this.jsxvsplitimage==null?m.vy:this.jsxvsplitimage;};f.setVSplitImage=function(s){this.jsxvsplitimage=s;return this;};f.getHSplitImage=function(){return this.jsxhsplitimage==null?m.Mt:this.jsxhsplitimage;};f.setHSplitImage=function(k){this.jsxhsplitimage=k;return this;};f.dp=function(){var cc=this.getVSplitImage();return cc.search(/background-image\s*:\s*url\(/)!=-1?cc:"background-image:url("+jsx3.resolveURI(cc)+");background-repeat:no-repeat;background-position:center center;";};f.LA=function(){var ob=this.getHSplitImage();return ob.search(/background-image\s*:\s*url\(/)!=-1?ob:"background-image:url("+jsx3.resolveURI(ob)+");background-repeat:no-repeat;background-position:center center;";};f.onSetChild=function(i){return this.getChildren().length<2;};m.getVersion=function(){return "3.0.00";};});jsx3.Splitter=jsx3.gui.Splitter;
jsx3.require("jsx3.gui.Block");jsx3.Class.defineClass("jsx3.gui.LayoutGrid",jsx3.gui.Block,null,function(a,p){a.ORIENTATIONCOL=0;a.ORIENTATIONROW=1;a.DEFAULTORIENTATION=0;a.DEFAULTREPEAT=3;a.DEFAULTDIMENSIONS=["33%","33%","34%"];a.ABSOLUTE=0;a.ADAPTIVE=1;p.init=function(q,h,c,o,l){this.jsxsuper(q,h,c,o,l);this.setRepeat(a.DEFAULTREPEAT);this.setDimensionArray(a.DEFAULTDIMENSIONS);};p.onRemoveChild=function(q,d){this.jsxsuper(q,d);this.setDimensionArray(this.getDimensionArray(),true);};p.paintChild=function(f,r){if(!r){this.recalcBox();this.repaint();}};p.getOrientation=function(){return this.jsxorientation==null?a.DEFAULTORIENTATION:this.jsxorientation;};p.setOrientation=function(c){this.jsxorientation=c;return this;};p.getBestGuess=function(){return this.jsxbestguess;};p.setBestGuess=function(i){this.jsxbestguess=i;return this;};p.getRepeat=function(){return this.jsxrepeat;};p.setRepeat=function(g){this.jsxrepeat=g;return this;};p.getDimensionArray=function(){return this.jsxsizearray;};p.setDimensionArray=function(m,q){this.jsxsizearray=m;if(q&&m!=null){var A=A=this.getRendered();if(A!=null){this.nW({},A);}}return this;};p.tD=function(c){if(!c&&this._jsxHz instanceof Array)return this._jsxHz;var Eb=this.RL(true);var z=this.getOrientation()==a.ORIENTATIONCOL?Eb.P5():Eb.XK();var zb=0;var J=-1;var Ab=[];var hb;if((hb=this.getDimensionArray())!=null){for(var Ob=0;Ob<hb.length;Ob++){var Vb=parseInt(hb[Ob]);if(isNaN(Vb)){if(J==-1){J=Ob;}else{}Ab.push("*");}else{if(typeof(hb[Ob])=="string"&&hb[Ob].indexOf("%")>-1){var Vb=Vb/100*z;}Ab.push(Vb);zb=zb+Vb;}}if(J>-1)Ab[J]=z-zb;}this._jsxHz=Ab;return Ab;};p.IO=function(c){var Ab=this.getParent().IO(this);var Nb=Ab.width?Ab.width:Ab.parentwidth;var qb=Ab.height?Ab.height:Ab.parentheight;var V=this.tD(false);var D=c.getChildIndex();var kb=D<V.length?V[D]:0;var _=0;for(var t=0;t<D;t++)_=_+V[t];if(this.getOrientation()==a.ORIENTATIONCOL){return {boxtype:"box",left:0,top:_,width:"100%",height:"100%",parentwidth:Nb,parentheight:V[D]};}else{return {boxtype:"box",left:_,top:0,width:"100%",height:"100%",parentwidth:V[D],parentheight:qb};}};p.k7=function(l,i,f){if(this.getParent()&&(!isNaN(l.parentwidth)&&!isNaN(l.parentheight)||l.width==null&&l.height==null)){l=this.getParent().IO(this);}else{if(l==null){l={};}}var Hb=this.RL(true,l);if(i){Hb.recalculate(l,i,f);}var sb=this.tD(true);var Lb=this.getChildren();for(var K=sb.length;K<Lb.length;K++)sb[K]=0;var qc=Hb.P5();var yc=Hb.XK();if(this.getOrientation()==a.ORIENTATIONCOL){var Zb=0;for(var K=0;K<Lb.length;K++){var tc=sb[K];f.add(Lb[K],{boxtype:"box",left:0,top:Zb,width:"100%",height:"100%",parentwidth:yc,parentheight:tc},i?i.childNodes[K]:null,true);Zb=Zb+tc;}}else{var Z=0;for(var K=0;K<Lb.length;K++){var fb=sb[K];f.add(Lb[K],{boxtype:"box",left:Z,top:0,width:"100%",height:"100%",parentwidth:fb,parentheight:qc},i?i.childNodes[K]:null,true);Z=Z+fb;}}};p.T5=function(s){if(this.getParent()&&(s==null||!isNaN(s.parentwidth)&&!isNaN(s.parentheight)||!isNaN(s.width)&&!isNaN(s.height))){var s=this.getParent().IO(this);}else{if(s==null){s={};}}var gb=this.getRelativePosition()!=0&&(!this.getRelativePosition()||this.getRelativePosition()==jsx3.gui.Block.RELATIVE);if(s.boxtype==null)s.boxtype=gb||s.left==null||s.top==null?"relativebox":"box";if(s.boxtype=="relativebox"){if(s.left==null)s.left=0;if(s.top==null)s.top=0;}if(s.width==null)s.width="100%";if(s.height==null)s.height="100%";s.tagname="div";s.container="true";var Ic;if((Ic=this.getBorder())!=null&&Ic!="")s.border=Ic;return new jsx3.gui.Painted.Box(s);};p.paint=function(){this.applyDynamicProperties();var Xb=this.tD(true);var ub=this.getChildren();for(var lc=Xb.length;lc<ub.length;lc++)Xb[lc]=0;this.setOverflow(jsx3.gui.Block.OVERFLOWHIDDEN);var R=this.RL(true);var G=R.P5();var lb=R.XK();if(this.getOrientation()==a.ORIENTATIONCOL){var F=0;for(var lc=0;lc<ub.length;lc++){var Tb=Xb[lc];ub[lc].J1({left:0,top:F,width:"100%",height:"100%",parentwidth:lb,parentheight:Tb,boxtype:"box"});F=F+Tb;}}else{var ib=0;for(var lc=0;lc<ub.length;lc++){var y=Xb[lc];ub[lc].J1({left:ib,top:0,width:"100%",height:"100%",parentwidth:y,parentheight:G,boxtype:"box"});ib=ib+y;}}return this.jsxsuper();};a.getVersion=function(){return "3.0.00";};});jsx3.LayoutGrid=jsx3.gui.LayoutGrid;
jsx3.require("jsx3.gui.Block");jsx3.Class.defineClass("jsx3.gui.Stack",jsx3.gui.Block,null,function(g,r){var Jb=jsx3.gui;var ub=Jb.Event;var Y=Jb.Block;g.ORIENTATIONV=0;g.ORIENTATIONH=1;g.ACTIVECOLOR="#aaaafe";g.INACTIVECOLOR="#aaaacb";g.CHILDBGCOLOR="#ffffff";g.BORDER="solid 1px #ffffff;solid 1px #9898a5;solid 1px #9898a5;solid 1px #ffffff";g.CAPTION_BORDER="solid 1px #c8c8d5;solid 1px #9898a5;solid 1px #9898a5;solid 1px #c8c8d5";g.BACKGROUND=jsx3.html.getCSSFade(false);g.BACKGROUNDH=jsx3.html.getCSSFade(true);r.init=function(a,p){this.jsxsuper(a,null,null,null,null,p);var Ab=new Y(a+"_content",0,0,"100%","100%");Ab.setOverflow(Y.OVERFLOWSCROLL);Ab.setBorder(g.BORDER);Ab.setBackgroundColor(g.CHILDBGCOLOR);this.setChild(Ab,jsx3.app.Model.PERSISTEMBED,null,jsx3.app.Model.FRAGMENTNS);};r.onSetParent=function(o){return Jb.StackGroup&&o instanceof Jb.StackGroup;};r.doShowStack=function(){this.pv(this.isOldEventProtocol());};r.doShow=function(){this.pv(false);};r.pv=function(i,d){var Mb=this.getParent();if(this==Mb.getChild(Mb.getSelectedIndex()))return;Mb.setSelectedIndex(this.getChildIndex());if(i instanceof ub){var B=jsx3.html.getJSXParent(i.srcElement());if(B!=null&&B!=this)return;}var fb=Mb.RL();Mb.nW({left:0,top:0,parentwidth:fb.explicit.width,parentheight:fb.explicit.height},true);if(i)this.doEvent(Jb.Interactive.EXECUTE,{objEVENT:i instanceof ub?i:null});this.doEvent(Jb.Interactive.SHOW);if(d)d.focus();};r.CL=function(s,m){m.style.backgroundColor=this.getActiveColor();return;if(jsx3.EventHelp.isDragging())this.pv(s);var T=jsx3.html.getCSSOpacity(0.75);Jb.Painted.HM(m,T);};r.u2=function(p,n){n.style.backgroundColor=this.getInactiveColor();return;var F=jsx3.html.getCSSOpacity(1);Jb.Painted.HM(n,F);};r.getContentChild=function(){var rb=this.getChildren().length;for(var U=0;U<rb;U++){var vb=this.getChild(U);if(!(Jb.Menu&&vb instanceof Jb.Menu)&&!(Jb.ToolbarButton&&vb instanceof Jb.ToolbarButton))return vb;}return null;};r.DY=function(p,i){if(this.jsxsupermix(p,i))return;if(p.enterKey()||p.spaceKey()){this.pv(p);p.cancelAll();}};g.s5={};g.s5[ub.CLICK]="pv";g.s5[ub.KEYPRESS]=true;g.s5[ub.MOUSEOVER]=true;g.s5[ub.MOUSEOUT]=true;r.IO=function(a){if(this.getParent()){var Ob=this.getParent().IO(this);var H=this.getParent().paintBarSize();return this.getOrientation()==Jb.StackGroup.ORIENTATIONV?{boxtype:"box",left:0,top:H,width:Ob.parentwidth,height:Ob.parentheight-H,parentwidth:Ob.parentwidth,parentheight:Ob.parentheight-H}:{boxtype:"box",left:H,top:0,width:Ob.parentwidth-H,height:Ob.parentheight,parentwidth:Ob.parentwidth-H,parentheight:Ob.parentheight};}return {};};r.k7=function(p,m,b){var pc=this.RL(true,p);if(m){pc.recalculate(p,m,b);var P=this.getParent().paintBarSize();var Z=pc.XK();var wb=pc.P5();var vc={};if(this.getOrientation()==Jb.StackGroup.ORIENTATIONV){vc.height=P;vc.parentwidth=p.parentwidth;}else{vc.width=P;vc.parentheight=p.parentheight;}var H=pc.pQ(0);H.recalculate(vc,m?m.childNodes[0]:null,b);var Cc=this.getContentChild();if(Cc!=null){if(this.isFront()){var Zb=this.getOrientation()==Jb.StackGroup.ORIENTATIONV?{boxtype:"box",left:0,top:P,width:Z,height:wb-P,parentwidth:Z,parentheight:wb-P}:{boxtype:"box",left:P,top:0,width:Z-P,height:wb,parentwidth:Z-P,parentheight:wb};b.add(Cc,Zb,Cc.getRendered(m),true);Cc.setVisibility(Y.VISIBILITYVISIBLE,true);}else{Cc.setVisibility(Y.VISIBILITYHIDDEN,true);}}}};r.T5=function(n){if(this.getParent()&&(n==null||isNaN(n.parentwidth)||isNaN(n.parentheight))){n=this.getParent().IO(this);}else{if(n==null){n={};}}n.width="100%";n.height="100%";n.tagname="div";n.boxtype="box";var Fc=new Jb.Painted.Box(n);var Ac=this.getParent().paintBarSize();var u={};u.parentwidth=Fc.XK();u.parentheight=Fc.P5();if(this.getOrientation()==Jb.StackGroup.ORIENTATIONV){u.width="100%";u.height=Ac;}else{u.width=Ac;u.height="100%";}u.left=0;u.top=0;u.tagname="div";u.boxtype="box";u.border=g.CAPTION_BORDER;u.padding="0 0 0 4";var kb=new Jb.Painted.Box(u);Fc.W8(kb);u={};u.tagname="div";u.boxtype="box";u.left=0;u.top=0;u.padding=this.getPadding();var xb=new Jb.Painted.Box(u);kb.W8(xb);return Fc;};r.paint=function(){if(!(this.getParent() instanceof Jb.StackGroup))return "";this.applyDynamicProperties();var Qb=this.RL(true);Qb.setAttributes("id=\""+this.getId()+"\" label=\""+this.getName()+"\" class=\""+this.CH()+"\"");Qb.setStyles("overflow:hidden;");var M=this.lM(g.s5,1);var Ib=this.renderAttributes(null,true);var Mb=Qb.pQ(0);Mb.setAttributes(this.CI()+this.vH()+M+Ib+" class=\"jsx30stack_handle\"");Mb.setStyles(this.UZ()+this.K2()+this.QP()+this.oY()+this.g0()+this.D6()+this.eQ()+this.iN());var jb=this.getChildren();var hc=[],sc=[];for(var B=0;B<jb.length;B++){var Fb=jb[B].paint();if(Jb.Menu&&jb[B] instanceof Jb.Menu||Jb.ToolbarButton&&jb[B] instanceof Jb.ToolbarButton){sc.push(jb[B]);}else{if(hc.length==0){hc.push(jb[B]);}}}var kc=this.paintChildren(sc);var Ic=this.paintChildren(hc);var Bc=Mb.pQ(0);var tb=this.getOrientation()==Jb.StackGroup.ORIENTATIONV?"jsx30stack_textv":"jsx30stack_texth";Bc.setAttributes(" class=\""+tb+"\" unselectable=\"on\" ");var Tb=Bc.paint().join(this.AN());return Qb.paint().join(Mb.paint().join(Tb+kc)+Ic);};r.eQ=function(){var pc;if(this.getTextAlign()){pc=this.getTextAlign();}else{if(this.getParent()&&this.getOrientation()==Jb.StackGroup.ORIENTATIONV){pc=Y.ALIGNRIGHT;}else{pc=Y.ALIGNLEFT;}}return "text-align:"+pc+";";};r.setText=function(l,a){this.jsxsuper(l,false);var jc;if(a&&(jc=this.getRendered())!=null)jc.firstChild.firstChild.innerHTML=l;return this;};r.getPadding=function(){var x=this.jsxsuper();return x!=null&&x!=""?x:"5 5 5 5";};r.getFontWeight=function(){return this.jsxsuper()||Y.FONTBOLD;};r.K2=function(){return (this.getBackground()?this.getBackground():this.getOrientation()==g.ORIENTATIONH?g.BACKGROUNDH:g.BACKGROUND)+";";};r.CI=function(){return this.jsxsuper(this.getIndex()||Number(0));};r.getActiveColor=function(){return this.jsxactivecolor==null?g.ACTIVECOLOR:this.jsxactivecolor;};r.setActiveColor=function(i){this.jsxactivecolor=i;return this;};r.getInactiveColor=function(){return this.jsxinactivecolor==null?g.INACTIVECOLOR:this.jsxinactivecolor;};r.setInactiveColor=function(n){this.jsxinactivecolor=n;return this;};r.getOrientation=function(){return this.getParent()!=null?this.getParent().getOrientation():g.ORIENTATIONV;};r.focus=function(){this.doShowStack();this.jsxsuper();};r.isFront=function(){var Ab=this.getParent().getChildren();var qc=Ab.indexOf(this);return qc>=0&&this.getParent().getSelectedIndex()==qc;};r.getMaskProperties=function(){return Y.MASK_NO_EDIT;};g.getVersion=function(){return "3.0.00";};r.vO=function(h){var vb=this.getContentChild();if(vb)vb.vO(h);this.jsxsuper(h);};});jsx3.gui.Stack.prototype.getBackgroundColor=jsx3.gui.Stack.prototype.getInactiveColor;jsx3.gui.Stack.prototype.setBackgroundColor=jsx3.gui.Stack.prototype.setInactiveColor;jsx3.Stack=jsx3.gui.Stack;
jsx3.require("jsx3.gui.LayoutGrid","jsx3.gui.Stack");jsx3.Class.defineClass("jsx3.gui.StackGroup",jsx3.gui.LayoutGrid,null,function(c,p){var jc=jsx3.gui.LayoutGrid;c.ORIENTATIONV=jc.ORIENTATIONCOL;c.ORIENTATIONH=jc.ORIENTATIONROW;c.DEFAULTSTACKCOUNT=2;c.DEFAULTDIMENSIONS=["27","*"];c.DEFAULTBARSIZE=27;p.init=function(h,q,l,f,d){this.jsxsuper(h,q,l,f,d);this.setRepeat(c.DEFAULTSTACKCOUNT);this.setDimensionArray(c.DEFAULTDIMENSIONS);};p.getBarSize=function(){return this.jsxbarsize;};p.setBarSize=function(r){this.jsxbarsize=r;return this;};p.IO=function(a){var v=this.getParent().IO(this);var zb=v.width?v.width:v.parentwidth;var _=v.height?v.height:v.parentheight;var Zb=this.paintBarSize();var lc=a.getChildIndex();var Eb=this.getOrientation()==jsx3.gui.StackGroup.ORIENTATIONV?_:zb;var Hc=lc*Zb+(this.getSelectedIndex()<lc?1:0)*(Eb-(this.getChildren().length-1)*Zb-Zb);if(a.isFront()){var gb=Zb*(this.getChildren().length-1);return this.getOrientation()==c.ORIENTATIONV?{left:0,top:Hc,parentwidth:zb,parentheight:_-gb}:{left:Hc,top:0,parentwidth:zb-gb,parentheight:_};}else{return this.getOrientation()==c.ORIENTATIONV?{left:0,top:Hc,parentwidth:zb,parentheight:Zb}:{left:Hc,top:0,parentwidth:Zb,parentheight:_};}};p.k7=function(f,g,l){var Vb=this.RL(true,f);if(g){Vb.recalculate(f,g,l);g.style.overflow="auto";}var eb=0;var Mb=this.getChildren().length;for(var Hc=0;Hc<Mb;Hc++){var Ac=this.getChild(Hc);var y=this.IO(Ac);l.add(Ac,y,g!=null,true);}};p.paint=function(){var F=this.getChild(this.getSelectedIndex());if(F==null){F=this.getChild(0);this.setSelectedIndex(0);}if(F!=null){var hc=this.getChildren().length;var Hb=[];var N=this.paintBarSize();var x=this.getSelectedIndex();for(var Nc=0;Nc<hc;Nc++){if(x!=Nc){Hb[Nc]=N;}else{Hb[Nc]="*";}}this.setDimensionArray(Hb);}this.setBestGuess(0);this.setRepeat(hc);return this.jsxsuper();};p.paintBarSize=function(a){return this.getBarSize()?this.getBarSize():c.DEFAULTBARSIZE;};p.getSelectedIndex=function(){return this.jsxselectedindex==null?0:this.jsxselectedindex>this.getChildren().length-1?this.getChildren().length-1:this.jsxselectedindex;};p.setSelectedIndex=function(o){this.jsxselectedindex=o;};p.paintChild=function(h,g){var lb=this.getRendered();if(lb!=null)jsx3.html.insertAdjacentHTML(lb,"beforeEnd",h.paint());if(!g)this.Rv();};p.onSetChild=function(s){return s instanceof jsx3.gui.Stack;};p.onRemoveChild=function(h,n){this.jsxsuper(h,n);if(h instanceof Array){this.repaint();}else{var Wb=this.getChildren().length;var W=n==this.jsxselectedindex;if(n<=this.jsxselectedindex&&(this.jsxselectedindex>0||Wb==0))this.jsxselectedindex--;if(W&&this.jsxselectedindex>=0){this.Rv();this.getChild(this.jsxselectedindex).doShowStack();}else{this.Rv();}}};p.Rv=function(){var zb=[];var Sb=this.paintBarSize();var rb=this.getSelectedIndex();var K=this.getChildren().length;for(var Ib=0;Ib<K;Ib++){zb[Ib]=rb!=Ib?Sb:"*";}this.setDimensionArray(zb,true);};c.getVersion=function(){return "3.0.00";};});jsx3.StackGroup=jsx3.gui.StackGroup;
jsx3.require("jsx3.gui.Block");jsx3.Class.defineClass("jsx3.gui.Tab",jsx3.gui.Block,null,function(p,d){var Kc=jsx3.gui.Event;var Sb=jsx3.gui.Interactive;p.DEFAULTBEVELIMAGE=jsx3.resolveURI("jsx:///images/tab/bevel.gif");p.DEFAULTACTIVECOLOR="#e8e8f5";p.DEFAULTINACTIVECOLOR="#d8d8e5";p.DEFAULTHIGHLIGHT="#f6f6ff";p.DEFAULTSHADOW="#a6a6af";p.ACTIVEBEVEL=jsx3.resolveURI("jsx:///images/tab/on.gif");p.INACTIVEBEVEL=jsx3.resolveURI("jsx:///images/tab/off.gif");jsx3.html.loadImages(p.DEFAULTBEVELIMAGE,p.ACTIVEBEVEL,p.INACTIVEBEVEL);p.CHILDBGCOLOR="#e8e8f5";p.STATEDISABLED=0;p.STATEENABLED=1;d.init=function(i,j,g,m,l){this.jsxsuper(i,null,null,g,null,j);if(m!=null)this.setActiveColor(m);if(l!=null)this.setInactiveColor(l);var fb=new jsx3.gui.Block(i+"_content",null,null,"100%","100%");fb.setOverflow(jsx3.gui.Block.OVERFLOWSCROLL);fb.setRelativePosition(0);fb.setBackgroundColor(m==null?p.CHILDBGCOLOR:m);this.setChild(fb,jsx3.app.Model.PERSISTEMBED,null,jsx3.app.Model.FRAGMENTNS);};d.onSetParent=function(c){return jsx3.gui.TabbedPane&&c instanceof jsx3.gui.TabbedPane;};d.getBevel=function(){return this.jsxbevel;};d.setBevel=function(h){this.jsxbevel=h;return this;};d.getMaskProperties=function(){return jsx3.gui.Block.MASK_EAST_ONLY;};d.CL=function(a,l){l.style.backgroundImage="url("+p.ACTIVEBEVEL+")";if(jsx3.EventHelp.isDragging())this.Rx(a,false);};d.u2=function(j,c){c.style.backgroundImage="url("+p.INACTIVEBEVEL+")";};d.IU=function(l,a){a.focus();if(l.leftButton())this.Rx(l);};d.doClickTab=function(s,k){this.Rx(this.isOldEventProtocol(),k);};d.doShow=function(){this.Rx(false);};d.Rx=function(j,c){this.getParent().Bv(j,this);};d.getActiveColor=function(){return this.jsxactivecolor;};d.setActiveColor=function(f){this.jsxactivecolor=f;return this;};d.getInactiveColor=function(){return this.jsxinactivecolor;};d.setInactiveColor=function(m){this.jsxinactivecolor=m;return this;};d.getEnabled=function(){return this.jsxenabled==null?p.STATEENABLED:this.jsxenabled;};d.setEnabled=function(a){this.jsxenabled=a;return this;};d.DY=function(j,c){if(this.jsxsupermix(j,c))return;var Bc=j.keyCode();var Xb=this.getChildIndex();var kb=this.getParent();if(Bc>=Kc.KEY_ARROW_LEFT&&Bc<=Kc.KEY_ARROW_DOWN){if(j.leftArrow()||j.upArrow()){var M=Xb>0?Xb-1:kb.getChildren().length-1;}else{if(j.rightArrow()||j.downArrow()){var M=Xb<kb.getChildren().length-1?Xb+1:0;}}kb.Bv(j,M,null,true);j.cancelAll();}else{if(Bc==Kc.KEY_TAB&&!j.shiftKey()){this.getContentChild().focus();j.cancelAll();}else{if(Bc==Kc.KEY_TAB){this.getParent().focus();}}}};p.s5={};p.s5[Kc.CLICK]=true;p.s5[Kc.KEYDOWN]=true;p.s5[Kc.MOUSEOVER]=true;p.s5[Kc.MOUSEOUT]=true;d.IO=function(e){return this.getParent()?this.getParent().Ru(this):{};};d.k7=function(q,a,n){this.B_(q,a,n,3);};d.T5=function(q){if(q==null||isNaN(q.parentwidth)||isNaN(q.parentheight)){q=this.getParent().IO(this);}else{if(q==null){q={};}}var Vb=this.getPadding();if(this.getWidth()!=null&&!isNaN(parseInt(this.getWidth())))q.width=this.getWidth();q.height="100%";q.tagname="span";q.boxtype="relativebox";q.padding=Vb!=null&&Vb!=""?Vb:"3 4 1 4";q.border="solid 0px;solid 2px #9898a5;solid 0px;solid 1px "+p.DEFAULTHIGHLIGHT;var u=new jsx3.gui.Painted.Box(q);var Bc={};Bc.parentwidth=u.XK();Bc.parentheight=u.P5();Bc.height="100%";if(!(this.getWidth()==null||isNaN(this.getWidth()))){Bc.width="100%";Bc.tagname="div";Bc.boxtype="inline";}else{Bc.tagname="span";Bc.boxtype="relativebox";}var Ac=new jsx3.gui.Painted.Box(Bc);u.W8(Ac);return u;};d.paint=function(){if(!(this.getParent() instanceof jsx3.gui.TabbedPane)){jsx3.util.Logger.doLog("t21","The jsx3.gui.Tab instance with the id, '"+this.getId()+"', could not be painted on-screen, because it does not belong to a jsx3.gui.TabbedPane parent.");return "";}this.applyDynamicProperties();var pc=this.getEnabled()==p.STATEENABLED?this.lM(p.s5,0):"";var L=this.renderAttributes(null,true);var B=this.RL(true);B.setAttributes("id=\""+this.getId()+"\" label=\""+this.getName()+"\" "+this.CI()+this.vH()+pc+" class=\"jsx30tab\" "+L);B.setStyles(this.f7()+this.I6()+this.UZ()+this.QP()+this.oY()+this.g0()+this.D6()+this.eQ()+this.iN());var D=B.pQ(0);D.setAttributes(" class=\"jsx30tab_text\" unselectable=\"on\" ");D.setStyles(this.eQ());return B.paint().join(D.paint().join(this.AN()));};d.setWidth=function(n,l){this.jsxsuper(n);if(l)this.repaint();};d.f7=function(){return "background-image:url("+p.INACTIVEBEVEL+");background-repeat:repeat-x;background-position:top left;";};d.I6=function(){return this.getEnabled()==p.STATEENABLED?"cursor:pointer;":"cursor:not-allowed;";};d.CI=function(){return this.jsxsuper(this.getIndex()||Number(0));};d.C3=function(){return this.getActiveColor()?this.getActiveColor():p.DEFAULTACTIVECOLOR;};d.m_=function(){return this.getInactiveColor()?this.getInactiveColor():p.DEFAULTINACTIVECOLOR;};d.UZ=function(){var Ob=this.getChildIndex()!=this.getParent().getSelectedIndex()?this.m_():this.C3();return Ob?"background-color:"+Ob+";":"";};p.getVersion=function(){return "3.0.00";};d.getContentChild=function(){return this.getChild(0);};d.vO=function(f){var wb=this.getContentChild();if(wb)wb.vO(f);this.jsxsuper(f);};});jsx3.Tab=jsx3.gui.Tab;
jsx3.require("jsx3.gui.Block","jsx3.gui.Tab");jsx3.Class.defineClass("jsx3.gui.TabbedPane",jsx3.gui.Block,null,function(s,k){var V=jsx3.gui.Tab;var pc=jsx3.gui.Event;var Bc=jsx3.gui.Block;var Mc=jsx3.gui.Interactive;s.DEFAULTTABHEIGHT=20;k.init=function(l){this.jsxsuper(l);};k.paintChild=function(i,q){var mb=this.getRendered();if(mb!=null){if(this.getShowTabs())jsx3.html.insertAdjacentHTML(mb.childNodes[0],"beforeEnd",i.paint());var Pb=i.getContentChild();var Cb=this.getChildren().length==1;Pb.setDisplay(Cb?Bc.DISPLAYBLOCK:Bc.DISPLAYNONE);jsx3.html.insertAdjacentHTML(mb,"beforeEnd",i.paintChildren([Pb]));if(Cb)this.Bv(null,i);}};k.onSetChild=function(r){if(!(r instanceof V))return false;var Ec=r.getContentChild();if(Ec)Ec.setVisibility(Bc.VISIBILITYVISIBLE);if(this.getChildren().length==0)this.jsxselectedindex=-1;return true;};k.onRemoveChild=function(c,i){this.jsxsuper(c,i);if(c instanceof Array){var _=c[this.getSelectedIndex()];if(_)_.doEvent(Mc.HIDE);this.doEvent(Mc.CHANGE);this.setSelectedIndex(-1);this.C5();this.repaint();}else{var B=this.getSelectedIndex();var sb=Math.min(this.getChildren().length-1,B);if(B==i)c.doEvent(Mc.HIDE);this.Bv(false,sb,true);}};k.getSelectedIndex=function(){return this.jsxselectedindex==null?this.getChildren().length>0?0:-1:this.jsxselectedindex;};k.setSelectedIndex=function(m,r){if(r){this.Bv(false,m);}else{this.jsxselectedindex=m instanceof V?m.getChildIndex():m;}return this;};k._4=function(b,q){this.doDrop(b,q,jsx3.EventHelp.ONDROP);};k.IO=function(){if(this.getParent()){var Lb=this.getParent().IO(this);var D=Lb.width?Lb.width:Lb.parentwidth;var Pb=this.getShowTabs()?this.paintTabSize()+1:0;return {parentwidth:D,parentheight:Pb};}return {};};k.Ru=function(){if(this.getParent()){var t=this.getParent().IO(this);var Kc=t.width!=null&&!isNaN(t.width)?t.width:t.parentwidth;var Ac=this.getShowTabs()?this.paintTabSize():0;var fb=(t.height!=null&&!isNaN(t.height)?t.height:t.parentheight)-Ac;var N={left:0,top:Ac,width:Kc,height:fb,parentwidth:Kc,parentheight:fb,boxtype:"box",tagname:"div"};if(this.getShowTabs())N.border="solid 1px #f6f6ff;solid 1px #a6a6af;solid 1px #a6a6af;solid 1px #f6f6ff";return N;}return {};};k.k7=function(n,q,d){var rc=this.RL(true,n);if(q){rc.recalculate(n,q,d);var B=rc.pQ(0);B.recalculate({parentwidth:rc.XK(),height:this.paintTabSize()+1},q!=null?q.childNodes[0]:null,d);var vb=this.getChildren();var L=this.IO();var wc=this.Ru();for(var Eb=0;Eb<vb.length;Eb++){var kc=vb[Eb];d.add(kc,this.IO(),q!=null,true);var Db=kc.getContentChild();if(Db!=null){var y=this.getSelectedIndex()==Eb;Db.setDisplay(y?Bc.DISPLAYBLOCK:Bc.DISPLAYNONE,true);if(y)d.add(Db,this.Ru(),Db.getRendered(q),true);}}}};k.T5=function(e){if(this.getParent()&&(e==null||!isNaN(e.parentwidth)&&!isNaN(e.parentheight)||!isNaN(e.width)&&!isNaN(e.height))){e=this.getParent().IO(this);}else{if(e==null){e={};}}if(e.left==null)e.left=0;if(e.top==null)e.top=0;if(e.width==null)e.width="100%";if(e.height==null)e.height="100%";if(e.tagname==null)e.tagname="div";if(e.boxtype==null)e.boxtype="box";var S=this.getBorder();if(S!=null&&S!="")e.border=S;var Q=new jsx3.gui.Painted.Box(e);var fc={};fc.parentwidth=e.parentwidth;fc.width="100%";fc.height=this.paintTabSize()+1;fc.left=0;fc.top=0;fc.tagname="div";fc.boxtype="box";var Fb=new jsx3.gui.Painted.Box(fc);Q.W8(Fb);return Q;};k.paint=function(){this.applyDynamicProperties();var Jc=this.getId();var Dc=this.getShowTabs();var D=this.getSelectedIndex();if(D<0||D>=this.getChildren().length){D=0;this.setSelectedIndex(D);}var L={};if(this.hasEvent(Mc.DROP)||this.hasEvent(Mc.CTRL_DROP))L[pc.MOUSEUP]=true;var jb=this.lM(L,0);var hc=this.renderAttributes(null,true);var kb=this.RL(true);kb.setAttributes("id=\""+Jc+"\" label=\""+this.getName()+"\" "+this.CI()+this.vH()+jb+hc);kb.setStyles("overflow:hidden;"+this.d9()+this.UZ()+this.K2()+this.T1()+this.MU()+this.iN());var qb=kb.pQ(0);if(Dc){var ac=this.getChild(D);ac=ac==null?this.getChild(0):ac;if(ac!=null){if(!ac.getEnabled()){var bc=this.getChildren().length-1;for(var cb=0;cb<=bc;cb++){if(this.getChild(cb).getEnabled()){this.setSelectedIndex(cb);break;}}}}var J=this.paintChildren();qb.setStyles(this.eQ());}else{var J="&#160;";qb.setStyles("visibility:hidden;");}qb.setAttributes("class=\"jsx30tabbedpane_controlbox\"");var Ec=this.getChildren();var wc=[];for(var cb=0;cb<Ec.length;cb++){var Fc=Ec[cb].getContentChild();if(Fc!=null){Fc.setDisplay(this.getSelectedIndex()==cb?Bc.DISPLAYBLOCK:Bc.DISPLAYNONE);Fc.J1(this.Ru());wc.push(Fc);}}return kb.paint().join(qb.paint().join(J)+this.paintChildren(wc));};k.CI=function(){return this.jsxsuper(this.getIndex()||Number(0));};k.paintTabSize=function(){return this.getTabHeight()!=null&&!isNaN(this.getTabHeight())?this.getTabHeight():s.DEFAULTTABHEIGHT;};k.getTabHeight=function(){return this.jsxtabheight;};k.setTabHeight=function(c){this.jsxtabheight=c;this.vQ(true);return this;};k.getShowTabs=function(){return this.jsxshowtabs==null||this.jsxshowtabs===""?1:this.jsxshowtabs;};k.setShowTabs=function(o){this.jsxshowtabs=o;this.vQ(true);return this;};k.Bv=function(b,c,o,p){if(!(c instanceof V))c=this.getChild(c);if(c){var Fb=this.getShowTabs();var Ec=c.getChildIndex();var mb=this.getSelectedIndex();if(o||mb!=Ec){this.setSelectedIndex(Ec);var Jb=this.getChildren().length;for(var Gb=0;Gb<Jb;Gb++){var D=this.getChild(Gb);var nc=D.getContentChild();if(Gb==Ec){if(nc)nc.setDisplay(Bc.DISPLAYBLOCK,true);if(Fb)D.setBackgroundColor(D.C3(),true);nc.nW(this.Ru(),true);}else{if(nc)nc.setDisplay(Bc.DISPLAYNONE,true);if(Fb)D.setBackgroundColor(D.m_(),true);}}}if(b)this.doEvent(Mc.EXECUTE,{objEVENT:b instanceof pc?b:null});if(!o){var W=this.getChild(mb);if(W)W.doEvent(Mc.HIDE);}if(p)c.focus();c.doEvent(Mc.SHOW);this.doEvent(Mc.CHANGE);}};s.getVersion=function(){return "3.0.00";};});jsx3.TabbedPane=jsx3.gui.TabbedPane;
jsx3.require("jsx3.xml.Cacheable","jsx3.gui.Form","jsx3.gui.Heavyweight","jsx3.gui.Block");jsx3.Class.defineClass("jsx3.gui.Select",jsx3.gui.Block,[jsx3.gui.Form,jsx3.xml.Cacheable,jsx3.xml.CDF],function(d,l){var Qb=jsx3.util.Logger.getLogger(d.jsxclass.getName());var gc=jsx3.gui.Event;d.DEFAULTBACKGROUNDCOLOR="#ffffff";d.DEFAULTTEXT="- Select -";d.SELECTXSLURL=jsx3.resolveURI("jsx:///xsl/jsxselect.xsl");d.SELECTXSLID="JSX_SELECT_XSL";d.COMBOXSLURL=jsx3.resolveURI("jsx:///xsl/jsxcombo.xsl");d.COMBOXSLID="JSX_COMBO_XSL";d.ARROWICON=jsx3.resolveURI("jsx:///images/select/arrow.gif");d.OVERIMAGE=jsx3.resolveURI("jsx:///images/select/selectover.gif");d.SELECTEDIMAGE=jsx3.resolveURI("jsx:///images/select/selected.gif");jsx3.html.loadImages(d.ARROWICON,d.OVERIMAGE,d.SELECTEDIMAGE);d.NODATAMESSAGE="<div tabIndex='0' class='jsx30select_option' onmousedown='var e = jsx3.gui.Event.wrap(event); jsx3.gui.Event.publish(e); e.cancelBubble();'>- data unavailable -</div>";d.NOMATCHMESSAGE="<div tabIndex='0' class='jsx30select_option' onmousedown='var e = jsx3.gui.Event.wrap(event); jsx3.gui.Event.publish(e); e.cancelBubble();'>- no match found -</div>";d.Gg=new jsx3.util.MessageFormat("<div tabIndex=\"0\" class=\"jsx30select_option jsx30select_none\" onmousedown=\"var e=jsx3.gui.Event.wrap(event); jsx3.gui.Event.publish(e); e.cancelBubble();\"><span style=\"left:0px;\">{0}</span></div>");d.TYPESELECT=0;d.TYPECOMBO=1;d.TYPEAHEADDELAY=250;d.Kt=null;d.NA=null;d.ZE="jsx30curvisibleoptions";d.DEFAULTCLASSNAME="jsx30select_select";l.init=function(o,j,e,m,h,f){this.jsxsuper(o,j,e,m,h);if(f!=null)this.jsxvalue=f;};l.getXSL=function(){var U=this.jsxsupermix(true);if(U!=null)return U;var X=this.getType()==d.TYPESELECT?d.SELECTXSLURL:d.COMBOXSLURL;var w=this.getType()==d.TYPESELECT?d.SELECTXSLID:d.COMBOXSLID;var mc;return (mc=this.getServer().getCache().getDocument(w))!=null?mc:this.getServer().getCache().openDocument(X,w,true);};l.doValidate=function(){this.setValidationState(this.getValue()!=null||this.getRequired()==jsx3.gui.Form.OPTIONAL?jsx3.gui.Form.STATEVALID:jsx3.gui.Form.STATEINVALID);return this.getValidationState();};l.UZ=function(){var vc=this.getEnabled()!=jsx3.gui.Form.STATEDISABLED?this.getBackgroundColor()||d.DEFAULTBACKGROUNDCOLOR:this.getDisabledBackgroundColor()||jsx3.gui.Form.DEFAULTDISABLEDBACKGROUNDCOLOR;return "background-color:"+vc+";";};l.getType=function(){return this.jsxtype==null?d.TYPESELECT:this.jsxtype;};l.setType=function(c){this.jsxtype=c;return this;};l.getDefaultText=function(){return this.jsxdefaulttext!=null&&this.jsxdefaulttext!=null?this.jsxdefaulttext:this.AQ("jsx3.gui.Select.defaultText");};l.setDefaultText=function(b){this.jsxdefaulttext=b;return this;};l.fs=function(r,n){if(this.DY(r,n))return;var Gb=n;var pb=r.srcElement();var cb=pb.getAttribute("jsxtype");var lb=r.hasModifier();if((r.spaceKey()||r.enterKey())&&pb.getAttribute("jsxid")!=null){this.Os(r,pb.getAttribute("jsxid"));this.hide(true);}else{if(cb=="Display"||cb=="Text"||cb=="Select"){if(r.downArrow()&&!lb){this.Me();}else{return;}}else{if(r.leftArrow()||r.escapeKey()){this.hide(true);}else{if(r.downArrow()){if(lb)return;if(pb==pb.parentNode.lastChild){d.doFocus(pb.parentNode.firstChild.nextSibling);}else{d.doFocus(pb.nextSibling);}}else{if(r.upArrow()){if(lb)return;if(pb==pb.parentNode.firstChild.nextSibling){d.doFocus(pb.parentNode.lastChild);}else{d.doFocus(pb.previousSibling);}}else{if(r.tabKey()){if(r.hasModifier(true))return;this.Os(r,pb.getAttribute("jsxid"));jsx3.html[r.shiftKey()?"focusPrevious":"focusNext"](this.getRendered(r),r);this.hide(false);return;}else{return;}}}}}}r.cancelAll();};l.PF=function(c,j){if(this.DY(c,j))return;var ec=j;var Eb=c.hasModifier();if(!Eb&&(c.downArrow()||c.enterKey())){var y=jsx3.gui.Heavyweight.GO(d.ZE);if(!c.enterKey()&&y!=null&&y.getRendered(c).childNodes[0].getAttribute("jsxselid")==this.getId()){d.doFocus(y.getRendered(c).childNodes[0].childNodes[1]);}else{var R=c.enterKey()?"":this.getText();this.Me(R);}c.cancelAll();}else{if(!Eb&&c.tabKey()){var y=jsx3.gui.Heavyweight.GO(d.ZE);if(y!=null&&y.getRendered(c).childNodes[0].getAttribute("jsxselid")==this.getId()){var rc=y.getRendered(c).childNodes[0].childNodes[1];if(rc){var W=rc.getAttribute("jsxid");if(W!=null)this.Os(c,W);}this.hide(true);c.cancelAll();}}else{if(c.tabKey()&&c.shiftKey()&&!c.hasModifier(true)){jsx3.html.focusPrevious(this.getRendered(c),c);}else{if(!Eb&&(c.rightArrow()||c.leftArrow())){var Jc=c.leftArrow();var Vb=this.pz();var M=Vb.value;var Dc=jsx3.html.getSelection(Vb);if(Jc&&(Dc.getStartIndex()>0||Dc.getEndIndex()>0)||!Jc&&(Dc.getStartIndex()<M.length||Dc.getEndIndex()<M.length))c.cancelBubble();}else{var J=this.pz();var yb=J.value;jsx3.sleep(function(){if(this.getParent()==null)return;var Gc=J.value;if(yb!=Gc){this.jsxvalue=Gc;if(d.NA)window.clearTimeout(d.NA);var bb=this;d.NA=window.setTimeout(function(){if(bb.getParent()==null)return;d.NA=null;bb.Me(Gc);},d.TYPEAHEADDELAY);}},null,this);}}}}};l.df=function(o,q){this.fs(o,q);};l.pz=function(n){n=this.getRendered(n);return n?this.getType()==d.TYPECOMBO?n.childNodes[0].childNodes[0].childNodes[0]:n.childNodes[0].childNodes[0]:null;};l.show=function(){var uc=this.getRendered();if(uc)this.Me();};l.Vg=function(p,i){var Mb=p.srcElement();while(Mb!=null&&(!Mb.getAttribute||Mb.getAttribute("jsxid")==null)){Mb=Mb.parentNode;if(Mb==i)Mb=null;}if(Mb!=null)this.Os(p,Mb.getAttribute("jsxid"));this.hide(true);};d.doFocus=function(e){var pc=e.getAttribute("jsxid");if(pc!=null){e.focus();e.style.backgroundImage="url("+d.OVERIMAGE+")";}};d.doBlur=function(o){o.style.backgroundImage="url("+jsx3.gui.Block.SPACE+")";};l.QB=function(i,m){var lc=m.value;var T=this.getXML().selectSingleNode("//record[@jsxtext=\""+lc.doReplace("\"","&quot")+"\" or (not(@jsxtext) and @jsxid=\""+lc.doReplace("\"","&quot")+"\")]");if(T!=null){this.Os(i,T.getAttribute("jsxid"));}else{this.jsxvalue=lc;}};l.hide=function(k){if(d.Kt==this){var Hb=jsx3.gui.Heavyweight.GO(d.ZE);if(Hb)Hb.destroy();if(k){try{this.focus();}catch(Kc){}}gc.unsubscribeLoseFocus(this);d.Kt=null;}if(d.NA){d.NA=null;window.clearTimeout(d.NA);}};d.hideOptions=function(){if(d.Kt!=null)d.Kt.hide();};l.Me=function(o){if(this._jsxopening)return;var X=this.getRendered();if(X!=null){var C=this.getType();var Ib=X.ownerDocument;if(d.Kt!=null)d.Kt.hide(false);d.Kt=this;var Hc=this.getAbsolutePosition(Ib.getElementsByTagName("body")[0]);var mc=Hc.W;var Bb={};Bb.jsxtabindex=this.getIndex()?this.getIndex():0;Bb.jsxselectedimage=d.SELECTEDIMAGE;Bb.jsxtransparentimage=jsx3.gui.Block.SPACE;Bb.jsxdragtype="JSX_GENERIC";Bb.jsxid=this.getId();Bb.jsxselectedid=this.getValue()==null?"null":this.getValue();Bb.jsxpath=jsx3.getEnv("jsxabspath");Bb.jsxpathapps=jsx3.getEnv("jsxhomepath");Bb.jsxpathprefix=this.getUriResolver().getUriPrefix();if(o!=null)Bb.jsxtext=o;var Mb=this.getXSLParams();for(var tc in Mb)Bb[tc]=Mb[tc];var Mc=this.doTransform(Bb,C==d.TYPECOMBO);if(!jsx3.xml.Processor.supports(jsx3.xml.Processor.DISABLE_OUTPUT_ESCAPING))Mc=jsx3.html.removeOutputEscapingSpan(Mc);Mc=Mc.doReplace("<[/]*JSX_FF_WELLFORMED_WRAPPER>","");if(!Mc.match(/\<div/i)){Mc=d.Gg.format(this.AQ("jsx3.gui.Select."+(C==d.TYPESELECT?"dataUnavailable":"noMatch")));}var kb="<div style=\"height:1px;width:"+(mc-4)+"px;position:relative;left:0px;top:0px;"+"padding:0px;margin:0px 0px -1px 0px;overflow:hidden;\">&#160;</div>";var N="<div jsxselid=\""+this.getId()+"\""+this.RX(gc.KEYDOWN,"df")+this.RX(gc.CLICK,"Vg")+this.RX(gc.MOUSEDOWN,"Lk")+" jsxtype=\"Options\" class=\"jsx30select_optionlist\" style=\""+this.UZ()+"min-width:"+(mc-4)+"px;"+this.oY()+this.g0()+this.eQ()+"\">"+kb+Mc+"</div>";var Ic=new jsx3.gui.Heavyweight(d.ZE,this);Ic.setHTML(N);Ic.addXRule(X,"W","W",-2);Ic.addYRule(X,"S","N",0);Ic.addYRule(X,"N","S",-2);Ic.show();if(C==d.TYPESELECT||o==null){this._jsxopening=true;jsx3.sleep(function(){if(this.getParent()==null)return;delete this._jsxopening;try{d.doFocus(Ic.getRendered(X).childNodes[0].childNodes[1]);}catch(Kc){Qb.info("Error focusing first object: "+jsx3.NativeError.wrap(Kc));}},null,this);}else{this.pz().focus();}gc.subscribeLoseFocus(this,X,"Gd");}};l.Gd=function(r){var ac=r.event.srcElement();if(!this.containsHtmlElement(ac))this.hide(false);};l.k7=function(n,k,q){var cc=this.RL(true,n);if(k){cc.recalculate(n,k,q);var uc=cc.pQ(0);uc.recalculate({parentwidth:cc.XK(),parentheight:cc.P5()},k?k.childNodes[0]:null,q);var Z=uc.pQ(0);Z.recalculate({parentwidth:uc.XK(),parentheight:uc.P5()},k?k.childNodes[0].childNodes[0]:null,q);if(this.getType()!=d.TYPESELECT){var Ec=Z.pQ(0);Ec.recalculate({parentwidth:Z.XK(),parentheight:Z.P5()},k?jsx3.html.selectSingleElm(k,0,0,0):null,q);}}};l.T5=function(j){if(this.getParent()&&(j==null||isNaN(j.parentwidth)||isNaN(j.parentheight))){j=this.getParent().IO(this);}else{if(j==null){j={};}}var Ic=this.getRelativePosition()!=0&&(!this.getRelativePosition()||this.getRelativePosition()==jsx3.gui.Block.RELATIVE);var bc,S,wc,tc,eb;j.tagname="span";j.border=(bc=this.getBorder())!=null&&bc!=""?bc:"solid 1px #a6a6af;solid 1px #e6e6e6;solid 1px #e6e6e6;solid 1px #a6a6af";j.margin=Ic&&(S=this.getMargin())!=null&&S!=""?S:null;if(j.boxtype==null)j.boxtype=Ic?"relativebox":"box";if(j.left==null)j.left=!Ic&&!jsx3.util.strEmpty(this.getLeft())?this.getLeft():0;if(j.top==null)j.top=!Ic&&!jsx3.util.strEmpty(this.getTop())?this.getTop():0;if(j.width==null)j.width=(tc=this.getWidth())!=null?tc:100;if(j.height==null)j.height=(eb=this.getHeight())!=null?eb:18;j.padding="0 0 0 0";var kb=new jsx3.gui.Painted.Box(j);var Wb={};Wb.tagname="div";Wb.boxtype="relativebox";if((wc=this.getPadding())!=null&&wc!=""){Wb.padding=wc;}else{Wb.padding="0 19 0 0";}Wb.parentwidth=kb.XK();Wb.parentheight=kb.P5();Wb.left=0;Wb.top=0;Wb.width="100%";Wb.height="100%";var K=new jsx3.gui.Painted.Box(Wb);kb.W8(K);if(this.getType()==d.TYPESELECT){Wb={};Wb.tagname="div";Wb.boxtype="relativebox";Wb.padding="2 0 0 3";Wb.parentwidth=K.XK();Wb.parentheight=K.P5();Wb.width="100%";Wb.height="100%";var Rb=new jsx3.gui.Painted.Box(Wb);K.W8(Rb);}else{Wb={};Wb.tagname="span";Wb.boxtype="relativebox";Wb.parentwidth=K.XK();Wb.parentheight=K.P5();Wb.width="100%";Wb.height="100%";Wb.padding="0 0 0 3";Wb.border="0px;solid 1px #c8c8d5;0px;0px";var Rb=new jsx3.gui.Painted.Box(Wb);K.W8(Rb);Wb={};Wb.tagname="input[text]";Wb.boxtype="relativebox";Wb.parentwidth=Rb.XK();Wb.parentheight=Rb.P5();Wb.width="100%";Wb.height="100%";Wb.padding="0 0 0 0";Wb.empty=true;Wb.border="0px";var gb=new jsx3.gui.Painted.Box(Wb);Rb.W8(gb);}return kb;};l.paint=function(){this.applyDynamicProperties();var Wb=this.getId();var yc=this.getEnabled()==jsx3.gui.Form.STATEENABLED;var lb={};if(yc){lb[gc.MOUSEDOWN]=true;if(this.getType()==d.TYPECOMBO){lb[gc.KEYDOWN]="PF";lb[gc.FOCUS]=true;}else{lb[gc.KEYDOWN]="fs";}}var mc=this.lM(lb,0);var Bb=this.renderAttributes(null,true);var rb=this.RL(true);rb.setAttributes(" id=\""+Wb+"\" label=\""+this.getName()+"\" class=\""+this.CH()+"\" jsxtype=\"Select\" "+Bb+mc+this.CI());rb.setStyles(this.QP()+this.UZ()+"background-image:url("+d.ARROWICON+");background-repeat:no-repeat;background-position:right 0px;"+this.d9()+this.T1()+this.MU()+this.iN());var Gc=rb.pQ(0);Gc.setAttributes(" class=\"jsx30select_display\" jsxtype=\"Display\" "+this.vH());Gc.setStyles("");if(this.getType()==d.TYPESELECT){var P=Gc.pQ(0);P.setAttributes(" jsxtype=\"Text\" class=\"jsx30select_text\" unselectable=\"on\" ");P.setStyles(this.oY()+this.g0()+this.QP()+this.eQ());var kc=rb.paint().join(Gc.paint().join(P.paint().join(this.AN())));}else{var P=Gc.pQ(0);P.setAttributes("class=\"jsx30combo\"");var Hb=P.pQ(0);Hb.setAttributes(this.CI()+this.paintMaxLength()+" class=\"jsx30combo_text\" value=\""+this.AN().doReplace("\"","&quot")+"\" jsxtype=\"Text\" "+this.RX(gc.BLUR,"QB",3));Hb.setStyles(this.oY()+this.g0()+this.QP()+this.eQ());var kc=rb.paint().join(Gc.paint().join(P.paint().join(Hb.paint().join(""))));}return kc;};l.mL=function(m,s){if(!m.leftButton())return;if(m.srcElement().tagName.toLowerCase()!="input")this.Me();};l.SU=function(f,g){this.pz(g).focus();};l.Lk=function(n,r){n.cancelBubble();};l.setText=function(s){this.WG(s);return this;};l.WG=function(f){var fb;if(fb=this.pz())fb[this.getType()==d.TYPECOMBO?"value":"innerHTML"]=f;};l.focus=function(){var mb=this.getType()==d.TYPECOMBO?this.pz():this.getRendered();if(mb)mb.focus();return mb;};l.setValue=function(j){this.Os(this.isOldEventProtocol(),j);return this;};l.Os=function(q,i){if(i!=this.getValue()){var P=true;if(q instanceof gc)P=this.doEvent(jsx3.gui.Interactive.BEFORE_SELECT,{objEVENT:q,strRECORDID:i});if(P===false)return;this.jsxvalue=i;this.redrawRecord(i,jsx3.xml.CDF.UPDATE);if(q)this.doEvent(jsx3.gui.Interactive.SELECT,{objEVENT:q instanceof gc?q:null,strRECORDID:i});}};l.getValue=function(){return this.jsxvalue;};l.getText=function(){var Lb=this.getRecordNode(this.getValue());if(Lb!=null){var Zb=Lb.getAttribute("jsxtext");return Zb!=null?Zb:Lb.getAttribute("jsxid");}else{return this.getType()==d.TYPECOMBO||this.getValue()!=null?this.getValue():this.getDefaultText();}};l.redrawRecord=function(q,i){if(this.getValue()==q){var t=this.getRecordNode(q);if(t!=null){var Cb=t.getAttribute("jsxtext");this.WG(Cb!=null?Cb:t.getAttribute("jsxid"));}else{this.WG(this.getType()==d.TYPESELECT?this.getDefaultText():q);}}return this;};l.onDestroy=function(j){this.jsxsuper(j);this.onDestroyCached(j);};d.getVersion=function(){return "3.0.00";};l.containsHtmlElement=function(h){var wb=jsx3.gui.Heavyweight.GO(d.ZE);return this.jsxsuper(h)||wb!=null&&wb.containsHtmlElement(h);};l.getMaxLength=function(){return this.jsxmaxlength!=null?this.jsxmaxlength:null;};l.setMaxLength=function(k){k=parseInt(k);this.jsxmaxlength=k>0?k:null;return this;};l.paintMaxLength=function(m){return this.getMaxLength()!=null?" maxlength=\""+this.getMaxLength()+"\" ":"";};l.CH=function(){var _b=this.getClassName();return d.DEFAULTCLASSNAME+(_b?" "+_b:"");};l.emInit=function(k){this.jsxsupermix(k);this.subscribe(jsx3.gui.Interactive.SELECT,this,"Ti");};l.emCollapseEdit=function(m){this.hide(false);};l.Ti=function(q){this.commitEditMask(q.context.objEVENT,true);};});jsx3.Select=jsx3.gui.Select;
jsx3.require("jsx3.xml.Cacheable","jsx3.gui.Form","jsx3.gui.Heavyweight","jsx3.gui.Block","jsx3.gui.ToolbarButton");jsx3.Class.defineClass("jsx3.gui.Menu",jsx3.gui.Block,[jsx3.xml.Cacheable,jsx3.xml.CDF,jsx3.gui.Form],function(p,q){var T=jsx3.gui.Event;var sc=jsx3.gui.Interactive;p.DEFAULTBACKGROUND="background-image:url("+jsx3.resolveURI("jsx:///images/menu/bg.gif")+");backround-repeat:repeat-y;";p.DEFAULTBACKGROUNDCOLOR="#ffffff";p.DEFAULTXSLURL=jsx3.resolveURI("jsx:///xsl/jsxmenu.xsl");p.DEFAULTXSLCACHEID="JSX_MENU_XSL";p.DEFAULTCONTEXTLEFTOFFSET=12;p.NODATAMESSAGE="<div tabIndex ='0' class='jsx30menu_0_itemlist' onmousedown='var e = jsx3.gui.Event.wrap(event); jsx3.gui.Event.publish(e); e.cancelBubble(); e.cancelReturn();'>- no data -</div>";p.VB=new jsx3.util.MessageFormat("<div tabIndex=\"0\" class=\"{0}\" onmousedown=\"var e = jsx3.gui.Event.wrap(event); jsx3.gui.Event.publish(e); e.cancelBubble(); e.cancelReturn();\">{1}</div>");p.AA=0;p.Ww=1;p.zl=12;p.Yg=jsx3.resolveURI("jsx:///images/menu/submenuarrow.gif");p.Km=jsx3.resolveURI("jsx:///images/menu/selectover.gif");p.at=jsx3.resolveURI("jsx:///images/menu/selected.gif");p.qm=jsx3.resolveURI("jsx:///images/menu/down_menu.gif");p.bu=jsx3.resolveURI("jsx:///images/menu/off_menu.gif");p.bf=jsx3.resolveURI("jsx:///images/menu/on_menu.gif");p.oq=jsx3.resolveURI("jsx:///images/menu/over_menu.gif");p.uE=jsx3.resolveURI("jsx:///images/tbb/down.gif");p.Ky=jsx3.resolveURI("jsx:///images/tbb/on.gif");p.dv="#9B9BB7";jsx3.html.loadImages("jsx:///images/menu/bg.gif",p.qm,p.bu,p.bf,p.oq,p.at,p.Km,p.Yg,p.uE,p.Ky);p.vt=null;p.Te=[];p.Sp=null;p.np=null;p.Ps=null;p.ou=250;p._n=150;p.ef="jsx30curvisiblemenu_";p.Xz=1000;q.init=function(c,l){this.jsxsuper(c);if(l!=null)this.setText(l);};q.getImage=function(){return this.jsximage!=null&&this.jsximage.trim()!=""?this.jsximage:null;};q.setImage=function(g){this.jsximage=g;return this;};q.getXSL=function(){var wc=this.jsxsupermix(true);return wc||this.getServer().getCache().getOrOpenDocument(p.DEFAULTXSLURL,p.DEFAULTXSLCACHEID);};q.disableItem=function(r){return this.enableItem(r,false);};q.enableItem=function(b,g){delete this._jsxLm;if(g||g==null)this.deleteRecordProperty(b,"jsxdisabled",false);else this.insertRecordProperty(b,"jsxdisabled","1",false);return this;};q.isItemEnabled=function(n){var tc=this.getRecordNode(n);return tc!=null&&tc.getAttribute("jsxdisabled")!="1";};q.selectItem=function(f,n){delete this._jsxLm;if(n||n==null){var ab=this.getRecordNode(f);if(ab!=null){var ec=ab.getAttribute("jsxgroupname");if(ec){var H=this.getXML().selectNodes("//record[@jsxgroupname='"+ec+"']");for(var yc=0;yc<H.getLength();yc++){var hb=H.getItem(yc);if(hb.getAttribute("jsxid")!=f)H.getItem(yc).removeAttribute("jsxselected");}}}this.insertRecordProperty(f,"jsxselected",1,false);}else{this.deleteRecordProperty(f,"jsxselected",false);}return this;};q.deselectItem=function(d){return this.selectItem(d,false);};q.isItemSelected=function(e){var fc=this.getRecordNode(e);return fc!=null&&fc.getAttribute("jsxselected")=="1";};q.doFocus=function(j,c,h){if(c.getAttribute("jsxtype")!="Disabled"){var dc=c.getAttribute("jsxid");var S=this.Pc(dc);if(!S)this.AE(h);c.style.backgroundImage="url("+p.Km+")";if(!S)c.focus();}};q.AE=function(n){if(p.Te.length>n&&(p.FD==null||p.FD>n)){if(p.Ps)window.clearTimeout(p.Ps);this.ky(n,null);p.FD=n;var N=this;p.Ps=window.setTimeout(function(){if(N.getParent()==null)return;p.Ps=null;p.FD=null;N.sj(n+1,true);},p._n);}};q.doBlur=function(j,o){if(j!=null&&j.isFakeOut(o))return;if(o.getAttribute("jsxtype")!="Disabled"&&!this.Pc(o.getAttribute("jsxid"))){o.style.backgroundImage="url("+jsx3.gui.Block.SPACE+")";}};q.Pc=function(k){if(this._jsxxh)return this._jsxxh.indexOf(k)>=0;return false;};q.ky=function(b,c){if(b<1)return;if(this._jsxxh==null)this._jsxxh=[];if(c==null){var Ib=this._jsxxh[b-1];this._jsxxh.splice(b-1,this._jsxxh.length);if(Ib){var y=p.Te[b-1];if(y!=null){var ic=y.getRendered().childNodes[0].childNodes;for(var Ic=0;Ic<ic.length;Ic++){if(ic[Ic].getAttribute("jsxid")==Ib){this.doBlur(null,ic[Ic]);}}}}}else{this._jsxxh.splice(b-1,this._jsxxh.length,c);}};q.DY=function(i,d){if(this.jsxsupermix(i,d))return;if(i.downArrow()&&!i.hasModifier()){this.showMenu(i,d,1);i.cancelAll();}};q.M0=function(r){if(r.spaceKey()||r.enterKey()){r.cancelAll();}};q.mL=function(b,k){if(!b.leftButton())return;this.bA(b,k);k.childNodes[2].style.backgroundImage="url("+p.qm+")";if(this.getState()==p.Ww){if(!this._jsxTG)this.sj();}else{this.showMenu(b,k,1);}};q.CL=function(j,c){if(j.isFakeOver(c))return;if(p.np){window.clearTimeout(p.np);p.np=null;}this.zg(j,c);if(this.getState()==p.AA){c.childNodes[2].style.backgroundImage="url("+p.oq+")";}if(p.vt!=null&&this!=p.vt&&p.vt.getParent()==this.getParent()||jsx3.EventHelp.FLAG==1&&this.getCanDrop()==1)this.showMenu(j,c,1);};q.u2=function(i,d){if(i.isFakeOut(d))return;if(p.np){window.clearTimeout(p.np);p.np=null;}if(this.getState()==p.AA||d!=this._jsxds[0]){this.Vu(i,d);d.childNodes[2].style.backgroundImage="url("+p.bu+")";}};q.df=function(d,i){if(d.hasModifier())return;var F=Number(i.getAttribute("intINDEX"));var Jc=d.srcElement();var w=Jc.getAttribute("jsxtype");if((d.spaceKey()||d.enterKey())&&w!="Disabled"&&typeof(w)!="undefined"){this.Jx(d,Jc.getAttribute("jsxid"));this.sj();}else{if(d.rightArrow()&&w=="Book"){this.showMenu(d,Jc,F+1,Jc.getAttribute("jsxid"));}else{if(d.leftArrow()){this.sj(F);}else{if(d.escapeKey()){this.sj();}else{if(d.downArrow()){var tb=Jc;do{if(tb==tb.parentNode.lastChild){tb=tb.parentNode.firstChild;}else{tb=tb.nextSibling;}}while(tb.getAttribute("jsxdiv")!=null&&tb!=Jc);tb.focus();}else{if(d.upArrow()){var tb=Jc;do{if(tb==tb.parentNode.firstChild){tb=tb.parentNode.lastChild;}else{tb=tb.previousSibling;}}while(tb.getAttribute("jsxdiv")!=null&&tb!=Jc);tb.focus();}else{return;}}}}}}d.cancelAll();};q.Lk=function(a,l){if(!a.leftButton()){a.cancelBubble();return;}var Jb=Number(l.getAttribute("intINDEX"));var x=a.srcElement();var fb=x.getAttribute("jsxtype")=="Book"?x:x.parentNode;if(fb.getAttribute("jsxtype")=="Book")this.showMenu(a,fb,Jb+1,fb.getAttribute("jsxid"));if(this.getCanDrag()==1&&x.getAttribute("JSXDragType")!=null&&!a.rightButton()){this.doDrag(a,x,p.getDragIcon);}a.cancelBubble();};q.Vp=function(n,r){if(!n.leftButton()){n.cancelBubble();return;}var zb=Number(r.getAttribute("intINDEX"));if(this.getCanDrop()==1&&jsx3.EventHelp.isDragging()&&jsx3.EventHelp.DRAGTYPE=="JSX_GENERIC"){var N=n.srcElement();while(N!=null&&!N.getAttribute("jsxtype"))N=N.parentNode;if(N!=null&&N.getAttribute("jsxtype")!="disabled"){var ab=jsx3.EventHelp.JSXID.getId();var rc=jsx3.EventHelp.DRAGID;var Nc=jsx3.EventHelp.DRAGTYPE;var Gc=N.jsxid;var S=jsx3.GO(ab);if(S==null)return;var M=jsx3.gui.isMouseEventModKey(n);var U=S.doEvent(sc.ADOPT,{objEVENT:n,strRECORDID:rc,objTARGET:this,bCONTROL:M});var Mc={objEVENT:n,objSOURCE:S,strDRAGID:rc,strDRAGTYPE:jsx3.EventHelp.DRAGTYPE,strRECORDID:Gc,bALLOWADOPT:U!==false};var L=this.doEvent(M?sc.CTRL_DROP:sc.DROP,Mc);jsx3.EventHelp.reset();if(U!==false&&L!==false&&S.instanceOf(jsx3.xml.CDF))this.adoptRecord(S,rc,Gc);}}};p.getDragIcon=function(o,k,d,r){return "<span id='JSX' style='font-family:Verdana;font-size:10px;padding:0px;height:24px;padding:2px;width:200px;overflow:hidden;text-overflow:ellipsis;color:#a8a8a8;filter:progid:DXImageTransform.Microsoft.Gradient(GradientType=1, StartColorStr=#eedfdfe8, EndColorStr=#00ffffff);'><nobr>"+jsx3.html.getOuterHTML(o.parentNode).doReplace("BACKGROUND-IMAGE","")+"</nobr></span>";};q.wo=function(e,h){if(p.np){window.clearTimeout(p.np);p.np=null;}var nb=null;var O=e.srcElement();while(O!=null&&O.getAttribute("jsxtype")==null){O=O.parentNode;if(O==h||O==h.ownerDocument)O=null;}if(O!=null&&O.getAttribute("jsxtype")=="Book"){nb=O.getAttribute("jsxid");if(!this.Pc(nb)){var Hc=h;while(Hc!=null&&Hc.getAttribute("intINDEX")==null)Hc=Hc.parentNode;var Dc=Hc!=null?Number(Hc.getAttribute("intINDEX")):null;if(Dc!=null){var ub=this;e._0();p.np=window.setTimeout(function(){if(ub.getParent()==null)return;p.np=null;ub.showMenu(e,O,Dc+1,nb);},p.ou);}}}else{var Hc=h;while(Hc!=null&&Hc.getAttribute("intINDEX")==null)Hc=Hc.parentNode;var U=Hc!=null?Number(Hc.getAttribute("intINDEX")):null;if(U>0)this.AE(U);}if(nb==null){if((O=e.srcElement()).jsxid||(O=e.srcElement().parentNode).jsxid)nb=O.getAttribute("jsxid");}if(nb!=null)this.Ft(e,nb,O.getAttribute("jsxtype")=="Book");};q.Ft=function(h,r,o){if(this.getEvent(sc.SPYGLASS)){var Mc=h.clientX()+jsx3.EventHelp.DEFAULTSPYLEFTOFFSET;var Bb=h.clientY()+jsx3.EventHelp.DEFAULTSPYTOPOFFSET;var S=this;p.ri=window.setTimeout(function(){if(S.getParent()==null)return;p.ri=null;var J=S.doEvent(sc.SPYGLASS,{objEVENT:h,strRECORDID:r});if(J){jsx3.gui.Interactive.hideSpy();S.showSpy(J,Mc,Bb);}},o?p.Xz:jsx3.EventHelp.Xz);}};p.QE=function(){if(p.ri){window.clearTimeout(p.ri);p.ri=null;}jsx3.gui.Interactive.hideSpy();};q.hk=function(e,h){if(p.np){window.clearTimeout(p.np);p.np=null;}p.QE();};q.Vg=function(j,c){if(!j.leftButton()){j.cancelBubble();return;}var G=j.srcElement();while(G!=null&&!G.getAttribute("jsxid")){G=G.parentNode;if(G==c||G==c.ownerDocument)G=null;}if(G!=null){var Ec=G.getAttribute("jsxtype");if(Ec!="Book"&&Ec!="Disabled"){this.Jx(j,G.getAttribute("jsxid"));this.sj();}}};p._u=function(l){for(var N=p.Te.length-1;N>=l-1;N--)p.Te[N].destroy();p.Te.splice(l-1,p.Te.length);};q.sj=function(a,g){if(a==null)a=1;if(this==p.vt){if(p.Ps)window.clearTimeout(p.Ps);p.QE();this.ky(a-1,null);p._u(a);if(a==1){this.Vf(p.AA);this.doEvent(sc.HIDE);p.vt=null;p.fx=false;T.unsubscribe(T.MOUSEDOWN,p.fr);}if(!g){try{if(this._jsxds[a-1])this._jsxds[a-1].focus();else{if(a==1)this.focus();}}catch(Kc){}}this._jsxds.splice(a-1,this._jsxds.length);}};p.fr=function(r){if(p.vt!=null)p.vt.sj();};q.showContextMenu=function(n,k,l,d){p.fx=true;this._jsx_u=k;this._jsxfd=l;this.showMenu(n,null,1,null,d);};q.getContextParent=function(){return this._jsx_u;};q.getContextRecordId=function(){return this._jsxfd;};q.showMenu=function(f,j,k,l,o){var Eb=this.doEvent(sc.MENU,{objEVENT:f,objANCHOR:j,intINDEX:k,strPARENTID:l});if(Eb===false)return;if(j==null&&l!=null){j=this.getRendered(f);}if(k==1){this._jsxTG=true;if(p.vt!=null&&p.vt!=this){p.vt.sj(1,true);}p.vt=this;}f._0();jsx3.sleep(function(){this.dB(f,j,k,l,o);},"Menu.showTopMenu",this,true);if(this._jsxds==null)this._jsxds=[];};q.dB=function(d,s,g,b,f){this._jsxds[g-1]=s;this.ky(g,b);var Ub=p.ef+g;var tb=this.Mn(false,b,g);var Qb="jsx30menu_"+jsx3.html.getMode()+"_itemlist";var Hb="<span intINDEX=\""+g+"\""+this.RX(T.MOUSEOVER,"wo")+this.RX(T.MOUSEOUT,"hk")+this.RX(T.KEYDOWN,"df")+this.RX(T.CLICK,"Vg")+this.RX(T.MOUSEDOWN,"Lk")+this.RX(T.MOUSEUP,"Vp")+" class=\""+Qb+"\" style=\""+this.UZ()+this.K2()+"\">"+tb+"</span>";var Tb=p.Te[g-1];if(Tb)Tb.destroy();var Xb=p.Te[g-1]=new jsx3.gui.Heavyweight(Ub,this);Xb.setHTML(Hb);var xb=this.getHeight();var _b=this.getWidth();if(xb)Xb.setHeight(xb);if(_b)Xb.setWidth(_b);if(s&&b!=null){Xb.addXRule(s,"E","W",-6);Xb.addXRule(s,"E","E",-60);Xb.addYRule(s,"N","N",0);Xb.addYRule(s,"N","N",6);}else{if(s){Xb.addXRule(s,"W","W",-2);Xb.addRule(null,"W",0,"X");Xb.addYRule(s,"S","N",0);Xb.addYRule(s,"N","S",0);}else{if(f){Xb.addXRule(f.L,null,"W",p.DEFAULTCONTEXTLEFTOFFSET);Xb.addXRule(f.L,null,"E",-p.DEFAULTCONTEXTLEFTOFFSET);Xb.addYRule(f.T,null,"N",p.zl);Xb.addYRule(f.T,null,"S",-p.zl);}else{Xb.addXRule(d,null,"W",p.DEFAULTCONTEXTLEFTOFFSET);Xb.addXRule(d,null,"E",-p.DEFAULTCONTEXTLEFTOFFSET);Xb.addYRule(d,null,"N",p.zl);Xb.addYRule(d,null,"S",-p.zl);}}}if(g==1&&!p.fx)this.Vf(p.Ww,s);Xb.show();var Jb=Xb.getRendered(s);Jb.style.width=Jb.offsetWidth+30+"px";Jb.childNodes[0].childNodes[0].focus();if(g==1){T.subscribe(T.MOUSEDOWN,p.fr);jsx3.sleep(function(){this._jsxTG=false;},null,this);}};q.repaint=function(){this.sj();this.clearCachedContent();return this.jsxsuper();};q.Mn=function(e,b,g){if(e)this.clearCachedContent();if(this._jsxLm==null||b!=null){var mb={};mb.jsxtabindex=this.getIndex()?this.getIndex():0;mb.jsxselectedimage=p.at;mb.jsxtransparentimage=jsx3.gui.Block.SPACE;mb.jsxdragtype="JSX_GENERIC";mb.jsxid=this.getId();mb.jsxsubmenuimage=p.Yg;mb.jsxmode=jsx3.html.getMode();mb.jsxpath=jsx3.getEnv("jsxabspath");mb.jsxpathapps=jsx3.getEnv("jsxhomepath");mb.jsxpathprefix=this.getUriResolver().getUriPrefix();mb.jsxkeycodes=this.Kr(b);if(b!=null)mb.jsxrootid=b;if(g!=null)mb.jsxindex=g;var Qb=this.getXSLParams();for(var S in Qb)mb[S]=Qb[S];var bb=this.doTransform(mb);if(!jsx3.xml.Processor.supports(jsx3.xml.Processor.DISABLE_OUTPUT_ESCAPING))bb=jsx3.html.removeOutputEscapingSpan(bb);bb=bb.doReplace("<[/]*JSX_FF_WELLFORMED_WRAPPER>","");if(bb.trim()==""){var pb="jsx30menu_"+jsx3.html.getMode()+"_itemlist";bb=p.VB.format(pb,"- no data -");}if(b==null){this._jsxLm=bb;}else{return bb;}}return this._jsxLm;};q.Kr=function(o){if(this._jsxkn==null)return "";var Qb=new Array();for(var zc in this._jsxkn){Qb.push(zc+":"+this._jsxkn[zc].getFormatted());}Qb.push("");return Qb.join("|");};q.clearCachedContent=function(){delete this._jsxLm;};q.getState=function(){return this._jsxAr!=null?this._jsxAr:p.AA;};q.Vf=function(o,g){if(g==null)g=this.getRendered(g);if(g!=null){if(o==p.Ww){if(p.Sp==this)return this;if(p.Sp!=null)p.Sp.Vf(p.AA);g.style.backgroundImage="url("+p.Ky+")";g.childNodes[3].style.backgroundColor=p.dv;g.childNodes[2].style.backgroundImage="url("+p.bf+")";p.Sp=this;}else{g.style.backgroundImage="";g.childNodes[3].style.backgroundColor="";g.childNodes[2].style.backgroundImage="url("+p.bu+")";if(p.Sp==this){p.Sp=null;}}}this._jsxAr=o;return this;};q.Kl=function(){if(this._jsxkn!=null){for(var Mc in this._jsxkn)this._jsxkn[Mc].destroy();}this._jsxkn={};var _=this.getId();var Fc=this.getXML();if(Fc!=null){var Hb=Fc.selectNodes("//record[@jsxkeycode]");for(var nb=0;nb<Hb.getLength();nb++){var Rb=Hb.getItem(nb).getAttribute("jsxkeycode");Rb=Rb.toLowerCase();var fb=Hb.getItem(nb).getAttribute("jsxid");var Wb=jsx3.makeCallback(function(i,s){this.Nj(s[0],i);},this,fb);this._jsxkn[fb]=this.doKeyBinding(Wb,Rb);}}};q.Nj=function(a,f){var zb=this.getRecordNode(f);if(zb==null)return;var tb=zb.getParent();var fb=tb!=null&&tb.getNodeName()=="record"?tb.getAttribute("jsxid"):null;var Tb=this.doEvent(sc.MENU,{objEVENT:a,objANCHOR:null,intINDEX:null,strPARENTID:fb});if(Tb===false)return;if(this.isItemEnabled(f))this.Jx(a,f);};p.s5={};p.s5[T.KEYPRESS]=true;p.s5[T.KEYDOWN]=true;p.s5[T.MOUSEDOWN]=true;p.s5[T.MOUSEOUT]=true;p.s5[T.MOUSEOVER]=true;p.s5[T.BLUR]="u2";p.s5[T.FOCUS]="CL";q.k7=function(f,c,l){this.B_(f,c,l,3);};q.T5=function(){this.applyDynamicProperties();var Mc=this.getRelativePosition()!=0;var Ic={};Ic.height=22;if(Mc){var ac=this.getMargin();Ic.margin=ac!=null&&ac!=""?ac:"1 4 1 0";Ic.tagname="span";Ic.boxtype="relativebox";}else{var Sb=this.getLeft();var dc=this.getTop();Ic.left=Sb!=null&&Sb!=""?Sb:0;Ic.top=dc!=null&&dc!=""?dc:0;Ic.tagname="div";Ic.boxtype="box";}if(this.getDivider()==1){Ic.padding="0 0 0 4";Ic.border="0px;0px;0px;solid 1px "+p.dv;}var kb=new jsx3.gui.Painted.Box(Ic);Ic={};Ic.width=this.getImage()!=null&&this.getImage()!=""?22:3;Ic.height=22;Ic.tagname="span";Ic.boxtype="relativebox";var Bc=new jsx3.gui.Painted.Box(Ic);kb.W8(Bc);Ic={};if(jsx3.util.strEmpty(this.getText())){Ic.width=1;}else{Ic.padding="5 4 5 0";}Ic.height=22;Ic.tagname="span";Ic.boxtype="relativebox";var Jc=new jsx3.gui.Painted.Box(Ic);kb.W8(Jc);Ic={};Ic.width=11;Ic.height=22;Ic.tagname="span";Ic.boxtype="relativebox";var cb=new jsx3.gui.Painted.Box(Ic);kb.W8(cb);Ic={};Ic.width=1;Ic.height=22;Ic.tagname="span";Ic.boxtype="relativebox";var A=new jsx3.gui.Painted.Box(Ic);kb.W8(A);return kb;};q.paint=function(){this.applyDynamicProperties();this.Kl();var Zb=this;var Ec=this.getState()==p.Ww?"background-image:url("+p.Ky+");":"";var t=this.T1();var kc=this.MU();var Y=null,mc=null,mb=null;if(this.getEnabled()==jsx3.gui.Form.STATEENABLED){Y=this.lM(p.s5,0);mb="";}else{Y="";mb=jsx3.html.getCSSOpacity(0.4);}if(this.getImage()!=null)mc=this.getUriResolver().resolveURI(this.getImage());var qc=this.renderAttributes(null,true);var ec=this.RL(true);ec.setAttributes("id='"+this.getId()+"' "+"label='"+this.getName()+"' "+this.CI()+this.vH()+Y+" class='jsx30toolbarbutton'"+qc);ec.setStyles(this.I6()+Ec+t+kc+mb+this.d9()+this.iN());var Jc=ec.pQ(0);Jc.setStyles("overflow:hidden;"+(mc!=null?"background-image:url("+mc+");":""));Jc.setAttributes("class='jsx30toolbarbutton_img' unselectable='on'");var Ub=ec.pQ(1);Ub.setAttributes("class='jsx30toolbarbutton_lbl' unselectable='on'");var fb=this.getText();if(fb!=null&&fb!=""){Ub.setStyles(this.QP()+this.oY()+this.g0());}else{fb="&#160;";Ub.setStyles("overflow:hidden;");}var S=ec.pQ(2);S.setStyles("background-image:url("+(this.getState()==p.Ww?p.bf:p.bu)+");");S.setAttributes("class='jsx30toolbarbutton_mnu'");var Gb=ec.pQ(3);Gb.setStyles("overflow:hidden;"+(this.getState()==p.Ww?"background-color:"+p.dv+";":""));Gb.setAttributes("class='jsx30toolbarbutton_cap'");return ec.paint().join(Jc.paint().join("&#160;")+Ub.paint().join(fb)+S.paint().join("&#160;")+Gb.paint().join("&#160;"));};q.UZ=function(){return "background-color:"+(this.getBackgroundColor()?this.getBackgroundColor():p.DEFAULTBACKGROUNDCOLOR)+";";};q.K2=function(){return this.getBackground()?this.getBackground()+";":p.DEFAULTBACKGROUND;};q.I6=function(){return this.getEnabled()==jsx3.gui.Form.STATEENABLED?"cursor:pointer;":"cursor:default;";};q.executeRecord=function(m){this.Jx(this.isOldEventProtocol(),m);return this;};q.Jx=function(h,r){var Pb=null;if((Pb=this.getRecordNode(r))!=null){this._jsxvalue=r;var tc=Pb.getAttribute("jsxexecute");var G=true;var L={strRECORDID:r,objRECORD:Pb};if(h instanceof jsx3.gui.Event)L.objEVENT=h;G=jsx3.util.strEmpty(tc)?true:this.eval(tc,L);if(G!==false&&h)this.doEvent(sc.EXECUTE,L);}};q.redrawRecord=function(){delete this._jsxLm;if(this==p.vt)this.sj();return this;};q.getValue=function(){return this._jsxvalue;};q.doValidate=function(){return this.setValidationState(jsx3.gui.Form.STATEVALID).getValidationState();};q.beep=function(){var fc=this.getRendered();jsx3.gui.F9(fc.childNodes[2],{backgroundImage:"url("+p.qm+")"});jsx3.gui.F9(fc,{backgroundImage:"url("+p.uE+")"});jsx3.gui.F9(fc.childNodes[3],{backgroundColor:"#808080"});return this;};q.onDestroy=function(r){this.jsxsuper(r);this.onDestroyCached(r);};p.getVersion=function(){return "3.0.00";};q.emGetType=function(){return jsx3.gui.Matrix.EditMask.FORMAT;};q.emInit=function(a){this.jsxsupermix(a);this.subscribe(sc.EXECUTE,this,"Mg");};q.emSetValue=function(j){};q.emGetValue=function(){return null;};q.emBeginEdit=function(d,k,g,i,b,l,f){var Lb=f.childNodes[0].childNodes[0];if(Lb){this.jsxsupermix(d,k,g,i,b,l,f);Lb.focus();}else{return false;}};q.emPaintTemplate=function(){this.setEnabled(jsx3.gui.Form.STATEDISABLED);var M=this.paint();this.setEnabled(jsx3.gui.Form.STATEENABLED);var xb=this.paint();return this.PS(xb,M);};q.Mg=function(j){var Jb=this.emGetSession();if(Jb){Jb.td.focus();this.sj(1,true);}};q.containsHtmlElement=function(k){var t=this.jsxsuper(k);if(!t&&this==p.vt){for(var bc=0;bc<p.Te.length&&!t;bc++)t=p.Te[bc].containsHtmlElement(k);}return t;};q.getDivider=function(){return this.jsxdivider!=null?this.jsxdivider:0;};q.setDivider=function(e,r){this.jsxdivider=e;if(r)this.recalcBox(["border","padding"]);else this.C5();return this;};q.emCollapseEdit=function(o){this.sj(1,true);};});jsx3.gui.Menu.prototype.bA=jsx3.gui.ToolbarButton.prototype.mL;jsx3.gui.Menu.prototype.zg=jsx3.gui.ToolbarButton.prototype.CL;jsx3.gui.Menu.prototype.Vu=jsx3.gui.ToolbarButton.prototype.u2;jsx3.Menu=jsx3.gui.Menu;
jsx3.require("jsx3.xml.Cacheable","jsx3.gui.Form","jsx3.gui.Block");jsx3.Class.defineClass("jsx3.gui.Tree",jsx3.gui.Block,[jsx3.gui.Form,jsx3.xml.Cacheable,jsx3.xml.CDF],function(h,d){var Ob=jsx3.gui.Event;var Ib=jsx3.gui.Interactive;h.DEFAULTXSLID="JSX_TREE_XSL";h.DEFAULTXSLURL=jsx3.resolveURI("jsx:///xsl/jsxtree.xsl");h.ICONMINUS="jsx:///images/tree/minus.gif";h.ICONPLUS="jsx:///images/tree/plus.gif";h.ICON=jsx3.resolveURI("jsx:///images/tree/file.gif");h.SELECTEDIMAGE=jsx3.resolveURI("jsx:///images/tree/select.gif");h.ONDROPBGIMAGE="url("+jsx3.resolveURI("jsx:///images/tree/over.gif")+")";jsx3.html.loadImages(h.ICONMINUS,h.ICONPLUS,h.ICON,h.SELECTEDIMAGE,"jsx:///images/tree/over.gif");h.BORDERCOLOR="#8CAEDF";h.DEFAULTBACKGROUNDCOLOR="#ffffff";h.DEFAULTNODATAMSG="&#160;";h.vg=null;h.Yl=null;h.rf=250;h.De=null;h.MULTI=1;h.SINGLE=0;d.init=function(m,i){this.jsxsuper(m);if(i!=null)this.insertRecordProperty(i,"jsxselected","1",false);};d.onAfterAttach=function(){if(this.jsxvalue!=null&&this.jsxvalue!=""&&this.jsxvalue!="null")this.setValue(this.jsxvalue);this.jsxsuper();};d.getXSL=function(){var Ec=this.jsxsupermix(true);return Ec||this.getServer().getCache().getOrOpenDocument(h.DEFAULTXSLURL,h.DEFAULTXSLID);};d.doValidate=function(){var N=this.Et();var Zb=N.length>0||this.getRequired()==jsx3.gui.Form.OPTIONAL;this.setValidationState(Zb?jsx3.gui.Form.STATEVALID:jsx3.gui.Form.STATEINVALID);return this.getValidationState();};d.UZ=function(){return "background-color:"+(this.getBackgroundColor()?this.getBackgroundColor():h.DEFAULTBACKGROUNDCOLOR)+";";};d.setValue=function(g,c){var Gc=this.getMultiSelect()==h.MULTI;var Pb=this.isOldEventProtocol();if(g instanceof Array){if(!Gc)throw new jsx3.IllegalArgumentException("strRecordId",g);}else{if(Gc){g=[g];}}if(Gc){this.oj();for(var X=0;X<g.length;X++){var hc=g[X];if(hc!=null&&!this.g5(hc))continue;this.pn(hc);}if(c&&g.length>0)this.revealRecord(g[0]);if(Pb)this.doEvent(Ib.SELECT,{strRECORDID:g[0],strRECORDIDS:g});}else{if(g!=null&&!this.g5(g))return this;this.oj();if(g!=null){this.pn(g);if(c)this.revealRecord(g);}if(Pb)this.doEvent(Ib.SELECT,{strRECORDID:g,strRECORDIDS:[g]});}if(Pb)this.doEvent(Ib.CHANGE,{objEVENT:null});return this;};d.Ko=function(i,q,j,o,g){var Hc=this.getMultiSelect()==h.MULTI;if(Hc&&j){if(q!=null&&!this.g5(q))return;var yb=false;if(this.getRecordNode(q).getAttribute("jsxselected")=="1"){if(o)this.Eo(q);}else{this.pn(q);yb=true;}if(yb&&!g)this.doEvent(Ib.SELECT,{objEVENT:i,strRECORDID:q});}else{var vb=this.getValue()==q;if(!o&&vb&&!j)return;this.oj();if(q!=null&&!this.g5(q))q=null;if(q!=null){if(vb)this.Eo(q);else this.pn(q);}if(!g)this.doEvent(Ib.SELECT,{objEVENT:i,strRECORDID:vb?null:q});}if(!g)this.doEvent(Ib.CHANGE,{objEVENT:i});};d.So=function(b){var vc=typeof(b)=="string"?this.mF(b):b;if(vc!=null&&vc.getAttribute){b=vc.getAttribute("jsxid");if(b){try{vc.childNodes[0].childNodes[2].focus();this.rh(vc.getAttribute("jsxid"));}catch(Kc){}}}else{this.rh(null);}};d.rh=function(e){if(e!=null){if(this._jsxto==null){if(this.getMultiSelect()==h.MULTI)Ob.subscribeLoseFocus(this,this.getRendered(),"Po");}this._jsxto=e;}else{if(this._jsxto!=null)Ob.unsubscribeLoseFocus(this);this._jsxto=null;}};d.Po=function(n){Ob.unsubscribeLoseFocus(this);this._jsxto=null;};d.Ax=function(k){var gc=this.mF(k);if(gc!=null){var Gc=jsx3.html.selectSingleElm(gc,0,2);Gc.style.backgroundImage="url("+h.SELECTEDIMAGE+")";Gc.style.borderRight="solid 1px "+h.BORDERCOLOR;}};d.bw=function(q){var z=this.mF(q);if(z!=null){var Lc=jsx3.html.selectSingleElm(z,0,2);Lc.style.backgroundImage="";Lc.style.borderRight="";}};d.oj=function(){var z=this.Ei();for(var ic=0;ic<z.getLength();ic++){var Wb=z.getItem(ic);Wb.removeAttribute("jsxselected");this.bw(Wb.getAttribute("jsxid"));}};d.Eo=function(k){this.deleteRecordProperty(k,"jsxselected",false);this.bw(k);};d.pn=function(c){this.insertRecordProperty(c,"jsxselected","1",false);this.Ax(c);};d.Ei=function(){return this.getXML().selectNodes("//record[@jsxselected='1']");};d.Et=function(){var B=this.Ei();var rc=[];var Hb=B.getLength();for(var jc=0;jc<Hb;jc++){rc[jc]=B.getItem(jc).getAttribute("jsxid");}return rc;};d.revealRecord=function(f,g){var Ec=this.getRecordNode(f);var w=Ec?Ec.getParent():null;while(w!=null){this.toggleItem(w.getAttribute("jsxid"),true);w=w.getParent();}var rc=this.mF(f);if(rc){var pc=g?g.getRendered(rc):this.getRendered(rc);if(pc)jsx3.html.scrollIntoView(rc,pc,0,10);}};d.getValue=function(){return this.getMultiSelect()==h.SINGLE?this.Et()[0]:this.Et();};d.getKeyListener=function(){return this.jsxkeylistener==null?jsx3.Boolean.TRUE:this.jsxkeylistener;};d.setKeyListener=function(m){this.jsxkeylistener=m;return this;};d.getText=function(){var ab=this.Ei().getItem(0);return ab!=null?ab.getAttribute("jsxtext"):null;};d.getMultiSelect=function(){return this.jsxmultiselect==null?h.SINGLE:this.jsxmultiselect;};d.setMultiSelect=function(m){this.jsxmultiselect=m;return this;};d.redrawRecord=function(m,l){var Lc=this.mF(m);if(l==jsx3.xml.CDF.DELETE){if(Lc){if(Lc.parentNode.childNodes.length>1){Lc.parentNode.removeChild(Lc);}else{var M=Lc.parentNode.parentNode;var cc=M.getAttribute("jsxid");jsx3.html.setOuterHTML(M,this.doTransform(cc));}}return this;}if(Lc==null){var sc=this.getRecordNode(m);if(sc!=null){if(this.getParent()!=null){sc=sc.getParent();var cc=sc.getAttribute("jsxid");var M=this.mF(cc);if(M!=null){jsx3.html.setOuterHTML(M,this.doTransform(cc));}}}}else{jsx3.html.setOuterHTML(Lc,this.doTransform(m));}return this;};d.getRoot=function(){return this.jsxuseroot!=null?this.jsxuseroot:jsx3.Boolean.TRUE;};d.setRoot=function(o){this.jsxuseroot=o;return this;};d.getIcon=function(){return this.jsxicon!=null?this.jsxicon:h.ICON;};d.setIcon=function(p){this.jsxicon=p;return this;};d.getIconMinus=function(){return this.jsxiconminus!=null?this.jsxiconminus:h.ICONMINUS;};d.setIconMinus=function(j){this.jsxiconminus=j;return this;};d.getIconPlus=function(){return this.jsxiconplus!=null?this.jsxiconplus:h.ICONPLUS;};d.setIconPlus=function(k){this.jsxiconplus=k;return this;};d.mF=function(j){var rc=this.getDocument();return rc!=null?rc.getElementById(this.getId()+"_"+j):null;};d.SU=function(i,m){if(m!=i.srcElement())return;var hb=this.Et()[0];if(hb){this.So(hb);}else{var qb=this.getRendered(m).childNodes[0];if(qb!=null)this.So(qb);}};d.IU=function(l,i){if(!l.leftButton())return;i=l.srcElement();var Tb=this.getRendered(i);while(jsx3.util.strEmpty(i.getAttribute("jsxtype"))&&i!=Tb)i=i.parentNode;if(i.getAttribute("jsxtype")!=null){if(i.getAttribute("jsxtype")=="plusminus"){this.Sk(l,i.parentNode.parentNode.getAttribute("jsxid"));}else{if(i.getAttribute("jsxtype")=="text"||i.getAttribute("jsxtype")=="icon"){var bc=i.parentNode.parentNode.getAttribute("jsxid");this.So(i.parentNode.parentNode);if(!i.parentNode)i=this.mF(bc).childNodes[0].childNodes[2];if(this.g5(bc)){if(l.shiftKey()&&this.getMultiSelect()==h.MULTI){var wb=this.sC();if(wb){this.revealRecord(wb);this.dl(l,wb,bc);}else{this.Ko(l,bc,true,true);}}else{var yb=jsx3.gui.isMouseEventModKey(l);this.Ko(l,bc,yb,yb);}}}else{this.So(this.Et()[0]);}}}else{this.So(this.Et()[0]);}};d.sC=function(){return this._jsxto;};d.dl=function(j,b,g){var oc=false;var tb=!jsx3.gui.isMouseEventModKey(j)||this.getRecordNode(g).getAttribute("jsxselected")!="1";var ec=[b];var Hb=b;while((Hb=this.Ii(Hb))!=null){ec.push(Hb);if(Hb==g){oc=true;break;}}if(!oc){ec=[b];Hb=b;while((Hb=this.uv(Hb))!=null){ec.push(Hb);if(Hb==g){oc=true;break;}}if(!oc){return;}}if(!jsx3.gui.isMouseEventModKey(j))this.oj();for(var tc=0;tc<ec.length;tc++){var u=ec[tc];var cc=tc==ec.length-1;var G=this.getRecordNode(u).getAttribute("jsxselected")=="1";if(tb||G){this.Ko(j,u,true,!tb&&G,!cc);}}};d.g5=function(e){var uc=e instanceof jsx3.xml.Entity?e:this.getRecord(e);return uc!=null&&uc.jsxunselectable!="1";};h.getDragIcon=function(o,k,p,r){return "<div id='JSX' class='jsx30tree_dragicon' style='"+jsx3.html.getCSSOpacity(0.75)+"'>"+jsx3.html.getOuterHTML(o.parentNode.childNodes[1])+jsx3.html.getOuterHTML(o)+"</div>";};d.toggleItem=function(b,l,q){var W=this.getRecordNode(b);var v=this.mF(b);if(v!=null){this.SA(W,v,l,q);}return this;};d.Sk=function(j,p,q,l){var nc=this.getRecordNode(p);var qb=this.mF(p);if(qb!=null){var Ic=null;if(nc.getAttribute("jsxlazy")=="1"&&nc.getAttribute("jsxopen")!="1"&&(q==null||q===true)){jsx3.html.updateCSSOpacity(qb.childNodes[0].childNodes[0],0.5);jsx3.sleep(function(){if(this.getParent()==null)return;var nb=this.doEvent(Ib.DATA,{objXML:this.getXML(),objNODE:nc});if(nb&&typeof(nb)=="object"){if(nb.bCLEAR)nc.removeAttribute("jsxlazy");if(nb.arrNODES!=null){nc.removeChildren();for(var db=0;db<nb.arrNODES.length;db++)nc.appendChild(nb.arrNODES[db]);}}else{nc.removeAttribute("jsxlazy");}this.redrawRecord(p,jsx3.xml.CDF.UPDATE);if(l!=null)l();},null,this);nc.setAttribute("jsxopen","1");Ic=true;}else{Ic=this.SA(nc,qb,q,false);}this.doEvent(Ib.TOGGLE,{objEVENT:j,strRECORDID:p,objRECORD:nc,bOPEN:Ic});}};d.SA=function(k,n,f,i){var Ic=k.getAttribute("jsxopen")=="1";if(f==null)f=!Ic;if(Ic==f)return f;if(f){n.childNodes[0].childNodes[0].src=this.getUriResolver().resolveURI(this.getIconMinus());n.childNodes[1].style.display="block";k.setAttribute("jsxopen","1");}else{n.childNodes[0].childNodes[0].src=this.getUriResolver().resolveURI(this.getIconPlus());n.childNodes[1].style.display="none";k.removeAttribute("jsxopen");}if(i)n.childNodes[0].childNodes[0].setAttribute("jsxtype","plusminus");return f;};d.mL=function(m,s){if(this.getCanDrag()==1&&!m.rightButton()){var yb=m.srcElement();if(yb==null)return;var u=false;if(jsx3.util.strEmpty(yb.getAttribute("jsxtype")))yb=yb.parentNode;if(yb.getAttribute("jsxtype")=="icon"){u=true;yb=yb.parentNode.childNodes[2];}if(yb.getAttribute("jsxtype")=="text"){if(!this.g5(yb.getAttribute("JSXDragId")))return;var rc=this;m._0();h.De=window.setTimeout(function(){h.De=null;Ob.unsubscribe(Ob.MOUSEUP,rc,"Ff");if(rc.getParent()!=null){rc.IU(m,s);rc.doDrag(m,yb,h.getDragIcon);}},h.rf);Ob.subscribe(Ob.MOUSEUP,this,"Ff");if(u){Ob.publish(m);m.cancelAll();}}}};d.Ff=function(n){Ob.unsubscribe(Ob.MOUSEUP,this,"Ff");if(h.De)window.clearTimeout(h.De);};d._4=function(a,l){var eb=a.srcElement();if(eb==null)return;var Db=eb.getAttribute("jsxtype");if(jsx3.util.strEmpty(Db))eb=eb.parentNode;Db=eb.getAttribute("jsxtype");if(Db=="text"||Db=="icon"){var X=eb.parentNode.parentNode.getAttribute("jsxid");if(this.getCanDrop()==1&&jsx3.EventHelp.isDragging()){var Ec=jsx3.EventHelp.JSXID;var Hb=jsx3.EventHelp.DRAGID;var Wb=jsx3.EventHelp.DRAGTYPE;var vc=jsx3.gui.isMouseEventModKey(a);eb.parentNode.style.backgroundImage="";if(Ec==null)return;var Ac=Ec.doEvent(Ib.ADOPT,{objEVENT:a,strRECORDID:Hb,objTARGET:this,bCONTROL:vc});var gc={objEVENT:a,strRECORDID:X,objSOURCE:Ec,strDRAGID:Hb,strDRAGTYPE:Wb,bALLOWADOPT:Ac!==false};var Bb=this.doEvent(vc?Ib.CTRL_DROP:Ib.DROP,gc);if(Ac!=false&&Bb!==false&&Ec.instanceOf(jsx3.xml.CDF))this.adoptRecord(Ec,Hb,X);}else{if(a.rightButton()&&this.getMenu()){var Gc=this.getServer().getJSX(this.getMenu());if(Gc!=null&&this.g5(X)){var Eb=this.doEvent(Ib.MENU,{objEVENT:a,objMENU:Gc,strRECORDID:X});if(Eb!==false){if(Eb instanceof Object&&Eb.objMENU instanceof jsx3.gui.Menu)Gc=Eb.objMENU;var Qb=a.shiftKey()||jsx3.gui.isMouseEventModKey(a);this.Ko(a,X,Qb,Qb);Gc.showContextMenu(a,this,X);}}}}}};d.CL=function(i,r){var Jc=i.toElement();if(Jc==null)return;var dc=Jc.getAttribute("jsxtype");var S=Jc.parentNode.parentNode.getAttribute("jsxid");var nb=Jc.parentNode.parentNode;if(jsx3.EventHelp.isDragging()&&this.getCanDrop()==1){var Ac=jsx3.EventHelp.JSXID;var H=jsx3.EventHelp.DRAGID;var O=jsx3.EventHelp.DRAGTYPE;if(dc=="plusminus"){var W=this;i._0();h.vg=window.setTimeout(function(){if(W.getParent()!=null)W.Sk(i,S);},500);}else{if(dc=="text"){var Cb=this.doEvent(Ib.BEFORE_DROP,{objEVENT:i,strRECORDID:S,objSOURCE:Ac,strDRAGID:H,strDRAGTYPE:O,objGUI:nb});if(!(Cb===false))Jc.parentNode.style.backgroundImage=h.ONDROPBGIMAGE;}}}else{if(dc=="text"&&this.getEvent(Ib.SPYGLASS)){this.applySpyStyle(Jc);var Fc=i.clientX()+jsx3.EventHelp.DEFAULTSPYLEFTOFFSET;var jc=i.clientY()+jsx3.EventHelp.DEFAULTSPYTOPOFFSET;i._0();var W=this;if(h.Yl)window.clearTimeout(h.Yl);h.Yl=window.setTimeout(function(){h.Yl=null;if(W.getParent()!=null)W.Zx(i,Fc,jc,S,Jc,nb);},jsx3.EventHelp.SPYDELAY);}}};d.Zx=function(s,m,i,n,g,j){this.removeSpyStyle(g);var Kb=this.doEvent(Ib.SPYGLASS,{objEVENT:s,strRECORDID:n});if(Kb){jsx3.gui.Interactive.hideSpy();this.showSpy(Kb,m,i);}};d.u2=function(m,c){var Ab=m.fromElement();if(Ab==null)return;var lc=Ab.getAttribute("jsxtype");if(jsx3.EventHelp.isDragging()&&this.getCanDrop()==1){if(lc=="plusminus"){window.clearTimeout(h.vg);}else{if(lc=="text"){var Gb=jsx3.EventHelp.JSXID;var v=jsx3.EventHelp.DRAGID;var oc=jsx3.EventHelp.DRAGTYPE;var K=Ab.parentNode.parentNode.getAttribute("jsxid");var O=Ab.parentNode.parentNode;var ob=this.doEvent(Ib.CANCEL_DROP,{objEVENT:m,strRECORDID:K,objSOURCE:Gb,strDRAGID:v,strDRAGTYPE:oc,objGUI:O});if(!(ob===false))Ab.parentNode.style.backgroundImage="";}}}else{if(lc=="text"&&this.getEvent(Ib.SPYGLASS)){var C=m.toElement();if(!C||C.id!="_jsxspy"){jsx3.sleep(jsx3.gui.Interactive.hideSpy);this.removeSpyStyle(Ab);if(h.Yl)window.clearTimeout(h.Yl);}}}};d.DY=function(a,j){if(this.jsxsupermix(a,j))return;var v=a.keyCode();var xb=this.getXML();var Pb=a.srcElement().parentNode.parentNode;if(Pb!=null&&Pb.getAttribute("jsxid")!=null){var ib=Pb.getAttribute("jsxid");if(v>=Ob.KEY_ARROW_LEFT&&v<=Ob.KEY_ARROW_DOWN){var Hb=this.getRecordNode(ib);var Dc=Hb.getAttribute("jsxlazy")=="1";if(Dc||Hb.selectSingleNode("record")!=null){var S=true;var ic=Hb.getAttribute("jsxopen")=="1";}else{var S=false;}if(v==Ob.KEY_ARROW_LEFT){if(S&&ic){this.Sk(a,ib,false);}else{this.Ud(Hb);}}else{if(v==Ob.KEY_ARROW_UP){this.Ud(Hb);}else{if(v==Ob.KEY_ARROW_RIGHT){if(Dc&&!ic){var hc=this;this.Sk(a,ib,true,function(){hc.So(ib);});}else{if(S&&!ic){this.Sk(a,ib,true);}else{this.Gk(Hb);}}}else{if(v==Ob.KEY_ARROW_DOWN){this.Gk(Hb);}}}}a.cancelAll();}else{if(v==Ob.KEY_TAB){if(a.shiftKey()){jsx3.html.focusPrevious(this.getRendered(j),a);}else{jsx3.html.focusNext(this.getRendered(j),a);}}else{if(a.spaceKey()||a.enterKey()){var tc=this.getRecordNode(ib).getAttribute("jsxselected")=="1";if(tc&&a.enterKey()){this.nF(a,ib);}else{this.Ko(a,ib,jsx3.gui.isMouseEventModKey(a)||a.shiftKey(),true);}a.cancelAll();}}}}};d.Ud=function(c){var ub=this.uv(c.getAttribute("jsxid"));if(ub!=null)this.So(ub);};d.Gk=function(o){var sc=this.Ii(o.getAttribute("jsxid"));if(sc!=null)this.So(sc);};d.uv=function(r){var vb=this.mF(r);if(vb!=null){var wb=vb.previousSibling;if(wb!=null){while(wb.childNodes[1].style.display=="block"){var bb=wb.childNodes[1].lastChild;if(bb==null)break;wb=bb;}return wb.getAttribute("jsxid");}else{return vb.parentNode.parentNode.getAttribute("jsxid");}}return null;};d.Ii=function(k){var Hc=this.mF(k);if(Hc!=null){if(Hc.childNodes[1].style.display=="block"){var Jb=Hc.childNodes[1].firstChild;if(Jb!=null)return Jb.getAttribute("jsxid");}var eb=Hc.nextSibling;if(eb!=null){return eb.getAttribute("jsxid");}else{var hb=this.getId();var lc=Hc.parentNode.parentNode;while(lc!=null&&lc.id&&lc.id.indexOf(hb)==0){if(lc.nextSibling!=null)return lc.nextSibling.getAttribute("jsxid");lc=lc.parentNode.parentNode;}}}return null;};d.executeRecord=function(p){this.nF(this.isOldEventProtocol(),p);};d.nF=function(l,n){var vc=null;if(n==null)vc=this.Et();else{if(!(n instanceof Array))vc=[n];else vc=n;}for(var K=0;K<vc.length;K++){var Zb=vc[K];if(Zb==null||!this.g5(Zb))continue;var xc=this.getRecordNode(Zb);var uc={strRECORDID:Zb,objRECORD:xc};if(l instanceof jsx3.gui.Event)uc.objEVENT=l;var Pb=null;if(xc!=null&&(Pb=xc.getAttribute("jsxexecute"))!=null)this.eval(Pb,uc);if(l)this.doEvent(Ib.EXECUTE,uc);}};d.LH=function(e,r){var Cc=null;var Zb=e.srcElement();if(Zb!=null&&jsx3.util.strEmpty(Zb.getAttribute("jsxtype")))Zb=Zb.parentNode;if(Zb!=null&&Zb.getAttribute("jsxtype")!=null&&(Zb.getAttribute("jsxtype")=="text"||Zb.getAttribute("jsxtype")=="icon"))Cc=Zb.parentNode.parentNode.getAttribute("jsxid");if(Cc)this.nF(e,Cc);};h.s5={};h.s5[Ob.CLICK]=true;h.s5[Ob.DOUBLECLICK]=true;h.s5[Ob.MOUSEOVER]=true;h.s5[Ob.MOUSEOUT]=true;h.s5[Ob.MOUSEUP]=true;h.s5[Ob.MOUSEDOWN]=true;h.s5[Ob.KEYDOWN]=true;h.s5[Ob.FOCUS]=true;d.k7=function(n,k,q){this.B_(n,k,q,3);};d.T5=function(g){this.applyDynamicProperties();if(this.getParent()&&(g==null||isNaN(g.parentwidth)||isNaN(g.parentheight))){g=this.getParent().IO(this);}else{if(g==null){g={};}}g.boxtype="box";g.tagname="div";if(g.left==null)g.left=0;if(g.top==null)g.top=0;if(g.width==null)g.width="100%";if(g.height==null)g.height="100%";var Cb,Hc;if((Cb=this.getBorder())!=null&&Cb!="")g.border=Cb;if((Hc=this.getPadding())!=null&&Hc!="")g.padding=Hc;return new jsx3.gui.Painted.Box(g);};d.paint=function(){this.applyDynamicProperties();var dc=this.getId();var nb=this.doTransform().trim();if(!nb)nb=this.getNoDataMessage();nb=nb+("<img src=\""+jsx3.gui.Block.SPACE+"\""+this.RX(Ob.FOCUS,"SU")+" style=\"position:absolute;left:0px;top:0px;width:1px;height:1px;\" "+this.CI()+"/>");var U="";if(this.getEnabled()==1)U=this.lM(h.s5,0);var C=this.renderAttributes(null,true);var fb=this.RL(true);fb.setAttributes(this.vH()+U+" id=\""+dc+"\" label=\""+this.getName()+"\" class=\"jsx30tree\" "+C);fb.setStyles(this.g0()+this.UZ()+this.K2()+this.QP()+this.A0()+this.oY()+this.D6()+this.I6()+this.T1()+this.MU()+this.iN());return fb.paint().join(nb);};d.doTransform=function(n){var Gb={};var v=false;if(n==null){var Y=this.getXML().getRootNode();if(Y){var Hc=Y.getChildNodes();if(Hc.getLength()>0)n=Hc.getItem(0).getAttribute("jsxid");}}else{v=true;}if(n!=null)Gb.jsxrootid=n;Gb.jsxtabindex=this.getIndex()==null?0:this.getIndex();Gb.jsxselectedimage=h.SELECTEDIMAGE;Gb.jsxbordercolor=h.BORDERCOLOR;Gb.jsxicon=this.getIcon();Gb.jsxiconminus=this.getUriResolver().resolveURI(this.getIconMinus());Gb.jsxiconplus=this.getUriResolver().resolveURI(this.getIconPlus());Gb.jsxtransparentimage=jsx3.gui.Block.SPACE;Gb.jsxdragtype="JSX_GENERIC";Gb.jsxid=this.getId();Gb.jsxuseroot=v?1:this.getRoot();Gb.jsxfragment=v?1:0;Gb.jsxpath=jsx3.getEnv("jsxabspath");Gb.jsxpathapps=jsx3.getEnv("jsxhomepath");Gb.jsxpathprefix=this.getUriResolver().getUriPrefix();var Db=this.getXSLParams();for(var Wb in Db)Gb[Wb]=Db[Wb];var zc=this.jsxsupermix(Gb);zc=zc.doReplace("<[/]*JSX_FF_WELLFORMED_WRAPPER[/]*>","");return zc;};d.getNoDataMessage=function(){return this.jsxnodata==null?h.DEFAULTNODATAMSG:this.jsxnodata;};d.onSetChild=function(k){return false;};d.onDestroy=function(m){this.jsxsuper(m);this.onDestroyCached(m);};h.getVersion=function(){return "3.0.00";};});jsx3.Tree=jsx3.gui.Tree;
jsx3.require("jsx3.gui.Block");jsx3.Class.defineClass("jsx3.gui.Column",jsx3.gui.Block,null,function(n,b){n.DEFAULTWIDTH=100;n.DEFAULTCELLCLASSLIST="jsx30column_c1";n.DEFAULTCELLCLASSGRID="jsx30column_c3";n.TYPETEXT="text";n.TYPENUMBER="number";n.FIXED=0;n.RESIZEABLE=1;n.RESIZABLE=1;n.Fw="<xsl:choose><xsl:when test=\"@path@ and not(@path@='')\"><xsl:value-of select=\"@path@\"/></xsl:when><xsl:otherwise>&#160;</xsl:otherwise></xsl:choose>";n.At=jsx3.resolveURI("jsx:///images/list/sort_asc.gif");n.Wo=jsx3.resolveURI("jsx:///images/list/sort_desc.gif");jsx3.html.loadImages(n.At,n.Wo);n.Jr="&#160;";n.VALIGNTOP="top";n.VALIGNMIDDLE="middle";b.init=function(m,h,o,c){this.jsxsuper(m,null,null,o,null,h);if(c!=null)this.setPath(c);};b.onSetParent=function(h){return jsx3.gui.List&&h instanceof jsx3.gui.List;};b.onDestroy=function(q){return this.doEvent(jsx3.gui.Interactive.DESTROY,{objPARENT:q});};b.getDataType=function(){return this.jsxdatatype==null?n.TYPETEXT:this.jsxdatatype;};b.setDataType=function(d){this.jsxdatatype=d;return this;};b.getEditMask=function(){return this.jsxmask==null?null:this.jsxmask;};b.setEditMask=function(m){this.jsxmask=m;return this;};b.getResizable=function(){return this.jsxresize==null?jsx3.Boolean.TRUE:this.jsxresize;};b.setResizable=function(d){this.jsxresize=d;return this;};b.getPath=function(){return this.jsxpath==null?"@jsxid":this.jsxpath;};b.setPath=function(f){this.jsxpath=f;return this;};b.getSortPath=function(){return this.jsxsortpath!=null?this.jsxsortpath:this.getPath();};b.setSortPath=function(q){this.jsxsortpath=q;return this;};b.getWrap=function(){return this.jsxwrap==null?jsx3.Boolean.FALSE:this.jsxwrap;};b.setWrap=function(g){this.jsxwrap=g;return this;};b.getVAlign=function(){return this.jsxvalign==null?n.VALIGNTOP:this.jsxvalign;};b.setVAlign=function(o){this.jsxvalign=o;return this;};b.k7=function(){};b.paint=function(e,g){this.applyDynamicProperties();var C=this.getParent();var J="";if(C.getResizable()){var z=C.LC();var uc=z.indexOf(this);if(uc!=0&&z[uc-1].getResizable()||e&&z[z.length-1].getResizable())J="<span "+C.RX(jsx3.gui.Event.MOUSEDOWN,"DA")+" style=\"\" class=\"jsx30column_anchor\">&#160;</span>";}if(e){return "<td  unselectable=\"on\"  class=\"jsx30column_cell\" style=\"position:relative;padding:0px;\" width=\"*\" ><div style=\"white-space:nowrap;position:relative;height:100%;width:100%;padding:0px;\">"+J+"&#160;</div></td>";}else{var eb=this.RX(jsx3.gui.Event.MOUSEUP,"_4",0);if(C.getCanReorder())eb=eb+C.RX(jsx3.gui.Event.MOUSEDOWN,"Oh");else{if(C.getCanSort()!=0&&this.getCanSort()!=0)eb=eb+C.RX(jsx3.gui.Event.CLICK,"Aq");}var mb=g==null?"":"background-image:url("+(g==jsx3.gui.List.SORTASCENDING?n.At:n.Wo)+");background-repeat:no-repeat;background-position:99% center;";var cb=this.getWrap()?"":"overflow-x:hidden;white-space:nowrap;text-overflow:ellipsis;";var G=this.getVAlign()==n.VALIGNTOP?C.nV():"";return "<td cellindex=\""+this.getChildIndex()+"\" id=\""+this.getId()+"\" unselectable=\"on\" "+eb+this.OO()+" class=\"jsx30column_cell\" style=\"padding-left:0px;position:relative;"+this.I6(e)+this.UZ()+this.QP()+this.oY()+this.D6()+this.eQ()+this.paintCSSWidth()+this.g0()+mb+this.iN()+"\" "+this.vH()+"><div style=\""+G+cb+"position:relative;height:100%;width:100%;padding-left:4px;vertical-align:middle;\">"+J+"<div>"+this.AN()+"</div>"+"</div></td>";}};b.repaint=function(){this.getParent().resetXslCacheData();this.getParent().repaintHead();this.getParent().repaintBody();};b.I6=function(c){return !this.getCursor()||c?"cursor:default;":"cursor:"+this.getCursor()+";";};b.AN=function(){return this.getText()?this.getText():n.Jr;};b.OO=function(g){if(g)return " width=\"*\"";return " width=\""+(this.getWidth()?this.getWidth():n.DEFAULTWIDTH)+"\"";};b.paintCSSWidth=function(k){if(k)return "";var Bb=this.getWidth()?this.getWidth():n.DEFAULTWIDTH;if(!isNaN(Bb))Bb=Bb+"px";return "width:"+Bb+";";};b.CH=function(){return this.getClassName()?this.getClassName():jsx3.gui.Grid&&this.getParent() instanceof jsx3.gui.Grid?n.DEFAULTCELLCLASSGRID:n.DEFAULTCELLCLASSLIST;};b.getXSLString=function(l){return this.jsxxsl;};b.setXSLString=function(k){if(jsx3.util.strEmpty(k)){delete this.jsxxsl;}else{this.jsxxsl=k;}return this;};b.paintXSLString=function(h){var z=this.getPath()?"<xsl:value-of select=\""+this.getPath()+"\"/>":"";if(this.getParent().getWrap()==jsx3.Boolean.TRUE){var ob="";var J="";}else{var ob="<nobr>";var J="</nobr>";}if(h){return "<td style=\"position:relative;\" xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\" unselectable=\"on\" width=\"*\" class=\""+this.CH()+"\">&#160;</td>";}else{if(jsx3.gui.Grid&&this.getParent() instanceof jsx3.gui.Grid){var G;var vc=(G=this.getEditMask())==null?"":" jsxmask=\""+G+"\" ";return "<td valign=\"top\" "+this.getParent().CI()+vc+this.OO()+this.RX(jsx3.gui.Event.FOCUS,"SU")+this.getParent().RX(jsx3.gui.Event.BLUR,"doBlurItem")+" style=\"position:relative;"+this.eQ()+";\" xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\" unselectable=\"on\" "+" class=\""+this.CH()+"\">"+ob+this.GD()+J+"</td>";}else{return "<td"+this.OO()+" style=\"position:relative;"+this.eQ()+"\" xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\" unselectable=\"on\""+" class=\""+this.CH()+"\">"+ob+this.GD()+J+"</td>";}}};b.SU=function(r,p){this.getParent().doFocusItem(p);};b.GD=function(){if(this.getXSLString()){var I=this.getPath();if(I)return this.getXSLString().doReplace("@path@",I);else return this.getXSLString();}else{var I=this.getPath();if(I)return n.Fw.doReplace("@path@",I);else return "";}};b.getCanSort=function(){return this.jsxsort==null?1:this.jsxsort;};b.setCanSort=function(q){this.jsxsort=q;return this;};b.getMaskProperties=function(){return jsx3.gui.Block.MASK_NO_EDIT;};n.getVersion=function(){return "3.0.00";};});jsx3.gui.Column.prototype.getResizeable=jsx3.gui.Column.prototype.getResizable;jsx3.gui.Column.prototype.setResizeable=jsx3.gui.Column.prototype.setResizable;jsx3.Column=jsx3.gui.Column;
jsx3.require("jsx3.xml.Cacheable","jsx3.gui.Form","jsx3.gui.Block","jsx3.gui.Column");jsx3.Class.defineClass("jsx3.gui.List",jsx3.gui.Block,[jsx3.gui.Form,jsx3.xml.Cacheable,jsx3.xml.CDF],function(h,a){var Eb=jsx3.gui.Event;var Jb=jsx3.gui.Interactive;var rb=jsx3.xml.CDF;var lc=jsx3.util.Logger.getLogger(h.jsxclass.getName());h.DEFAULTXSLURL=jsx3.resolveURI(jsx3.CLASS_LOADER.resolvePath("jsx:///xsl/@path@/jsx30list.xsl"));h.SELECTBGIMAGE="url("+jsx3.resolveURI("jsx:///images/list/select.gif")+")";h.DEFAULTBACKGROUNDHEAD="background-image:url("+jsx3.resolveURI("jsx:///images/list/header.gif")+");";jsx3.html.loadImages("jsx:///images/list/select.gif","jsx:///images/list/header.gif");h.DEFAULTBACKGROUNDCOLOR="#F3F2F4";h.DEFAULTBACKGROUNDCOLORHEAD="#c8cfd8";h.SORTASCENDING="ascending";h.SORTDESCENDING="descending";h.DEFAULTHEADERHEIGHT=20;h.MULTI=1;h.SINGLE=0;h.NOTSELECTABLE=2;h.RESIZEBARBGCOLOR="#2050df";h.DEFAULTROWCLASS="jsx30list_r1";a.init=function(p){this.jsxsuper(p);this._jsxij=null;this._jsxXG=null;this._jsxPE=null;this._jsxvl=null;};a.onRemoveChild=function(l,r){this.jsxsuper(l,r);this.resetXslCacheData();this.repaint();};a.paintChild=function(j,r){if(!r){this.resetXslCacheData();this.repaint();}};a.getXSL=function(d){var vb=this.jsxsupermix(true);if(vb==null)vb=this.getServer().getCache().getOrOpenDocument(d||h.DEFAULTXSLURL,this.getXSLId());if(vb!=null){vb.setSelectionNamespaces("xmlns:xsl='http://www.w3.org/1999/XSL/Transform'");var ac=vb.selectSingleNode("//xsl:comment[.='JSXUNCONFIGURED']");if(ac!=null){ac.setValue("JSXCONFIGURED");var V=this.LC();var J=V.length;if(J>0){for(var kc=0;kc<=J;kc++){var Sb=new jsx3.xml.Document();var _=kc==J?V[J-1].paintXSLString(true):V[kc].paintXSLString();Sb.loadXML(_);if(Sb.hasError()){lc.error("Error loading XSL for column #"+kc+" of "+this+": "+Sb.getError().description);}else{ac.getParent().insertBefore(Sb.getRootNode(),ac);}}}}}else{jsx3.util.Logger.doLog("XLST","No default stylesheet can be found for the List control, "+this.getId()+".");}return vb;};a.clearXSL=function(){this.resetXslCacheData();return this;};h.Zw=function(k){return k&&k.getDisplay()!=jsx3.gui.Block.DISPLAYNONE;};a.LC=function(){return this.getChildren().filter(h.Zw);};a.doValidate=function(){var Ab=this.getSelectedNodes().getLength()>0||this.getRequired()==jsx3.gui.Form.OPTIONAL;this.setValidationState(Ab?jsx3.gui.Form.STATEVALID:jsx3.gui.Form.STATEINVALID);return this.getValidationState();};a.getResizable=function(){return this.jsxresize==null?jsx3.Boolean.TRUE:this.jsxresize;};a.setResizable=function(s){this.jsxresize=s;return this;};a.DA=function(q,o){if(!q.leftButton())return;Eb.publish(q);if(this.getCanResize()!=0){var wc=o;var Wb=this.getRendered().childNodes[1];var uc=parseInt(wc.parentNode.parentNode.parentNode.parentNode.parentNode.style.left);var Dc=wc.parentNode.parentNode.offsetLeft+uc;Wb.style.left=Dc+"px";this._jsxPE=Dc;this._jsxvl=wc.parentNode.parentNode.cellIndex;var cb=this._jsxvl-1;var Pb=this.doEvent(Jb.BEFORE_RESIZE,{objEVENT:q,intINDEX:cb,intCOLUMNINDEX:cb})===false;if(!Pb){Wb.style.visibility="visible";jsx3.gui.Event.subscribe(jsx3.gui.Event.MOUSEUP,this,"wp");jsx3.gui.Interactive.P3(q,Wb,false,true);}else{Wb.style.left="-10px";}}q.cancelReturn();q.cancelBubble();};a.wp=function(d,r){var d=d.event;jsx3.gui.Event.unsubscribe(jsx3.gui.Event.MOUSEUP,this,"wp");if(r==null)r=this.getRendered().childNodes[1];d.releaseCapture(r);var Cb=parseInt(r.style.left);var hc=Cb-this._jsxPE;var Ob=this._jsxvl-1;var mb=this.LC();var zc=this.getDocument();var wc=zc.getElementById(this.getId()+"_jsxhead");var J=wc.childNodes[0].childNodes[0].childNodes[0].childNodes[Ob];var pc=J.offsetWidth;var vc=mb[Ob].getWidth()+"";var rc;if(rc=vc.indexOf("%")>-1){var sb=this.getAbsolutePosition().W;var Fc=pc+hc;Fc=parseInt(Fc/sb*1000)/10;if(Fc<2)Fc=2;Fc=Fc+"%";}else{var Fc=pc+hc;if(Fc<4)Fc=4;}r.style.left="-10px";var kb={objEVENT:d,intDIFF:hc,intINDEX:Ob,intOLDWIDTH:pc,vntWIDTH:Fc,intCOLUMNINDEX:Ob};var dc=this.doEvent(Jb.AFTER_RESIZE,kb);if(!(dc===false)){var Mb=dc instanceof Object&&dc.vntWIDTH?dc.vntWIDTH:Fc;mb[Ob].setWidth(Mb);this.resetXslCacheData();this.repaintBody();this.repaintHead();}};a.Oh=function(o,q){if(!o.leftButton())return;Eb.publish(o);var Zb=q;var oc=this.getDocument().getElementById(this.getId()+"_jsxghost");oc.innerHTML="";oc.innerText="";var qc=Zb.childNodes[0].cloneNode(true);var V=parseInt(Zb.parentNode.parentNode.parentNode.style.left);var P={};P.boxtype="box";P.tagname="div";P.left=Zb.offsetLeft+V;P.top=0;P.parentheight=Zb.offsetHeight;P.parentwidth=parseInt(Zb.offsetWidth);P.width="100%";P.height="100%";P.border="solid 1px #ffffff;solid 1px #9898a5;solid 1px #9898a5;solid 1px #ffffff";P.padding=parseInt(Zb.childNodes[0].offsetTop)+" "+(Zb.style.paddingRight?parseInt(Zb.style.paddingRight):0)+" "+(Zb.style.paddingBottom?parseInt(Zb.style.paddingBottom):0)+" "+(Zb.style.paddingLeft?parseInt(Zb.style.paddingLeft):0);var mc=new jsx3.gui.Painted.Box(P);oc.style.left=mc.O8()+"px";oc.style.top=mc.hH()+"px";oc.style.width=mc.KZ()+"px";oc.style.height=mc.wI()+"px";oc.style.fontName=Zb.style.fontName;oc.style.fontSize=Zb.style.fontSize;oc.style.textAlign=Zb.style.textAlign;oc.style.fontWeight=Zb.style.fontWeight;oc.style.visibility="visible";jsx3.gui.Painted.HM(oc,mc.N4(),"padding");oc.appendChild(qc);this._jsxPE=Zb.offsetLeft+V;this._jsxvl=Zb.cellIndex;jsx3.gui.Event.subscribe(jsx3.gui.Event.MOUSEUP,this,"vi");jsx3.gui.Interactive.P3(o,oc,false,true);};a.Aq=function(n,r){var Vb=n.getType()==jsx3.gui.Event.CLICK?r.cellIndex:this._jsxvl;var Fb=this.LC()[Vb];var vb=this.getChildren().indexOf(Fb);if(this.getCanSort()!=0&&Fb!=null&&Fb.getCanSort()!=0){var Db={objEVENT:n,intCOLUMNINDEX:vb};var wb=this.doEvent(Jb.BEFORE_SORT,Db);if(wb!==false){var fb=wb instanceof Object&&wb.intCOLUMNINDEX!=null?wb.intCOLUMNINDEX:vb;this.Wm(n,fb);}}};a.vi=function(l,n){var l=l.event;jsx3.gui.Event.unsubscribe(jsx3.gui.Event.MOUSEUP,this,"vi");var fb=this.getDocument().getElementById(this.getId()+"_jsxghost");if(n==null)var n=fb;l.releaseCapture(fb);fb.style.visibility="hidden";if(this._jsxPE==parseInt(fb.style.left)){this.Aq(l,n);}else{if(this.getCanReorder()!=0){var ec=parseInt(fb.style.left);var Bb=this.LC();var yb=this.getChildren().length;var wb=Bb[0].getRendered().parentNode;var W=this.getChildren().indexOf(Bb[this._jsxvl]);var vc=0;for(var sb=0;sb<yb;sb++){if(h.Zw(this.getChild(sb))){var ab=wb.childNodes[vc].offsetLeft;if(ec<ab){if(W!=sb)this.Gv(W,sb-1);jsx3.EventHelp.reset();return;}vc++;}}if(W!=yb-1)this.Gv(W,yb-1);}}};a.setSortColumn=function(m){this.Wm(this.isOldEventProtocol(),m);};a.Wm=function(o,m){this.jsxsortcolumn=m;this.doSort();if(o){this.doEvent(Jb.AFTER_SORT,{objEVENT:o instanceof jsx3.gui.Event?o:null,intCOLUMNINDEX:m});}return this;};a.getSortColumn=function(){return this.jsxsortcolumn;};a.cu=function(){var bc=this.jsxsortcolumn!=null?this.getChild(this.jsxsortcolumn)==null?null:this.getChild(this.jsxsortcolumn).getSortPath():this.getSortPath();return bc?bc.substring(1):"";};a.Gv=function(k,o){var O=this.getChildren();var ub=O.length;var oc=this.getChild(k);if(o<k){for(var x=k;x>o;x--){if(x>0)O[x]=O[x-1];}O[o+1]=oc;}else{for(var x=k;x<=o;x++){if(x<=ub-2)O[x]=O[x+1];}O[o]=oc;}this.resetXslCacheData();this.repaint();this.getServer().getDOM().onChange(jsx3.app.DOM.TYPEADD,this.getId(),this.getChild(0).getId());};a.doSort=function(c){if(c!=null){this.setSortDirection(c);}else{this.setSortDirection(this.getSortDirection()==h.SORTASCENDING?h.SORTDESCENDING:h.SORTASCENDING);}this.repaintBody();this.repaintHead();};a.getSortPath=function(){return this.jsxsortpath==null?"":this.jsxsortpath;};a.setSortPath=function(p){this.jsxsortpath=p;return this;};a.getSortDirection=function(){return this.jsxsortdirection==null?h.SORTASCENDING:this.jsxsortdirection;};a.setSortDirection=function(p){this.jsxsortdirection=p;return this;};a.getMultiSelect=function(){return this.jsxmultiselect==null?h.MULTI:this.jsxmultiselect;};a.setMultiSelect=function(r){this.jsxmultiselect=r;if(r==h.NOTSELECTABLE)this.deselectAllRecords();return this;};a.getCanReorder=function(){return this.jsxreorder==null?1:this.jsxreorder;};a.setCanReorder=function(j){this.jsxreorder=j;return this;};a.getCanSort=function(){return this.jsxsort==null?1:this.jsxsort;};a.setCanSort=function(s){this.jsxsort=s;return this;};a.getBackgroundColorHead=function(){return this.jsxbgcolorhead;};a.setBackgroundColorHead=function(i){this.jsxbgcolorhead=i;return this;};a.getBackgroundHead=function(){return this.jsxbghead;};a.setBackgroundHead=function(f){this.jsxbghead=f;return this;};a.getHeaderHeight=function(){return this.jsxheaderheight;};a.setHeaderHeight=function(p){this.jsxheaderheight=p;return this;};h.rm=function(k,o,i,s){return "<span id='JSX' style='font-family:Verdana;font-size:10px;padding:0px;height:22px;width:200px;overflow:hidden;text-overflow:ellipsis;filter:progid:DXImageTransform.Microsoft.Gradient(GradientType=1, StartColorStr=#eedfdfe8, EndColorStr=#00ffffff);'><table style='font-family:verdana;font-size:10px;color:#a8a8a8;' cellpadding='3' cellspacing='0'>"+jsx3.html.getOuterHTML(k).doReplace("id=","tempid=").doReplace("BACKGROUND","bg").doReplace("class=","jsxc=")+"</table></span>";};h.doBlurItem=function(s){var A=s.getAttribute("JSXDragId");var y=s.id.substring(0,s.id.length-(A.length+1));var Ub=jsx3.GO(y);s.style.fontWeight="normal";if(Ub!=null)Ub._jsxij=null;};h.doFocusItem=function(m){var wc=m.getAttribute("JSXDragId");var ac=m.id.substring(0,m.id.length-(wc.length+1));var W=jsx3.GO(ac);if(W==null){lc.warn("No list with id "+ac+".");return;}if(!W.g5(wc))return;m.focus();m.style.fontWeight="bold";W._jsxij=m;};a.mL=function(n,r){if(this.getCanDrag()==1&&n.leftButton()){var nb=n.srcElement();var Bc=this.it(nb);if(Bc[0]!=null){if(!this.g5(Bc[0]))return;Eb.publish(n);this.doDrag(n,Bc[2],h.rm,{strRECORDID:Bc[0],intCOLUMNINDEX:Bc[1]});}}};a._4=function(j,c){var ob=this.it(j.srcElement());if(this.getCanDrop()==1&&jsx3.EventHelp.isDragging()&&jsx3.EventHelp.JSXID!=this){if(jsx3.EventHelp.DRAGTYPE=="JSX_GENERIC"){var sc=jsx3.EventHelp.JSXID.getId();var Ob=jsx3.EventHelp.DRAGID;var t=jsx3.GO(sc);if(t==null)return;var Ub=jsx3.gui.isMouseEventModKey(j);var cb=t.doEvent(Jb.ADOPT,{objEVENT:j,strRECORDID:Ob,objTARGET:this,bCONTROL:Ub});var Rb={objEVENT:j,objSOURCE:t,strDRAGID:Ob,strDRAGTYPE:jsx3.EventHelp.DRAGTYPE,strRECORDID:ob[0],intCOLUMNINDEX:ob[1],bALLOWADOPT:cb!==false};var A=this.doEvent(Ub?Jb.CTRL_DROP:Jb.DROP,Rb);if(cb!==false&&A!==false&&t.instanceOf(jsx3.xml.CDF))this.adoptRecord(t,Ob);}}else{if(j.rightButton()){var Sb;if((Sb=this.getMenu())!=null){var Hc=this.getServer().getJSX(Sb);if(Hc!=null){var oc={objEVENT:j,objMENU:Hc,strRECORDID:ob[0],intCOLUMNINDEX:ob[1]};var Vb=this.doEvent(Jb.MENU,oc);if(Vb!==false){if(Vb instanceof Object&&Vb.objMENU instanceof jsx3.gui.Menu)Hc=Vb.objMENU;Hc.showContextMenu(j,this,ob[0]);}}}}}};a.it=function(l){var jc=null;var _b=null;var Kc=null;while(l!=null&&jc==null){if(l.tagName&&l.tagName.toLowerCase()=="td")_b=l.getAttribute("cellIndex");else{if(l.tagName&&l.tagName.toLowerCase()=="tr"){jc=l.getAttribute("JSXDragId");Kc=l;}}l=l.parentNode;}return [jc,jc?_b:null,Kc];};a.dZ=function(i,s,k){if(!this.g5(s.getAttribute("JSXDragId")))return;if(!this.g5(k.getAttribute("JSXDragId")))return;if(this.getMultiSelect()==h.NOTSELECTABLE)return;var eb=0;var M=this.getDocument().getElementById(this.getId()+"_jsxbody").childNodes[0].childNodes[0];var Fb=[],nb=[];for(var O=M.childNodes.length-1;O>=0;O--){if(M.childNodes[O]==k)eb++;if(M.childNodes[O]==s)eb++;if(eb>=1&&eb<=2){var tb=M.childNodes[O];Fb.push(tb.getAttribute("JSXDragId"),tb);}if(eb==2)break;}this.CB(i,Fb,nb,false);h.doFocusItem(s);};a.DY=function(f,g){if(this.jsxsupermix(f,g))return;if(this._jsxij==null)return;var ic=this.getId().length;var Mc=f.keyCode();var u=this.getMultiSelect()==1;var Cc=false;var Z=jsx3.gui.isMouseEventModKey(f);if(Mc==Eb.KEY_ARROW_UP){if(this._jsxij==this._jsxij.parentNode.firstChild)return;if(u&&Z){h.doFocusItem(this._jsxij.previousSibling);}else{if(u&&f.shiftKey()){this.dZ(f,this._jsxij.previousSibling,this._jsxXG);}else{var L=this._jsxij.previousSibling;this.zf(f,L.getAttribute("JSXDragId"),L,false);}}Cc=true;}else{if(Mc==Eb.KEY_ARROW_DOWN){if(this._jsxij==this._jsxij.parentNode.lastChild)return;if(u&&Z){h.doFocusItem(this._jsxij.nextSibling);}else{if(u&&f.shiftKey()){this.dZ(f,this._jsxij.nextSibling,this._jsxXG);}else{var L=this._jsxij.nextSibling;this.zf(f,L.getAttribute("JSXDragId"),L,false);}}Cc=true;}else{if(Mc==Eb.KEY_ENTER){this.Oy(f);Cc=true;}else{if(Mc==Eb.KEY_SPACE){if(u&&Z){var Fc=this._jsxij.getAttribute("JSXDragId");if(this.isSelected(Fc)){this.Ez(f,Fc,this._jsxij);}else{this.zf(f,Fc,this._jsxij,true);}}else{if(u&&f.shiftKey()){this.dZ(f,f.srcElement(),this._jsxXG);}else{var L=this._jsxij;this.zf(f,L.getAttribute("JSXDragId"),L,false);}}Cc=true;}else{if(Mc==Eb.KEY_TAB&&f.shiftKey()){this.focus();Cc=true;}else{if(Mc==Eb.KEY_TAB){this.getRendered().lastChild.focus();Cc=true;}}}}}}if(Cc)f.cancelAll();};a.IU=function(j,c){var O=false;var Mc=j.srcElement();if(Mc.tagName&&Mc.tagName.toLowerCase()=="tbody"||Mc==c){this.PC(j,this.getSelectedIds(),[]);return;}var Wb=this.getRendered();while(jsx3.util.strEmpty(Mc.getAttribute("JSXDragId"))&&Mc!=Wb)Mc=Mc.parentNode;if(!Mc||!Mc.getAttribute("JSXDragId")){this.PC(j,this.getSelectedIds(),[]);return;}var ac=this.getMultiSelect()==h.MULTI;var kb=jsx3.gui.isMouseEventModKey(j);if(ac&&j.shiftKey()&&this._jsxXG!=null){this.dZ(j,Mc,this._jsxXG);O=true;}else{if(ac&&kb){var Bc=Mc.getAttribute("JSXDragId");if(this.isSelected(Bc)){this.Ez(j,Bc,Mc);}else{this.zf(j,Bc,Mc,true);h.doFocusItem(Mc);}O=true;}else{if(this.isSelected(Mc.getAttribute("JSXDragId"))){if(kb||j.shiftKey()){this.Ez(j,Mc.getAttribute("JSXDragId"),Mc);}}else{this.zf(j,Mc.getAttribute("JSXDragId"),Mc,false);}O=true;}}if(O){j.cancelBubble();j.cancelReturn();}};a.LH=function(b,k){this.Oy(b);};a.executeRecord=function(f){var Kc=this.getRecordNode(f);if(Kc!=null)this.eval(Kc.getAttribute("jsxexecute"),{strRECORDID:f});};a.doExecute=function(c){this.Oy(this.isOldEventProtocol(),c!=null?[c]:null);};a.Oy=function(l,b){if(b==null)b=this.getSelectedIds();for(var y=0;y<b.length;y++){var tb=b[y];var Pb=this.getRecordNode(tb);if(Pb.getAttribute(rb.ATTR_UNSELECTABLE)=="1")continue;this.eval(Pb.getAttribute("jsxexecute"),{strRECORDID:tb});}if(b.length>0&&l)this.doEvent(Jb.EXECUTE,{objEVENT:l instanceof Eb?l:null,strRECORDID:b[0],strRECORDIDS:b});};a.isSelected=function(j){return this.getXML().selectSingleNode("//record[@jsxid='"+j+"' and @"+rb.ATTR_SELECTED+"='1']")!=null;};a.doSelect=function(d,c,s,b){this.zf(!s&&this.isOldEventProtocol(),d,null,true);if(d&&b)this.revealRecord(d);return this;};a.selectRecord=function(r){if(!this.g5(r))return;if(this.getMultiSelect()==h.NOTSELECTABLE)return;this.zf(false,r,null,true);return this;};a.deselectRecord=function(l){this.Ez(false,l,null);return this;};a.deselectAllRecords=function(){this.PC(false,this.getSelectedIds(),[]);return this;};a.zf=function(k,o,b,l){var ic=this.getRecordNode(o);if(!ic||ic.getAttribute(rb.ATTR_SELECTED)=="1"||ic.getAttribute(rb.ATTR_UNSELECTABLE)=="1"||this.getMultiSelect()==h.NOTSELECTABLE)return false;var pb=l&&this.getMultiSelect()==h.MULTI;if(!pb)this.deselectAllRecords();ic.setAttribute(rb.ATTR_SELECTED,"1");b=b||this.uD(o);if(b!=null){if(!pb){this._jsxXG=b;h.doFocusItem(b);}b.style.backgroundImage=h.SELECTBGIMAGE;}if(k){this.doEvent(Jb.SELECT,{objEVENT:k instanceof Eb?k:null,strRECORDID:o,strRECORDIDS:[o]});this.doEvent(Jb.CHANGE,{objEVENT:k instanceof Eb?k:null});}return true;};a.CB=function(d,j,l,e){if(!e)this.deselectAllRecords();for(var R=0;R<j.length;R++){var ec=this.zf(false,j[R],l[R],true);if(!ec){j.splice(R,1);l.splice(R,1);R--;}}if(d&&j.length>0){this.doEvent(Jb.SELECT,{objEVENT:d,strRECORDID:j[0],strRECORDIDS:j});this.doEvent(Jb.CHANGE,{objEVENT:d});}};a.Ez=function(k,o,b){var ub=this.getRecordNode(o);if(!ub||ub.getAttribute(rb.ATTR_SELECTED)!="1")return false;ub.removeAttribute(rb.ATTR_SELECTED);b=b||this.uD(o);if(b!=null){if(this._jsxXG==b){delete this._jsxXG;h.doBlurItem(b);}b.style.backgroundImage="";}if(k){this.doEvent(Jb.SELECT,{objEVENT:k instanceof Eb?k:null,strRECORDID:null,strRECORDIDS:[]});this.doEvent(Jb.CHANGE,{objEVENT:k instanceof Eb?k:null});}return true;};a.PC=function(l,b,d){for(var t=0;t<b.length;t++){var ic=this.Ez(false,b[t],d[t]);if(!ic){b.splice(t,1);d.splice(t,1);t--;}}if(l&&b.length>0){this.doEvent(Jb.SELECT,{objEVENT:l,strRECORDID:b[0],strRECORDIDS:b});this.doEvent(Jb.CHANGE,{objEVENT:l});}};a.focusRecord=function(j){var ib=this.uD(j);if(ib!=null)ib.focus();return this;};a.doDeselect=function(o,k){this.Ez(this.isOldEventProtocol(),o,null);return this;};a.getActiveRow=function(){return this._jsxXG;};a.revealRecord=function(m,n){var ic=this.uD(m);if(ic){var F=n?n.getRendered():this.getRendered();if(F)jsx3.html.scrollIntoView(ic,F,0,10);}};a.uD=function(j){var Ib=this.getDocument();return Ib!=null?Ib.getElementById(this.getId()+"_"+j):null;};a.redrawRecord=function(e,p){if(p==jsx3.xml.CDF.INSERT){this.appendRow(this.getRecord(e),e);}else{if(e!=null&&p==jsx3.xml.CDF.DELETE){var D;if((D=this.uD(e))!=null){D.parentNode.removeChild(D);}}else{if(e!=null&&p==jsx3.xml.CDF.UPDATE){this.updateRow(e);}}}};a.getSelectedNodes=function(){return this.getXML().selectNodes("//record[@"+rb.ATTR_SELECTED+"='1']");};a.getSelectedIds=function(){var S=this.getSelectedNodes();var Ac=[];var kc=S.getLength();for(var Cb=0;Cb<kc;Cb++){Ac[Cb]=S.getItem(Cb).getAttribute("jsxid");}return Ac;};a.getValue=function(){var uc=this.getSelectedIds();return this.getMultiSelect()==h.MULTI?uc:uc[0];};a.setValue=function(c){if(c instanceof Array){if(this.getMultiSelect()!=h.MULTI)throw new jsx3.IllegalArgumentException("strRecordId",c);}else{c=c!=null?[c]:[];}this.CB(false,c,[],false);return this;};a.CL=function(i,d){if(this.getCanSpy()==1&&this.getEvent(Jb.SPYGLASS)){var sc=this.it(i.srcElement());if(sc[0]){h._curSpyRow=sc[2];this.applySpyStyle(sc[2]);var U=i.clientX()+jsx3.EventHelp.DEFAULTSPYLEFTOFFSET;var oc=i.clientY()+jsx3.EventHelp.DEFAULTSPYTOPOFFSET;var A=this;i._0();h.ri=window.setTimeout(function(){if(A._jsxon)return;var Y={objEVENT:i,strRECORDID:sc[0],intCOLUMNINDEX:sc[1]};var Kb=A.doEvent(Jb.SPYGLASS,Y);if(Kb){jsx3.gui.Interactive.hideSpy();A.showSpy(Kb,U,oc);}},jsx3.EventHelp.SPYDELAY);}}};a.u2=function(){if(h._curSpyRow){this.removeSpyStyle(h._curSpyRow);delete h._curSpyRow;}window.clearTimeout(h.ri);jsx3.gui.Interactive.hideSpy();};h.s5={};h.s5[Eb.MOUSEOVER]=true;h.s5[Eb.MOUSEOUT]=true;h.s5[Eb.CLICK]=true;h.s5[Eb.DOUBLECLICK]=true;h.s5[Eb.KEYDOWN]=true;h.s5[Eb.MOUSEDOWN]=true;h.s5[Eb.MOUSEUP]=true;a.k7=function(p,m,b){var zc=this.getDocument();if(zc!=null){var Ib=zc.getElementById(this.getId()+"_jsxbody");if(Ib!=null){var E=this.getHeaderHeight()!=null?this.getHeaderHeight():h.DEFAULTHEADERHEIGHT;Ib.style.height=Math.max(0,p.parentheight-E)+"px";}}};a.paint=function(){this.applyDynamicProperties();this._jsxXG=null;var Tb=this.getParent().IO(this);var rc=this.getId();var z="";var jc="<span"+this.RX(Eb.MOUSEDOWN,"DA",1)+" id=\""+rc+"_jsxcolresize\" style=\"background-color:"+h.RESIZEBARBGCOLOR+";\" class=\"jsx30list_colresize\"></span>";var J=this.getHeaderHeight()!=null?this.getHeaderHeight():h.DEFAULTHEADERHEIGHT;var ec="<div id=\""+rc+"\" class=\"jsx30list\" "+"style=\""+""+this.MU()+this.T1()+this.A0()+this.UZ()+this.K2()+"\" label=\""+this.getName()+"\""+this.renderAttributes()+">";ec=ec+"<table class=\"jsx30list_table\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\" style=\"\">";if(J>0){ec=ec+("<tr><td height=\""+J+"\" style=\"position:relative;overflow:hidden;\">");ec=ec+("<div id=\""+rc+"_jsxhead\" class=\"jsx30list_headspan\" style=\""+this.CN()+this.fL()+"\">");ec=ec+this.m0();ec=ec+"</div>";ec=ec+("<div id=\""+rc+"_jsxghost\""+" class=\"jsx30list_ghost\">&#160;</div>");ec=ec+"</td></tr>";z=" onscroll=\"this.parentNode.parentNode.parentNode.childNodes[0].childNodes[0].childNodes[0].childNodes[0].style.left = -this.scrollLeft + 'px';\" ";}var y=this.lM(h.s5,5);var Kc=Tb.parentheight-J;ec=ec+("<tr><td height=\""+(J==0?"100%":Kc)+"\" valign=\"top\" style=\"position:relative;height:"+Kc+"px"+"\">");ec=ec+("<div id=\""+rc+"_jsxbody\""+y+z+" style=\""+this.UZ()+this.getBorder()+";height:"+Kc+"px"+"\" class=\"jsx30list_bodyspan\">");ec=ec+this.PR();ec=ec+this.S3();ec=ec+"</div>";ec=ec+"</td></tr>";ec=ec+"</table>";ec=ec+jc;ec=ec+"</div>";return ec;};a.UZ=function(){return "background-color:"+(this.getBackgroundColor()?this.getBackgroundColor():h.DEFAULTBACKGROUNDCOLOR)+";";};a.K2=function(){return this.getBackground()?this.getBackground()+";":"";};a.CN=function(){return "background-color:"+(this.getBackgroundColorHead()?this.getBackgroundColorHead():h.DEFAULTBACKGROUNDCOLORHEAD)+";";};a.fL=function(){return this.getBackgroundHead()?this.getBackgroundHead()+";":h.DEFAULTBACKGROUNDHEAD;};a.CH=function(){return this.getClassName()?this.getClassName():h.DEFAULTROWCLASS;};a.nV=function(){return "height:"+(this.getHeaderHeight()?this.getHeaderHeight():h.DEFAULTHEADERHEIGHT)+"px;";};a.S3=function(){return "";};a.m0=function(){var Mc="<table cellspacing=\"0\" cellpadding=\"3\" border=\"0\" style=\"position:absolute;left:0px;top:0px;table-layout:fixed;"+this.nV()+"\">";Mc=Mc+("<tr style=\""+this.nV()+"\" "+this.vH()+">");var O=this.LC();var z=this.getChildren();var yb=z.length;var E=0;for(var G=0;E<=O.length;G++){if(z[G]==null||h.Zw(z[G])){if(E==O.length){if(O.length>0)Mc=Mc+O[O.length-1].paint(true);}else{if(G<z.length){var Fc=G==this.getSortColumn()?this.getSortDirection():null;Mc=Mc+z[G].paint(false,Fc);}}E++;}}Mc=Mc+"</tr></table>";return Mc;};a.PR=function(){var pb="<table jsxid=\""+this.getId()+"\" cellspacing=\"0\" cellpadding=\"3\" border=\"0\" style=\"table-layout:fixed;"+this.K2()+this.g0()+this.oY()+";\">";pb=pb+this.doTransform();pb=pb+"</table>";return pb;};a.repaintBody=function(){var u=this.getDocument();if(u!=null){var ic=u.getElementById(this.getId()+"_jsxbody");if(ic!=null)jsx3.html.setOuterHTML(ic.childNodes[0],this.PR());}};a.repaintHead=function(){var x=this.getDocument();if(x!=null){var K=x.getElementById(this.getId()+"_jsxhead");if(K!=null){jsx3.html.setOuterHTML(K.childNodes[0],this.m0());this.scrollHead();}}};a.scrollHead=function(){var ib=this.getDocument();var ic=ib.getElementById(this.getId()+"_jsxbody");if(ic&&ic.scrollLeft!=0){var xb=ib.getElementById(this.getId()+"_jsxhead");if(xb!=null)xb.childNodes[0].style.left=-ic.scrollLeft+"px";}};a.doTransform=function(r){var K={};if(r)K.jsxrowid=r;K.jsxtabindex=isNaN(this.getIndex())?0:this.getIndex();K.jsxselectionbg=h.SELECTBGIMAGE;K.jsxtransparentimage=jsx3.gui.Block.SPACE;K.jsxid=this.getId();K.jsxsortpath=this.cu();K.jsxsortdirection=this.getSortDirection();K.jsxrowclass=this.CH();K.jsxsorttype=this.getSortType();var db=this.getXSLParams();for(var mc in db)K[mc]=db[mc];var I=this.jsxsupermix(K);I=I.doReplace("<[/]*JSX_FF_WELLFORMED_WRAPPER[/]*>","");return I;};h.onDelete=function(i,p){var Fc=jsx3.html.getJSXParent(p);if(Fc instanceof h)Fc.deleteRecord(i);};h.onCheck=function(l,q,m,f,b){var bc=jsx3.gui.Event.getCurrent();if(q.substring(0,1)=="@")q=q.substring(1);var Ac=jsx3.html.getJSXParent(m);if(f)m.checked=!m.checked;var db=m.checked;var M=db?b[0]:b[1];Ac.insertRecordProperty(l,q,M,false);Ac.doEvent(Jb.AFTER_EDIT,{objEVENT:bc,strATTRIBUTENAME:q,strATTRIBUTEVALUE:M,strRECORDID:l,objGUI:m,objMASK:null});if(bc)bc.cancelReturn();};h.onRadio=function(p,l,i,b,q){if(l.substring(0,1)=="@")l=l.substring(1);if(b)i.checked=true;h.onCheck(p,l,i,false,q);if(b){var hb=jsx3.html.getJSXParent(i);var fc=hb.getRecordNode(p);var uc;if(fc!=null&&(uc=fc.getAttribute("jsxgroupname"))!=null){var Vb=hb.getXML().selectNodes("//record[@jsxgroupname='"+uc+"']");for(var N=0;N<Vb.getLength();N++){var oc=Vb.getItem(N);if(oc.getAttribute("jsxid")!=p)Vb.getItem(N).setAttribute(l,q[1]);}}}};a.appendRow=function(j,m){var x=this.getDocument();if(x!=null){var V=this.getId();var xb=x.getElementById(V+"_jsxbody").childNodes[0].childNodes[0];var Ib=true;if(m==null){m=jsx3.xml.CDF.getKey();Ib=false;}if(j==null)j={jsxid:m};this.doEvent(Jb.BEFORE_APPEND,{objMASTERRECORD:j});if(Ib==false)this.insertRecord(j,null,false);var Db=h.Cr(this.doTransform(m));if(Db!=""){var ac=new jsx3.xml.Document();ac.loadXML(Db);if(!ac.hasError()){var K=x.createElement("TR");var rc=ac.getRootNode();h.Rz(rc,K);var ib=rc.selectNodes("td");for(var Mb=0;Mb<ib.getLength();Mb++){rc=ib.getItem(Mb);var pb=x.createElement("TD");h.Rz(rc,pb);K.appendChild(pb);var ab=rc.getChildNodes(true);var Z="";for(var H=0;H<ab.getLength();H++){Z=Z+ab.getItem(H).toString();}pb.innerHTML=Z;}xb.appendChild(K);this.doEvent(Jb.AFTER_APPEND,{objMASTERRECORD:j,objTR:K});}else{lc.warn("A new row could not be appended to "+this+" because of an XML error: "+ac.getError().description);}}}};a.updateRow=function(j){var Gc;if(this.getRecordNode(j)!=null&&(Gc=this.uD(j))!=null){var T=h.Cr(this.doTransform(j));if(T!=""){var yc=new jsx3.xml.Document();yc.loadXML(T);if(!yc.hasError()){var Ib=yc.getRootNode();h.Rz(Ib,Gc);var gc=Ib.selectNodes("td");for(var cc=0;cc<gc.getLength();cc++){Ib=gc.getItem(cc);var Xb=Gc.childNodes.item(cc);h.Rz(Ib,Xb);var hc=Ib.getChildNodes(true);var mb="";for(var Qb=0;Qb<hc.getLength();Qb++){mb=mb+hc.getItem(Qb).toString().doReplace("&lt;","<").doReplace("&gt;",">").doReplace("&amp;","&");}Xb.innerHTML=mb;}}else{jsx3.util.Logger.doLog("list.update.1","A row could not be updated, due to the following reasons(s): "+yc.getError().description,3,false);}}}};h.Rz=function(j,q){var cc=j.getAttributes();for(var Q=0;Q<cc.getLength();Q++){var Cc=cc.getItem(Q);var Dc=Cc.getNodeName();var I=/(on(?:mousedown|click|focus|blur|mouseup|scroll|keydown|keypress))/gi;var Gc=Cc.getValue();if(Dc.match(I)){q[Dc.toLowerCase()]=new Function(Gc);}else{if(Dc=="class"){q.className=Gc;}else{if(Dc=="style"){jsx3.gui.Painted.HM(q,Gc);}else{q.setAttribute(Dc,Gc);}}}}};h.py=function(f,m){var Fc=f.getAttributes();for(var Lb=0;Lb<Fc.getLength();Lb++){var Kc=Fc.getItem(Lb);var oc=Kc.getNodeName();var mc=/(on(?:mousedown|click|focus|blur|mouseup|scroll|mouseup|keydown|keypress))/gi;var Tb=Kc.getValue();if(oc.match(mc)){m[oc]=new Function(Tb);}else{if(oc!="class"){m.setAttribute(oc,Tb);}else{m.className=Tb;}}}if(!m.tagName||m.tagName.toLowerCase()!="tr")m.style.position="relative";};h.Cr=function(o){var Vb=/(<(?:img|input)[^>]*)(>)/gi;o=o.replace(Vb,function(n,m,l){return m+"/>";});o=o.doReplace("&nbsp;","&#160;").doReplace("&","&amp;");return o;};a.getGrowBy=function(){return this.jsxgrowby;};a.setGrowBy=function(k){this.jsxgrowby=k;return this;};a.getAutoExpand=function(){return jsx3.Boolean.valueOf(this.getGrowBy());};a.setAutoExpand=function(g){return this.setGrowBy(g?1:0);};a.getSortType=function(){if(this.jsxsorttype==null){if(this.jsxsortcolumn!=null)return this.getChild(this.jsxsortcolumn)==null?jsx3.gui.Column.TYPETEXT:this.getChild(this.jsxsortcolumn).getDataType();var mb=this.getSortPath();for(var vb=this.getChildren().length-1;vb>=0;vb--){var Ub=this.getChild(vb);if(Ub instanceof jsx3.gui.Column&&Ub.getSortPath()==mb)return this.getChild(vb).getDataType();}return jsx3.gui.Column.TYPETEXT;}else{return this.jsxsorttype;}};a.setSortType=function(k){this.jsxsorttype=k;return this;};a.getMaskProperties=function(){return jsx3.gui.Block.MASK_NO_EDIT;};a.getWrap=function(){return this.jsxwrap==null?jsx3.Boolean.TRUE:this.jsxwrap;};a.setWrap=function(n){this.resetXslCacheData();this.jsxwrap=n;return this;};a.onSetChild=function(p){return p instanceof jsx3.gui.Column;};a.g5=function(q){var Zb=this.getRecord(q);return Zb!=null&&(Zb[rb.ATTR_UNSELECTABLE]==null||Zb[rb.ATTR_UNSELECTABLE]!="1");};a.onDestroy=function(d){this.jsxsuper(d);this.onDestroyCached(d);this._jsxon=true;};h.getVersion=function(){return "3.0.00";};});jsx3.gui.List.prototype.getResizeable=jsx3.gui.List.prototype.getResizable;jsx3.gui.List.prototype.setResizeable=jsx3.gui.List.prototype.setResizable;jsx3.gui.List.prototype.getCanResize=jsx3.gui.List.prototype.getResizable;jsx3.gui.List.prototype.setCanResize=jsx3.gui.List.prototype.setResizable;jsx3.gui.List.prototype.doClearSelections=jsx3.gui.List.prototype.deselectAllRecords;jsx3.gui.List.prototype.deselectRecords=jsx3.gui.List.prototype.deselectAllRecords;jsx3.List=jsx3.gui.List;
jsx3.require("jsx3.gui.List");jsx3.Class.defineClass("jsx3.gui.Grid",jsx3.gui.List,null,function(g,j){var Lc=jsx3.util.Logger.getLogger(g.jsxclass.getName());var pc=jsx3.gui.Event;g.DEFAULTXSLURL=jsx3.resolveURI(jsx3.CLASS_LOADER.resolvePath("jsx:///xsl/@path@/jsx30grid.xsl"));g.SELECTBGIMAGE="url("+jsx3.resolveURI("jsx:///images/grid/select.gif")+")";g.DEFAULTBACKGROUND="background-image:url("+jsx3.resolveURI("jsx:///images/list/grid.gif")+");";g.DEFAULTBACKGROUNDHEAD="background-image:url("+jsx3.resolveURI("jsx:///images/list/header.gif")+");";jsx3.html.loadImages("jsx:///images/grid/select.gif","jsx:///images/list/grid.gif","jsx:///images/list/header.gif");g.DEFAULTBACKGROUNDCOLOR="#c8cfd8";g.DEFAULTBACKGROUNDCOLORHEAD="#c8cfd8";g.DEFAULTROWCLASS="jsx30list_r2";j.init=function(k){this.jsxsuper(k);};j.Wt=function(){this._jsxij=null;this._jsxcellindex=null;this._jsxrowid=null;};j.getTabListener=function(){return this.jsxtablistener;};j.setTabListener=function(a){this.jsxtablistener=a;return this;};j.paint=function(){this.resetMask();this.Wt();return this.jsxsuper();};j.getClassName=function(){return this.jsxclassname==null?g.DEFAULTROWCLASS:this.jsxclassname;};j.getXSL=function(){var hb=this.jsxsuper(g.DEFAULTXSLURL);return hb;};j.doValidate=function(){return this.setValidationState(jsx3.gui.Form.STATEVALID).getValidationState();};j.UZ=function(){return "background-color:"+(this.getBackgroundColor()?this.getBackgroundColor():g.DEFAULTBACKGROUNDCOLOR)+";";};j.K2=function(){return this.getBackground()?this.getBackground()+";":g.DEFAULTBACKGROUND;};j.DA=function(b,k){this.resetMask();this.jsxsuper(b,k);};j.resetMask=function(m){if(m||(m=this.getActiveMask())!=null)m.setVisibility(jsx3.gui.Block.VISIBILITYHIDDEN,true).setLeft(0,true).setTop(0,true);};j.doSort=function(n){var qc;if(qc=this.getActiveMask())this.onAfterEdit(null,qc);this.resetMask();this.jsxsuper(n);};j.repaintBody=function(){this.resetMask();this.jsxsuper();};j.doBlurItem=function(l){};j.doFocusItem=function(f,s){var qb=pc.getCurrent();var oc=f.ownerDocument;var ic=f.parentNode.id.substring(this.getId().length+1);if(!this.g5(ic))return;var vc=f!=this._jsxij||s;if(vc&&this._jsxcurmask!=null&&(s==true||s!=true&&!(this._jsxcurmask instanceof jsx3.gui.TextBox))){this.onAfterEdit(this._jsxij,this._jsxcurmask);}else{if(vc&&this._jsxcurmask!=null){this.resetMask();}}try{f.focus();if(this._jsxij!=null)this._jsxij.style.backgroundImage=this._jsxij.prevBG!=null?this._jsxij.prevBG:"";if(this.getGrowBy()>0&&f.parentNode==f.parentNode.parentNode.lastChild)this.appendRow();}catch(Kc){var vb=oc.getElementById(this._jsxrowid);if(vb!=null)vb.childNodes[this._jsxcellindex].style.backgroundImage="";return false;}f.prevBG=f.style.backgroundImage;f.style.backgroundImage=g.SELECTBGIMAGE;this._jsxij=f;this._jsxcellindex=f.cellIndex;this._jsxrowid=f.parentNode.id;var Jb=this.LC()[this._jsxcellindex];if(s==null){var db=f.getAttribute("jsxmask");if(!jsx3.util.strEmpty(db)&&db!="jsxnull"){var fb=Jb.getDescendantOfName(db)||this.getDescendantOfName(db);this.fg(qb,f,fb);}else{this.doEvent(jsx3.gui.Interactive.SELECT,{objEVENT:qb,strRECORDID:ic,intCOLUMNINDEX:this._jsxcellindex});}}};j.fg=function(c,k,r){this.resetMask();this._jsxcurmask=r;var x=this.LC()[this._jsxcellindex].getPath().doReplace("@","");var rc=this.getSelectedId();r.setValue();var jc=this.doEvent(jsx3.gui.Interactive.BEFORE_EDIT,{objEVENT:c,strATTRIBUTENAME:x,strRECORDID:rc,objMASK:r,intCOLUMNINDEX:this._jsxcellindex});if(jc!==false&&k!=null&&r!=null){var kb=k.ownerDocument;var tc=this.getHeaderHeight()===0||this.getHeaderHeight()?this.getHeaderHeight():jsx3.gui.List.DEFAULTHEADERHEIGHT;r._jsxvalidrow=k.parentNode.id;var Cc=kb.getElementById(this.getId()+"_jsxbody");var v=this.getRecord(rc);var Gc=v[x];if(Gc==null)Gc="";var R=this.getAbsolutePosition(this.getRendered(),k);if(r instanceof jsx3.gui.TextBox){r.setLeft(R.L+Cc.scrollLeft,true);r.setTop(R.T-tc+Cc.scrollTop,true);r.setWidth(R.W-1,true);r.setHeight(R.H-1,true);r.setValue(Gc);r._jsxprevmaskvalue=Gc;r.setVisibility(jsx3.gui.Block.VISIBILITYVISIBLE,true);if((k=r.getRendered())&&k.scrollHeight>k.offsetHeight)r.setHeight(R.H-1+R.H,true);if(r.getType()==1){r.focus();r.getRendered().select();}else{r.focus();if(kb.selection){var Tb=kb.selection.createRange();Tb.move("sentence",-1);Tb.moveEnd("character",Gc.length);Tb.select();}}}else{if(r instanceof jsx3.gui.ToolbarButton||r instanceof jsx3.gui.Menu){r.setLeft(R.L+R.W-r.getAbsolutePosition().W+Cc.scrollLeft+(r instanceof jsx3.gui.Menu?2:0),true);r.setTop(R.T-tc+Cc.scrollTop-2,true);r.setVisibility(jsx3.gui.Block.VISIBILITYVISIBLE,true);r._jsxvalue=Gc==""?null:Gc;r._jsxprevmaskvalue=Gc;if(c.ctrlKey()){if(r instanceof jsx3.gui.Menu){r.showMenu(c,r.getRendered(),1);}else{r.focus();}}}else{if(r instanceof jsx3.gui.Select){if(r.getValue()==null){r.setValue(Gc==""?null:Gc);r.setText(Gc==null?"":Gc);}r.setLeft(R.L+Cc.scrollLeft,true);r.setTop(R.T-tc+Cc.scrollTop,true);r.setWidth(R.W-1,true);r.setHeight(R.H-1,true);r._jsxprevmaskvalue=r.getValue();r.setVisibility(jsx3.gui.Block.VISIBILITYVISIBLE,true);if(c.ctrlKey()){r.show();}else{r.focus();}}}}delete this._jsxisblur;}};j.doMaskKeyDown=function(q,o){if(o==null)o=pc.getCurrent();var dc=false;var Gc=o.keyCode();var Wb=Gc>36&&Gc<41;if((o.enterKey()||o.tabKey())&&!o.ctrlKey()||Wb&&(o.ctrlKey()||o.altKey())){if(o.enterKey()&&o.shiftKey()||Gc==pc.KEY_ARROW_UP){o.setKeyCode(pc.KEY_ARROW_UP);}else{if(o.enterKey()||Gc==pc.KEY_ARROW_DOWN){o.setKeyCode(pc.KEY_ARROW_DOWN);}else{if(o.tabKey()&&o.shiftKey()&&!(!this.getTabListener()||this.getTabListener()==jsx3.Boolean.TRUE)){try{this.focus();return;}catch(Kc){}}else{if(o.tabKey()&&!(!this.getTabListener()||this.getTabListener()==jsx3.Boolean.TRUE)){try{this.getRendered().lastChild.focus();return;}catch(Kc){}}}}}this._jsxisblur=this.getActiveMask()&&this.getActiveMask() instanceof jsx3.gui.TextBox;this.DY(o,q);dc=true;}else{if(o.ctrlKey()&&o.enterKey()){var nb=this.getDocument().selection.createRange();nb.text="\n";nb.select();dc=true;}else{if(Wb){dc=true;}}}if(dc)o.cancelBubble();};j.getSelectedId=function(){if(this._jsxrowid!=null){var mb=this.getRendered();if(mb){var rb=mb.ownerDocument.getElementById(this._jsxrowid);if(rb!=null)return this._jsxrowid.substring(this.getId().length+1);}this.Wt();}return null;};j.getActiveMask=function(){return this._jsxcurmask;};j.getActiveCell=function(){return this._jsxij;};j.getActiveRow=function(){var w;return (w=this.getActiveCell())?w.parentNode:null;};j.getActiveAttribute=function(){if(this._jsxcellindex){var R=this.LC()[this._jsxcellindex];if(R)return R.getPath().doReplace("@","");}return null;};j.onAfterEdit=function(k,q,c,m){var hb=pc.getCurrent();var Xb=this.LC()[this._jsxcellindex].getPath().doReplace("@","");var U=this.getSelectedId();if(k==null)k=this._jsxij;var dc=k&&k.parentNode?k.parentNode.id:null;if(q._jsxvalidrow==null||q._jsxvalidrow!=dc){Lc.warn("onAfterEdit called for invalid row "+dc);return;}if(!(jsx3.util.strEmpty(k.getAttribute("jsxmask"))||k.getAttribute("jsxmask")=="jsxnull")){if(q==null||typeof(q.getValue)=="function"&&q.getValue()!=q._jsxprevmaskvalue){var A=this.doEvent(jsx3.gui.Interactive.AFTER_EDIT,{objEVENT:hb,strATTRIBUTENAME:Xb,strRECORDID:U,objMASK:q,objGUI:k,intCOLUMNINDEX:this._jsxcellindex});if(A!==false&&q!=null){this.updateCell(Xb,U,k,q);if(c&&q instanceof jsx3.gui.Menu)this.getActiveCell().focus();}}}if(q!=null&&m!==true){this.resetMask(q);delete this._jsxcurmask;delete q._jsxvalidrow;}};j.updateCell=function(a,l,r,d){if(d==null)d=this.getActiveMask();if(r==null)r=this._jsxij;if(d&&r){if(a==null)a=this.LC()[this._jsxcellindex].getPath().doReplace("@","");if(l==null)l=this.getSelectedId();var Bc=typeof(d.getMaskValue)=="function"?d.getMaskValue():d.getValue();if(Bc==null)Bc="";this.insertRecordProperty(l,a,Bc,true);}};j.DY=function(p,i){if(this.jsxsupermix(p,i))return;if(this._jsxij==null||this._jsxij.parentNode==null)return;var Bb=this._jsxij;var eb=this.LC().length;var wc=p.keyCode();var mc=wc>=pc.KEY_ARROW_LEFT&&wc<=pc.KEY_ARROW_DOWN||wc==pc.KEY_TAB&&(!this.getTabListener()||this.getTabListener()==jsx3.Boolean.TRUE);var Kc=mc;if(mc){var mb=null;var R=Bb==Bb.parentNode.firstChild;var sc=Bb.cellIndex>=eb-1;var Ac=Bb.parentNode==Bb.parentNode.parentNode.firstChild;var P=Bb.parentNode==Bb.parentNode.parentNode.lastChild;if(wc==pc.KEY_ARROW_LEFT||p.shiftKey()&&wc==pc.KEY_TAB){if(wc==pc.KEY_TAB)wc=pc.KEY_ARROW_LEFT;if(R){if(Ac)mb=Bb;else mb=Bb.parentNode.previousSibling.childNodes[eb-1];}else{mb=Bb.previousSibling;}}else{if(wc==pc.KEY_ARROW_UP){if(Ac)mb=Bb;else mb=Bb.parentNode.previousSibling.childNodes[Bb.cellIndex];}else{if(wc==pc.KEY_ARROW_RIGHT||wc==pc.KEY_TAB){if(wc==pc.KEY_TAB)wc=pc.KEY_ARROW_RIGHT;if(sc){if(P)mb=Bb;else mb=Bb.parentNode.nextSibling.childNodes[0];}else{mb=Bb.nextSibling;}}else{if(wc==pc.KEY_ARROW_DOWN){if(P)mb=Bb;else mb=Bb.parentNode.nextSibling.childNodes[Bb.cellIndex];}}}}this.doFocusItem(mb,true);}else{if(wc==pc.KEY_ENTER){}else{if(wc==pc.KEY_TAB&&p.shiftKey()){this.focus();Kc=true;}else{if(wc==pc.KEY_TAB){this.getRendered().lastChild.focus();Kc=true;}}}}if(Kc){p.cancelBubble();p.cancelReturn();}};j.doExecute=function(e,s){this.Oy(this.isOldEventProtocol(),e,s);};j.Oy=function(h,r,f){if(r==null&&this._jsxrowid)r=this._jsxrowid.substring(this.getId().length+1);if(f==null)f=this._jsxcellindex;if(r==null)return;if(!this.g5(r))return;var gb=this.getRecordNode(r);if(gb!=null)this.eval(gb.getAttribute("jsxexecute"),{strRECORDID:r,intCOLUMNINDEX:f});if(h)this.doEvent(jsx3.gui.Interactive.EXECUTE,{objEVENT:h instanceof pc?h:null,strRECORDID:r,intCOLUMNINDEX:f});};j.IU=function(q,o){var eb=q.srcElement();if(eb.tagName=="TBODY"||eb.tagName=="TR")return;var Ob=this.getRendered();while(eb.tagName!="TD"&&eb!=Ob)eb=eb.parentNode;if(eb.tagName=="TD"){if(eb.parentNode.getAttribute("JSXDragId")==null)return;if(eb.cellIndex==this.LC().length)return;eb.focus();q.cancelBubble();q.cancelReturn();}};j.S3=function(){var E="";var Eb=this.LC();var ec=Eb.length;for(var G=0;G<ec;G++){var hb=Eb[G];var Cb=hb.getChildren();for(var bb=0;bb<Cb.length;bb++){E=E+Cb[bb].paint();}}return E;};j.redrawRecord=function(k,n){if(n==jsx3.xml.CDF.DELETE){this.resetMask();}this.jsxsuper(k,n);};g.getVersion=function(){return "3.0.00";};});jsx3.Grid=jsx3.gui.Grid;
jsx3.require("jsx3.gui.Form","jsx3.gui.Heavyweight","jsx3.gui.Block");jsx3.Class.defineClass("jsx3.gui.DatePicker",jsx3.gui.Block,[jsx3.gui.Form],function(f,g){var x=jsx3.gui.Event;var Dc=jsx3.gui.Interactive;var v=jsx3.util.DateFormat;f.DEFAULT_FORMAT="M/d/yyyy";f.DEFAULT_WEEK_START=0;f.Mp=jsx3.resolveURI("jsx:///images/jsxdatepicker/next.gif");f.mr=jsx3.resolveURI("jsx:///images/jsxdatepicker/previous.gif");f.Cz=jsx3.resolveURI("jsx:///images/jsxdatepicker/open.gif");jsx3.html.loadImages(f.Mp,f.mr,f.Cz);g.jsxformat=null;g.jsxfirstweekday=null;g._jsxtB=null;g._jsxot=null;g._jsxdh=false;g._jsxvz=null;g.init=function(o,l,h,j,i){this.jsxsuper(o,l,h,j,i);this.jsxyear=1970;this.jsxmonth=0;this.jsxdate=1;};g.iA=function(){var S=this.tl(true);this.IC();S.show();var Y=S.getRendered();Y.childNodes[0].focus();this.doEvent(Dc.SHOW);this._jsxdh=true;x.subscribeLoseFocus(this,Y,"bv");};g.bv=function(p,o){var xb=this.tl();if(xb!=null){xb.destroy();this.doEvent(Dc.HIDE);x.unsubscribeLoseFocus(this);}this._jsxdh=false;if(o){var Cc=this.iv();if(Cc)Cc.focus();}};g.getFormat=function(){return this.jsxformat!=null?this.jsxformat:0;};g.setFormat=function(d){this.jsxformat=d;delete this._jsxvz;};g.tr=function(){if(this._jsxvz==null||!this._jsxvz.getLocale().equals(this.b2())){try{var Bb=this.getFormat();if(typeof(Bb)=="number")this._jsxvz=v.getDateInstance(Bb,this.b2());else this._jsxvz=new v(Bb,this.b2());}catch(Kc){jsx3.util.Logger.GLOBAL.warn("Invalid date format: "+this.getFormat(),jsx3.NativeError.wrap(Kc));this._jsxvz=v.getDateInstance(null,this.b2());}}return this._jsxvz;};g.getFirstDayOfWeek=function(){return this.jsxfirstweekday!=null?this.jsxfirstweekday:this.AQ("date.firstWeekDay");};g.setFirstDayOfWeek=function(r){if(r>=0&&r<=6){this.jsxfirstweekday=r;}else{throw new jsx3.IllegalArgumentException("jsxfirstweekday",r);}};g.getDate=function(){if(this.jsxyear!=null)return new Date(this.jsxyear,this.jsxmonth,this.jsxdate);else return null;};g._m=function(){var Ob=this.getDate();if(Ob!=null){return this.tr().format(Ob);}else{var A=this.getFormat();if(typeof(A)=="number")return v.getDateInstance(A,this.b2());else return this.getFormat();}};g.getValue=function(){var ac=this.iv();return ac!=null?ac.value:null;};g.setDate=function(d){if(d!=null){this.jsxyear=d.getFullYear();this.jsxmonth=d.getMonth();this.jsxdate=d.getDate();}else{this.jsxyear=this.jsxmonth=this.jsxdate=null;}var nb=this.iv();if(nb!=null)nb.value=this._m();};g.Or=function(q){var E=new Date(this._jsxtB+q,this._jsxot,1);this._jsxtB=E.getFullYear();this._jsxot=E.getMonth();this.IC();this.CD(true,q>0);};g.ir=function(m){var Pb=new Date(this._jsxtB,this._jsxot+m,1);this._jsxtB=Pb.getFullYear();this._jsxot=Pb.getMonth();this.IC();this.CD(false,m>0);};g.CD=function(k,m){var qb=this.tl();if(qb!=null){var bb=qb.getRendered();if(bb!=null){var Ac=jsx3.html.getElementById(bb,this.getId()+"_"+(m?"u":"d")+(k?"y":"m"),true);Ac.focus();}}};g.wj=function(e,h){var Hb=h.id.substring(h.id.lastIndexOf("_")+1).split("-");var Cc=this.getDate();var H=new Date(Hb[0],Hb[1],Hb[2]);if(Cc==null||H.getTime()!=Cc.getTime()){if(this.doEvent(Dc.CHANGE,{objEVENT:e,oldDATE:Cc,newDATE:H})!==false){this.setDate(H);this.IC();var J=this.iv();J.value=this._m();}}this.bv(null,true);};g.IC=function(){var Ob=this.tl();if(Ob!=null)Ob.setHTML(this.sq(this._jsxtB,this._jsxot),true);};g.yD=function(o,q){if(this._jsxdh)return;if(this.getEnabled()!=jsx3.gui.Form.STATEENABLED)return;var Db=this.getDate();if(this.jsxyear!=null){this._jsxtB=this.jsxyear;this._jsxot=this.jsxmonth;}else{Db=new Date();this._jsxtB=Db.getFullYear();this._jsxot=Db.getMonth();}this.iA();};g.gI=function(j,c){if(c.value==""){this.setDate(null);}else{try{var mb=this.tr().parse(c.value);if(this.doEvent(Dc.CHANGE,{objEVENT:j,oldDATE:this.getDate(),newDATE:mb})!==false)this.setDate(mb);}catch(Kc){c.value=this._m();}}};g.U2=function(c,j){var F=c.getWheelDelta();if(F!=0){var jb=this.getDate(),Ic=null;if(jb!=null){Ic=new Date(jb.getFullYear(),jb.getMonth(),jb.getDate()+(F>0?1:-1));}else{jb=new Date();Ic=new Date(jb.getFullYear(),jb.getMonth(),jb.getDate());}if(this.doEvent(Dc.CHANGE,{objEVENT:c,oldDATE:jb,newDATE:Ic})!==false)this.setDate(Ic);}};g._4=function(r,n){if(r.rightButton()){this.bv();this.jsxsupermix(r,n);}};g.DY=function(e,h){if(!e.hasModifier()&&(e.downArrow()||e.upArrow()||e.enterKey())){this.yD(e,h);e.cancelAll();}};g.Rf=function(h,e){if(h.enterKey()||h.spaceKey())this.yD(h,e);};g.zz=function(a,l){var Ic=a.getType()=="keypress";if(!Ic&&a.escapeKey()){this.bv(null,true);}else{if(!Ic&&a.enterKey()){var qb=a.srcElement();x.dispatchMouseEvent(qb,x.CLICK);}else{if(a.tabKey()){if(a.srcElement()==l){if(a.shiftKey()){a.cancelAll();this.bv(null,true);}}else{if(a.srcElement().getAttribute("tabreturn")){a.cancelAll();this.CD(true,false);}}}}}};g.focus=function(){var t=this.iv();if(t)t.focus();};g.iv=function(r){if(r==null)r=this.getRendered();if(r)return r.childNodes[0].childNodes[0];};g.repaint=function(){delete this._jsxvz;return this.jsxsuper();};g.k7=function(p,m,b){var Ob=this.RL(true,p);if(m){Ob.recalculate(p,m,b);var lc=Ob.pQ(0);lc.recalculate({width:Ob.XK(),height:Ob.P5()},m?m.childNodes[0]:null,b);var zb=lc.pQ(0);zb.recalculate({width:lc.XK()-16,height:lc.P5()},m?this.iv(m):null,b);var pc=lc.pQ(1);pc.recalculate({left:lc.XK()-16},m?m.childNodes[0].childNodes[1]:null,b);}};g.T5=function(e){if(this.getParent()&&(e==null||isNaN(e.parentwidth)||isNaN(e.parentheight))){e=this.getParent().IO(this);}else{if(e==null){e={};}}var vc=this.getRelativePosition()!=0&&(!this.getRelativePosition()||this.getRelativePosition()==jsx3.gui.Block.RELATIVE);var Y=vc?null:this.getLeft();var z=vc?null:this.getTop();var W,H,Ac,Lc,Ab;e.boxtype=vc?"relativebox":"box";e.tagname="span";if(vc&&(Ac=this.getMargin())!=null&&Ac!="")e.margin=Ac;if(e.left==null&&Y!=null)e.left=Y;if(e.top==null&&z!=null)e.top=z;if(e.width==null)e.width=(Lc=this.getWidth())!=null&&Lc!=""?Lc:100;if(e.height==null)e.height=(Ab=this.getHeight())!=null&&Ab!=""?Ab:18;var bc=new jsx3.gui.Painted.Box(e);var fb={};fb.tagname="div";fb.boxtype="inline";fb.width=bc.XK();fb.height=bc.P5();if((W=this.getPadding())!=null&&W!="")fb.padding=W;if((H=this.getBorder())!=null&&H!="")fb.border=H;var U=new jsx3.gui.Painted.Box(fb);bc.W8(U);fb={};fb.tagname="input[text]";fb.empty=true;fb.boxtype="box";fb.left=0;fb.top=0;fb.width=U.XK()-16;fb.height=U.P5();fb.padding="0 0 0 2";fb.border="solid 1px #9898a5;solid 1px #d8d8e5;solid 1px #d8d8e5;solid 1px #9898a5";var R=new jsx3.gui.Painted.Box(fb);U.W8(R);fb={};fb.tagname="span";fb.boxtype="box";fb.left=U.XK()-16;fb.top=0;fb.width=13;fb.height=18;fb.padding="1 1 1 1";var Ec=new jsx3.gui.Painted.Box(fb);U.W8(Ec);return bc;};g.paint=function(){this.applyDynamicProperties();var qc="jsx3.GO('"+this.getId()+"')";var cb=this.getEnabled()==jsx3.gui.Form.STATEENABLED?this.getBackgroundColor():this.getDisabledBackgroundColor();var Fb={};Fb[x.CHANGE]=true;Fb[x.MOUSEWHEEL]=true;Fb[x.KEYDOWN]="DY";var ac=this.lM(Fb,2);var t=this.renderAttributes(null,true);var Q=this.RL(true);Q.setAttributes("id=\""+this.getId()+"\" class=\"jsx30datepicker\" "+"label=\""+this.getName()+"\" "+t);Q.setStyles(this.d9()+this.T1()+this.MU()+this.iN());var lc=Q.pQ(0);var ib=lc.pQ(0);ib.setAttributes(" type=\"text\" value=\""+this._m()+"\" "+this.CI()+this.vH()+this.WP()+ac);ib.setStyles(this.oY()+this.QP()+this.D6()+this.eQ()+this.g0()+(cb!=null?"background-color:"+cb+";":"")+(this.getBackground()!=null?this.getBackground()+";":""));var dc=lc.pQ(1);dc.setAttributes(" class=\"open\" "+this.RX(x.CLICK,"yD",2)+this.RX(x.KEYDOWN,"Rf",2)+this.CI());dc.setStyles("background-image:url("+f.Cz+");");return Q.paint().join(lc.paint().join(ib.paint().join("")+dc.paint().join("&#160;")+"&#160;"));};g.sq=function(o,s){var wc=this.getId();var kb="jsx3.GO('"+wc+"')";var t="Or";var Fb="ir";var xb=this.CI();return "<span class=\"jsx3_dp_cal\""+xb+" style=\"z-index:5000;position:absolute;left:0px;top:0px;\""+this.RX(x.KEYDOWN,"zz")+this.RX(x.KEYPRESS,"zz")+">"+"<table cellspacing=\"0\" class=\"jsx3_dp_cal\">"+"<tr class=\"year\">"+"<td class=\"prev\""+xb+" id=\""+wc+"_dy\" onclick=\""+kb+"."+t+"(-1);\"><img src=\""+f.mr+"\"/></td>"+"<td class=\"title\">"+o+"</td>"+"<td class=\"next\""+xb+" id=\""+wc+"_uy\" onclick=\""+kb+"."+t+"(1);\"><img src=\""+f.Mp+"\"/></td>"+"</tr>"+"<tr class=\"month\">"+"<td class=\"prev\""+xb+" id=\""+wc+"_dm\" onclick=\""+kb+"."+Fb+"(-1);\"><img src=\""+f.mr+"\"/></td>"+"<td class=\"title\">"+this.yo(s)+"</td>"+"<td class=\"next\""+xb+" id=\""+wc+"_um\" onclick=\""+kb+"."+Fb+"(1);\"><img src=\""+f.Mp+"\"/></td>"+"</tr>"+"<tr class=\"days\"><td class=\"cal\" colspan=\"3\">"+this.rl(o,s)+"</td></tr></table>"+"</span>";};f.Ju=function(a){var Nc=a.getMonth();return f.qp[Nc]||((new Date(a.getYear(),Nc,29)).getMonth()==Nc?29:28);};f.qp=[31,null,31,30,31,30,31,31,30,31,30,31];g.rl=function(h,m){var Jc=this.getServer();var fb=new Date(h,m,1);var Ac=this.getFirstDayOfWeek();var Qb=fb.getDay();var z=f.Ju(fb);var rc=this.getId();var vb="jsx3.GO('"+rc+"')";var Hb=[];Hb.push("<table cellspacing=\"0\" class=\"jsx3_dp_month\">");Hb.push("<tr>");for(var cc=Ac;cc<Ac+7;cc++){Hb.push("<th>"+this.ar(cc%7,Jc)+"</th>");}Hb.push("</tr>");var sc=new Date(h,m,1-(Qb-Ac+7)%7);var ob=sc.getDate();var gb=new Date(h,m+1,1);var Gc=gb.getDate();var Lb=new Date();var Cc=this.CI();var dc=this.RX(x.CLICK,"wj");var cc=0;while(cc<=z){Hb.push("<tr>");for(var U=0;U<7;U++){var _=h;var Gb=m;var vc=null;var bb=null;var Bb="over";if(cc==0){if((U+Ac)%7==Qb){cc=1;}else{_=sc.getFullYear();Gb=sc.getMonth();bb="prev";vc=ob;ob++;}}if(cc>0){if(cc<=z){bb="normal";vc=cc;cc++;}else{_=gb.getFullYear();Gb=gb.getMonth();bb="next";vc=Gc;Gc++;}}var W=U==6&&cc>z;if(this.jsxyear==_&&this.jsxmonth==Gb&&this.jsxdate==vc)bb="selected";var Ob=vc==Lb.getDate()&&Gb==Lb.getMonth()&&_==Lb.getFullYear();if(Ob){bb=bb+" today";Bb=Bb+" today";}Hb.push("<td id=\""+rc+"_"+_+"-"+Gb+"-"+vc+"\""+(W?" tabreturn=\"true\"":"")+Cc+" class=\""+bb+"\" onmouseover=\"this.className='"+Bb+"'\" onmouseout=\"this.className='"+bb+"'\""+dc+">"+vc+"</td>");}Hb.push("</tr>");}Hb.push("</table>");return Hb.join("");};g.ar=function(i,j){if(j==null)j=this.getServer();return this.AQ("date.day")[i%7].substring(0,2);};g.yo=function(j,q){if(q==null)q=this.getServer();return this.AQ("date.month")[j%12];};g.tl=function(p){var Ib="jsxDatePicker"+this.getId();var Wb=jsx3.gui.Heavyweight.GO(Ib);if(p){if(Wb!=null)Wb.destroy();var R=this.iv();Wb=new jsx3.gui.Heavyweight(Ib,this);Wb.addXRule(R,"E","W",0);Wb.addXRule(R,"W","E",0);Wb.addYRule(R,"N","N",0);Wb.addYRule(R,"S","S",0);}return Wb;};g.doValidate=function(){var Q=this.getDate()!=null||this.getRequired()==jsx3.gui.Form.OPTIONAL?jsx3.gui.Form.STATEVALID:jsx3.gui.Form.STATEINVALID;this.setValidationState(Q);return Q;};g.containsHtmlElement=function(l){var Eb=this.tl();return this.jsxsuper(l)||Eb!=null&&Eb.containsHtmlElement(l);};g.emSetValue=function(s){var Ic=this.emGetSession();var G=null;if(jsx3.util.strEmpty(s==null)){Ic.datetype="int";}else{if(!isNaN(s)&&!isNaN(parseInt(s))){G=new Date();G.setTime(parseInt(s));Ic.datetype="int";}else{var lc=this.tr();try{G=lc.parse(s);Ic.datetype="format";}catch(Kc){G=new Date(s);if(isNaN(G)){G=null;}else{Ic.datetype="native";}}}}this.setDate(G);};g.emGetValue=function(){var I=this.getDate();if(I==null)return null;var eb=this.emGetSession().datetype||"";switch(eb){case "format":return this.tr().format(I);case "native":return I.toString();default:return I.getTime().toString();}};g.emCollapseEdit=function(k){this.bv(k,false);};});jsx3.DatePicker=jsx3.gui.DatePicker;
jsx3.require("jsx3.gui.Form","jsx3.gui.Block");jsx3.Class.defineClass("jsx3.gui.Slider",jsx3.gui.Block,[jsx3.gui.Form],function(l,r){var zc=jsx3.gui.Event;l.HORIZONTAL=0;l.VERTICAL=1;l.VC=100;l.Tx=15;l.ro=7;l.Av=l.Tx;l.iz=15;l.iy=100;l.nu="jsx:///images/slider/top.gif";l.CA="jsx:///images/slider/bottom.gif";l.OF="jsx:///images/slider/left.gif";l.oy="jsx:///images/slider/right.gif";l.TA="filter:progid:DXImageTransform.Microsoft.Gradient(GradientType=0, StartColorStr=#aaffffff, EndColorStr=#FF9090af);";l.YD="filter:progid:DXImageTransform.Microsoft.Gradient(GradientType=1, StartColorStr=#aaffffff, EndColorStr=#FF9090af);";l.UF="border:solid 1px #9898a5;border-right-color:#ffffff;border-bottom-color:#ffffff;";l.IB="border:solid 1px #9898a5;border-right-color:#ffffff;border-top-color:#ffffff;";r.jsxlength=100;r.jsxvalue=0;r.jsxpainttrack=jsx3.Boolean.TRUE;r.jsxtrackclick=jsx3.Boolean.TRUE;r.jsximg=null;r.init=function(n,m,h,a){this.jsxsuper(n,m,h);this.jsxlength=a;};r.getValue=function(){return this.jsxvalue!=null?this.jsxvalue:0;};r.setValue=function(n){this.jsxvalue=n==null?null:Math.max(0,Math.min(l.iy,Number(n)));this.rt();this.C5();return this;};r.doValidate=function(){return this.setValidationState(jsx3.gui.Form.STATEVALID).getValidationState();};r.getLength=function(){return this.jsxlength!=null?this.jsxlength:l.VC;};r.setLength=function(g,s){this.jsxlength=g;this.C5();if(s)this.repaint();return this;};r.setWidth=function(g,i){if(this.getOrientation()==l.HORIZONTAL)this.setLength(g,i);return this;};r.setHeight=function(m,s){if(this.getOrientation()==l.VERTICAL)this.setLength(m,s);return this;};r.getOrientation=function(){return this.jsxorientation!=null?this.jsxorientation:l.HORIZONTAL;};r.setOrientation=function(m){this.jsxorientation=m;this.C5();return this;};r.getPaintTrack=function(){return this.jsxpainttrack!=null?this.jsxpainttrack:jsx3.Boolean.TRUE;};r.setPaintTrack=function(h){this.jsxpainttrack=h;return this;};r.getTrackClickable=function(){return this.jsxtrackclick!=null?this.jsxtrackclick:jsx3.Boolean.TRUE;};r.setTrackClickable=function(o){this.jsxtrackclick=o;return this;};r.getHandleImage=function(){return this.jsximg;};r.setHandleImage=function(k){this.jsximg=k;return this;};r.rt=function(){var E=this.getRendered();if(E!=null){var qc=jsx3.html.selectSingleElm(E,0,0);var Qb=jsx3.html.selectSingleElm(E,0,1);if(this.getOrientation()==l.HORIZONTAL){var pc=parseInt(qc.offsetWidth)-parseInt(Qb.offsetWidth);Qb.style.left=Math.round(this.getValue()*pc/l.iy)+"px";Qb.style.top=Math.round((l.Tx-l.Av)/2)+"px";}else{var Lb=parseInt(qc.offsetHeight)-parseInt(Qb.offsetHeight);Qb.style.left=Math.round((l.Tx-l.Av)/2)+"px";Qb.style.top=Lb-Math.round(this.getValue()*Lb/l.iy)+"px";}}};r.k7=function(d,a,n){var jc=this.RL(true,d);if(a){var jb=d.width!=null&&jc.implicit.width!=d.width||d.parentwidth!=jc.implicit.parentwidth&&typeof(jc.implicit.width)=="string"&&jc.implicit.width.indexOf("%")>0||d.height!=null&&jc.implicit.height!=d.height||d.parentheight!=jc.implicit.parentheight&&typeof(jc.implicit.height)=="string"&&jc.implicit.height.indexOf("%")>0;jc.recalculate(d,a,n);var Ib=jc.pQ(0);Ib.recalculate({width:jc.XK(),height:jc.P5()},a?a.childNodes[0]:null,n);var xb=Ib.pQ(0);xb.recalculate({width:Ib.XK(),height:Ib.P5()},a?a.childNodes[0].childNodes[0]:null,n);if(jb)this.rt();}};r.T5=function(f){if(this.getParent()&&(f==null||isNaN(f.parentwidth)||isNaN(f.parentheight))){f=this.getParent().IO(this);}else{if(f==null){f={};}}var mb=this.getRelativePosition()!=0&&(!this.getRelativePosition()||this.getRelativePosition()==jsx3.gui.Block.RELATIVE);var wb=mb?null:this.getLeft();var xb=mb?null:this.getTop();var Wb=this.getOrientation()==l.HORIZONTAL;f.boxtype=mb?"relativebox":"box";f.tagname="span";if(f.left==null&&wb!=null)f.left=wb;if(f.top==null&&xb!=null)f.top=xb;if(Wb){f.height=l.Tx;f.width=this.getLength();}else{f.height=this.getLength();f.width=l.Tx;}var z=this.getMargin();if(mb&&z!=null&&z!="")f.margin=z;var oc=new jsx3.gui.Painted.Box(f);var nb={};nb.tagname="div";nb.boxtype="inline";nb.width=oc.XK();nb.height=oc.P5();var Bc=Math.round((l.Tx-l.ro)/2)+" ";var qb="0 ";nb.padding=Wb?Bc+qb+Bc+qb:qb+Bc+qb+Bc;var ec=new jsx3.gui.Painted.Box(nb);oc.W8(ec);nb={};nb.tagname="div";nb.boxtype="inline";if(Wb){nb.height=l.ro;nb.width=ec.XK();}else{nb.height=ec.P5();nb.width=l.ro;}nb.border=this.getBorder()?this.getBorder():this.getOrientation()==l.HORIZONTAL?l.UF:l.IB;var H=new jsx3.gui.Painted.Box(nb);ec.W8(H);var Bb=Wb?Math.round(this.getValue()/l.iy*(ec.XK()-l.iz)):Math.floor((l.Tx-l.Av)/2);var Jc=Wb?Math.floor((l.Tx-l.Av)/2):Math.round(ec.P5()-l.iz-this.getValue()/l.iy*(ec.P5()-l.iz));var Fc=Wb?l.iz:l.Av;var W=Wb?l.Av:l.iz;nb={};nb.tagname="div";nb.boxtype="box";nb.left=Bb;nb.top=Jc;nb.width=Fc;nb.height=W;var hc=new jsx3.gui.Painted.Box(nb);oc.W8(hc);nb={};nb.tagname="div";nb.boxtype="inline";nb.width=Fc;nb.height=W;var w=new jsx3.gui.Painted.Box(nb);hc.W8(w);return oc;};r.DY=function(a,d){if(!a.hasModifier()){if(a.isArrowKey()){if(a.upArrow()||a.rightArrow())this.Vd(a,1);else{if(a.downArrow()||a.leftArrow())this.Vd(a,-1);}a.cancelAll();}}};r.U2=function(a,d){var D=a.getWheelDelta();if(D!=0){this.Vd(a,D>0?1:-1);}a.cancelBubble();};r.Vd=function(d,f){var Jc;if(f>0){if(this.jsxvalue>=l.iy)return;Jc=Math.floor(this.jsxvalue+f);while(Jc<l.iy){if(this.jsxvalue<this.constrainValue(Jc))break;Jc=Jc+f;}}else{if(this.jsxvalue<=0)return;Jc=Math.ceil(this.jsxvalue+f);while(Jc>0){if(this.jsxvalue>this.constrainValue(Jc))break;Jc=Jc+f;}}Jc=this.constrainValue(Jc);if(Jc!=this.jsxvalue){var Mb=this.doEvent(jsx3.gui.Interactive.CHANGE,{objEVENT:d.event,fpPREVIOUS:this.jsxvalue,fpVALUE:Jc});if(Mb!==false)this.setValue(Jc);}};l.s5={};l.s5[zc.KEYDOWN]=true;l.s5[zc.MOUSEWHEEL]=true;r.paint=function(){this.applyDynamicProperties();var Kb=this.getOrientation()==l.HORIZONTAL;var T=this.getEnabled()==jsx3.gui.Form.STATEENABLED;var Mb=this.lM(l.s5,0);var yc=this.renderAttributes(null,true);var Rb=this.RL(true);Rb.setAttributes("id=\""+this.getId()+"\" class=\"jsx30slider\" "+"label=\""+this.getName()+"\" "+this.CI()+this.vH()+Mb+yc);Rb.setStyles(this.A0()+this.d9()+this.T1()+this.MU());var _b=Rb.pQ(0);var cc=!this.getPaintTrack()?"visibility:hidden;":"";var nb=this.getTrackClickable()&&T?this.RX(zc.CLICK,"xt",2):"";var E=_b.pQ(0);E.setStyles(this.UZ()+this.K2()+cc);E.setAttributes(" class=\"jsx30slider_track\" "+nb);var Sb=this.getHandleImage();if(Sb==null)Sb=Kb?l.nu:l.OF;var fb=Rb.pQ(1);fb.setAttributes("class=\"handle\""+(T?this.RX(zc.MOUSEDOWN,"kB",2):""));var Eb=fb.pQ(0);Eb.setAttributes(" class=\"handle"+(T?"":"_disabled")+"\" unselectable=\"on\"");Eb.setStyles("background-image:url("+this.getUriResolver().resolveURI(Sb)+");");return Rb.paint().join(_b.paint().join(E.paint().join("&#160;")+fb.paint().join(Eb.paint().join(""))));};r.kB=function(p,h){if(!p.leftButton())return;p.cancelBubble();p.cancelReturn();var G=this.getOrientation()==l.HORIZONTAL;var cc=this;jsx3.gui.Interactive.DM(p,h,function(s,q){return cc.Pw(p,s,q);});zc.subscribe(zc.MOUSEMOVE,this,"Th");zc.subscribe(zc.MOUSEUP,this,"Vl");};r.xt=function(m,s){if(!m.leftButton())return;var nb=this.getOrientation()==l.HORIZONTAL;var Ub=this.hj(nb?m.getOffsetX():m.getOffsetY());Ub=this.constrainValue(Ub);if(this.jsxvalue!=Ub){var ib=this.doEvent(jsx3.gui.Interactive.CHANGE,{objEVENT:m,fpPREVIOUS:this.jsxvalue,fpVALUE:Ub});if(ib!==false)this.setValue(Ub);}};r.Pw=function(s,g,f){var Bb=this.getRendered(s);var Gb=this.getOrientation()==l.HORIZONTAL;var Ab=0,A=0;if(Bb!=null){var D=jsx3.html.selectSingleElm(Bb,0,0);var dc=jsx3.html.selectSingleElm(Bb,0,1);if(Gb){A=dc.offsetY;var Vb=l.iy*g/(D.offsetWidth-dc.offsetWidth);Vb=this.constrainValue(Vb);Ab=Math.round(Vb*(D.offsetWidth-dc.offsetWidth)/l.iy);}else{Ab=dc.offsetX;var F=l.iy*f/(D.offsetHeight-dc.offsetHeight);F=this.constrainValue(F);A=Math.round(F*(D.offsetHeight-dc.offsetHeight)/l.iy);}}return [Ab,A];};r.Th=function(p){var Ic=this.constrainValue(this.hj());this.doEvent(jsx3.gui.Interactive.INCR_CHANGE,{objEVENT:p.event,fpVALUE:Ic});};r.Vl=function(o){jsx3.EventHelp.reset();zc.unsubscribe(zc.MOUSEMOVE,this,"Th");zc.unsubscribe(zc.MOUSEUP,this,"Vl");var Nc=this.constrainValue(this.hj());var ob=this.doEvent(jsx3.gui.Interactive.CHANGE,{objEVENT:o.event,fpPREVIOUS:this.jsxvalue,fpVALUE:Nc});if(ob===false){this.setValue(this.jsxvalue);}else{this.jsxvalue=Nc;this.C5();}};r.hj=function(e){var Ub=this.getRendered();if(Ub!=null){var tc=this.getOrientation()==l.HORIZONTAL;var Nb=jsx3.html.selectSingleElm(Ub,0,0);var oc=jsx3.html.selectSingleElm(Ub,0,1);return tc?l.iy*(e!=null?e:oc.offsetLeft)/(Nb.offsetWidth-oc.offsetWidth):l.iy*(1-(e!=null?e:oc.offsetTop)/(Nb.offsetHeight-oc.offsetHeight));}else{return 0;}};r.constrainValue=function(h){return Math.max(0,Math.min(l.iy,h));};r.K2=function(){var oc=this.getBackground()||"";return oc||this.UZ()?oc+";":this.getOrientation()==l.HORIZONTAL?l.TA:l.YD;};l.getVersion=function(){return "3.0.00";};});jsx3.Slider=jsx3.gui.Slider;
jsx3.require("jsx3.gui.Painted","jsx3.gui.Interactive");jsx3.Class.defineClass("jsx3.gui.Sound",jsx3.gui.Painted,[jsx3.gui.Interactive],function(p,e){p.sB={};p.sB.AF=function(k){return typeof(k.GetQuickTimeVersion)!="undefined";};p.sB.tu=function(a){a.Play();};p.sB.gf=function(k){k.Stop();};p.sB.dr=function(g){g.Stop();g.Rewind();};p.sB.Be=function(o){return o.GetDuration()/o.GetTimeScale();};p.sB.Xk=function(a){return a.GetTime()/a.GetTimeScale();};p.sB.bq=function(f,i){f.SetTime(i*f.GetTimeScale());};p.sB.dG=function(c,s){c.SetVolume(this.gu(s));};p.sB.gu=function(g){return Math.round(g*255/100);};p.sB.toString=function(){return "Apple QuickTime";};p.sB._z=function(b){return this+" "+b.GetQuickTimeVersion();};p.GE={};p.GE.AF=function(d){return typeof(d.GetVersionInfo)!="undefined";};p.GE.tu=function(a){if(a.CanPlay()){a.DoPlay();if(a.jsxlength==null){a.jsxlength=a.GetLength();a.SetPreFetch(false);}}};p.GE.gf=function(c){if(c.CanPause())c.DoPause();};p.GE.dr=function(k){if(k.CanStop())k.DoStop();};p.GE.Be=function(m){if(m.GetPlayState()!=0||m.GetPreFetch()){return m.GetLength()/1000;}else{return m.jsxlength!=null?m.jsxlength/1000:Number.NaN;}};p.GE.Xk=function(a){return a.GetPosition()/1000;};p.GE.bq=function(i,l){if(i.GetPlayState()!=0){i.SetPosition(l*1000);}else{i.DoPlay();i.SetPosition(l*1000);i.DoPause();}};p.GE.sl=function(h){return h.GetPlayState()==3;};p.GE.dG=function(b,r){b.SetVolume(this.gu(r));};p.GE.gu=function(a){return Math.round(a);};p.GE.toString=function(){return "RealPlayer";};p.GE._z=function(n){return this+" "+n.GetVersionInfo();};p.hf={};p.hf.AF=function(f){return typeof(f.GetMediaInfoString)!="undefined";};p.hf.tu=function(a){a.Play();};p.hf.gf=function(j){j.Pause();};p.hf.dr=function(g){g.Stop();};p.hf.Be=function(a){return a.Duration;};p.hf.Xk=function(q){return q.CurrentPosition;};p.hf.bq=function(c,f){c.CurrentPosition=f;};p.hf.sl=function(m){return m.PlayState==2;};p.hf.dG=function(b,r){b.Volume=this.gu(r);};p.hf.gu=function(n){return Math.max(-10000,Math.round(2500*Math.log(n*100)/Math.LN10-10000));};p.hf.toString=function(){return "Windows Media Player";};p.hf._z=function(j){if(this.VERSION==null){try{this.VERSION="Unknown Version";if(window.ActiveXObject){this.ACTIVEX=new ActiveXObject("WMPlayer.OCX.7");this.VERSION=this.ACTIVEX.versionInfo;}}catch(Kc){}}return this+" "+this.VERSION;};p.of={};p.of.AF=function(j){return true;};p.of.tu=function(o){if(typeof(o.Play)!="undefined")o.Play();};p.of.gf=function(i){if(typeof(i.Pause)!="undefined")i.Pause();};p.of.dr=function(k){if(typeof(k.Stop)!="undefined")k.Stop();};p.of.Be=function(k){return Number.NaN;};p.of.Xk=function(g){return Number.NaN;};p.of.bq=function(a,d){};p.of.sl=function(f){return false;};p.of.dG=function(k,h){if(typeof(k.SetVolume)!="undefined")k.SetVolume(this.gu(h));};p.of.gu=function(r){return Math.round(r);};p.of.toString=function(){return "Generic";};p.of._z=function(d){return this.toString();};p.Rg=[p.sB,p.GE,p.hf,p.of];e.jsxurl=null;e.jsxvolume=50;e._jsxAj=null;e.init=function(s,b){this.jsxsuper(s);this.jsxurl=b;};e.getURL=function(){return this.jsxurl;};e.setURL=function(j){this.jsxurl=j;return this;};e.getVolume=function(){return this.jsxvolume;};e.Tz=function(){var x=this.jsxvolume!=null?this.jsxvolume:this.prototype.jsxvolume;return this.hr().gu(x);};e.setVolume=function(q){this.jsxvolume=q==null?null:Math.max(0,Math.min(100,q));var Hb=this.getRendered();if(Hb!=null){var P=this.jsxvolume!=null?this.jsxvolume:this.prototype.jsxvolume;this.hr().dG(Hb,P);}return this;};e.play=function(){var Mc=this.getRendered();if(Mc!=null)this.hr().tu(Mc);};e.pause=function(){var H=this.getRendered();if(H!=null)this.hr().gf(H);};e.rewind=function(){var O=this.getRendered();if(O!=null)this.hr().dr(O);};e.getLength=function(){var db=this.getRendered();return db!=null?this.hr().Be(db):Number.NaN;};e.getPosition=function(){var dc=this.getRendered();return dc!=null?this.hr().Xk(dc):Number.NaN;};e.setPosition=function(c){var tc=this.getRendered();if(tc!=null)this.hr().bq(tc,c);};e.getPluginVersion=function(){var hb=this.getRendered();if(hb!=null){try{return this.hr()._z(hb);}catch(Kc){}}return this.hr().toString();};e.hr=function(){if(this._jsxAj!=null)return this._jsxAj;var mc=this.getRendered();if(mc!=null){for(var Rb=0;Rb<p.Rg.length;Rb++){var w=p.Rg[Rb];if(w.AF(mc)){this._jsxAj=w;break;}}return this._jsxAj;}else{return p.of;}};e.paint=function(){this.applyDynamicProperties();var Z=this.Tz();return "<embed id=\""+this.getId()+"\" name=\""+this.getId()+"\" class=\"jsx30sound\" src=\""+this.getUriResolver().resolveURI(this.getURL())+"\" enablejavascript=\"true\" autostart=\"false\" "+this.renderAttributes()+" volume=\""+Z+"\" prefetch=\"true\" unselectable=\"on\"/>";};e.onDestroy=function(h){this.jsxsuper(h);this.doEvent(jsx3.gui.Interactive.DESTROY,{objPARENT:h});};});
jsx3.require("jsx3.gui.Block");jsx3.Class.defineClass("jsx3.gui.Window",jsx3.app.Model,null,function(a,n){var Y=jsx3.Exception;var cb=jsx3.util.Logger;var Rb=cb.getLogger(a.jsxclass.getName());a.xm=new jsx3.net.URI("jsx3.gui.window.html");a.hs=new jsx3.net.URI("jsx3.gui.window.xhtml");if(jsx3.CLASS_LOADER.IE){a.Is="screenLeft";a.Hv="screenTop";}else{a.Is="screenX";a.Hv="screenY";}a.DID_OPEN="didOpen";a.WILL_CLOSE="willClose";a.DID_FOCUS="didFocus";a.DID_RESIZE="didResize";a.PARENT_DID_CLOSE="parentDidClose";n.jsxwidth=400;n.jsxheight=300;n.jsxresizable=jsx3.Boolean.FALSE;n.jsxscrollable=jsx3.Boolean.FALSE;n.jsxdependent=jsx3.Boolean.TRUE;n.jsxtitle="";n._jsxwindow=null;n._jsxXc=null;n.init=function(p){this.jsxsuper(p);};n.open=function(){if(this._jsxwindow!=null&&!this._jsxwindow.closed){throw new Y("Window "+this+" already open.");}else{var jc=jsx3.util.strEndsWith(jsx3.app.Browser.getLocation().getPath().toLowerCase(),".xhtml")?a.hs:a.xm;var J=window.open(jc.toString(),this.getId().replace(/\./g,""),"directories=no,location=no,menubar=no,status=yes,personalbar=no,titlebar=yes,toolbar=no,width="+this.getWidth()+","+"height="+this.getHeight()+","+"resizable="+(this.isResizable()?"yes":"no")+","+"scrollbars="+(this.isScrollable()?"yes":"no"));if(J!=null){J["_jsxwindow"]=this;this._jsxwindow=J;this._jsxXc=window;return true;}else{return false;}}};n.close=function(){if(this._jsxwindow!=null&&!this._jsxwindow.closed){this._jsxwindow.close();return true;}else{throw new Y("Window "+this+" not open.");}};n.focus=function(){if(this._jsxwindow!=null&&!this._jsxwindow.closed){this._jsxwindow.focus();}else{throw new Y("Window "+this+" not open.");}};n.isOpen=function(){return this._jsxwindow!=null&&!this._jsxwindow.closed;};n.isParentOpen=function(){return this._jsxXc!=null&&!this._jsxXc.closed;};n.moveTo=function(c,g){if(this._jsxwindow!=null&&!this._jsxwindow.closed){if(this._jsxXc!=null&&!this._jsxXc.closed)this._jsxwindow.moveBy(c-this._jsxwindow[a.Is]+this._jsxXc[a.Is],g-this._jsxwindow[a.Hv]+this._jsxXc[a.Hv]);else this._jsxwindow.moveBy(c-this._jsxwindow[a.Is],g-this._jsxwindow[a.Hv]);}else{throw new Y("Window "+this+" not open.");}};n.constrainToScreen=function(){if(this._jsxwindow!=null&&!this._jsxwindow.closed){var Gc=this._jsxwindow;if(Gc[a.Is]<0||Gc[a.Is]>window.screen.width||Gc[a.Hv]<0||Gc[a.Hv]>window.screen.height)Gc.moveTo(0,0);}};n.getOffsetLeft=function(){if(this._jsxwindow!=null&&!this._jsxwindow.closed){if(this._jsxXc!=null&&!this._jsxXc.closed)return this._jsxwindow[a.Is]-this._jsxXc[a.Is];else return this._jsxwindow[a.Is];}else{throw new Y("Window "+this+" not open.");}};n.getOffsetTop=function(){if(this._jsxwindow!=null&&!this._jsxwindow.closed){if(this._jsxXc!=null&&!this._jsxXc.closed)return this._jsxwindow[a.Hv]-this._jsxXc[a.Hv];else return this._jsxwindow[a.Hv];}else{throw new Y("Window "+this+" not open.");}};n.onLoad=function(s){if(Rb.isLoggable(cb.DEBUG))Rb.debug("onLoad "+this.getName());var Z=s.document;var I=s.opener;var V=Z.getElementsByTagName("body")[0];var tc=Z.getElementsByTagName("head")[0];var Kc=this.getServer().getRootDocument();var pb=Kc.getElementsByTagName("link");for(var y=0;y<pb.length;y++){var zb=pb[y];if(zb.rel=="stylesheet"){var Yb=zb.getAttribute("href");if(Rb.isLoggable(cb.TRACE))Rb.trace("appending stylesheet "+Yb+" to window "+this.getName());var tb=Z.createElement("link");tb.setAttribute("id",zb.getAttribute("id"));tb.setAttribute("href",Yb);tb.setAttribute("rel",zb.getAttribute("rel"));tb.setAttribute("type",zb.getAttribute("type"));tc.appendChild(tb);}}V.innerHTML=this.getRootBlock().paint();s["jsx3"]=I.jsx3;this._jsxwindow=s;this._jsxXc=I;this.setTitle(this.getTitle());this.publish({subject:a.DID_OPEN});};n.onFocus=function(){if(Rb.isLoggable(cb.DEBUG))Rb.debug("onFocus "+this.getName());this.publish({subject:a.DID_FOCUS});};n.onBeforeUnload=function(){if(Rb.isLoggable(cb.DEBUG))Rb.debug("onBeforeUnload "+this.getName());if(this._jsxwindow!=null){jsx3.gui.Event._deregisterWindow(this._jsxwindow);for(var Mc in this._jsxwindow){try{this._jsxwindow[Mc]=null;}catch(Kc){}}}if(this._jsxXc!=null&&!this._jsxXc.closed)this._jsxXc.focus();this._jsxwindow=null;this._jsxXc=null;this.publish({subject:a.WILL_CLOSE});};n.onResize=function(){if(Rb.isLoggable(cb.TRACE))Rb.trace("onResize "+this.getName());this.jsxwidth=this._jsxwindow.document.body.clientWidth;this.jsxheight=this._jsxwindow.document.body.clientHeight;if(this._jsxmq!=null)this._jsxwindow.clearTimeout(this._jsxmq);var fc=this;this._jsxmq=this._jsxwindow.setTimeout(function(){fc._jsxmq=null;jsx3.gui.Painted.Queue.enableChunking(false);fc.getRootBlock().nW({parentwidth:fc.getWidth(),parentheight:fc.getHeight()},true);jsx3.gui.Painted.Queue.enableChunking(true);},250);this.publish({subject:a.DID_RESIZE});};n.onParentUnload=function(){if(Rb.isLoggable(cb.DEBUG))Rb.debug("onParentUnload");this.publish({subject:a.DID_PARENT_CLOSE});};n.getRootBlock=function(){var gc=this.getChild(0);if(gc==null){gc=new jsx3.gui.Block(this.getName()+"_JSXROOT",0,0,"100%","100%","");gc.setDynamicProperty("jsxbgcolor","@Solid Light");gc.setRelativePosition(jsx3.gui.Block.ABSOLUTE);gc.setOverflow(jsx3.gui.Block.OVERFLOWHIDDEN);gc.setIndex(0);this.setChild(gc);}return gc;};n.getWindow=function(){if(this._jsxwindow!=null&&!this._jsxwindow.closed)return this._jsxwindow;return null;};n.getParentWindow=function(){if(this._jsxXc!=null&&!this._jsxXc.closed)return this._jsxXc;return null;};n.getDocument=function(){if(this._jsxwindow!=null&&!this._jsxwindow.closed)return this._jsxwindow.document;return null;};n.IO=function(){return {parentwidth:this.getWidth(),parentheight:this.getHeight()};};n.repaint=function(){return this.getRootBlock().repaint();};n.getWidth=function(){return this.jsxwidth;};n.setWidth=function(i){if(this._jsxwindow!=null&&!this._jsxwindow.closed){this._jsxwindow.resizeBy(i-this.jsxwidth,0);}this.jsxwidth=i;};n.getHeight=function(){return this.jsxheight;};n.setHeight=function(e){if(this._jsxwindow!=null&&!this._jsxwindow.closed){this._jsxwindow.resizeBy(0,e-this.jsxheight);}this.jsxheight=e;};n.isResizable=function(){return this.jsxresizable;};n.setResizable=function(j){this.jsxresizable=jsx3.Boolean.valueOf(j);};n.isScrollable=function(){return this.jsxscrollable;};n.setScrollable=function(h){this.jsxscrollable=jsx3.Boolean.valueOf(h);};n.isDependent=function(){return this.jsxdependent;};n.setDependent=function(e){this.jsxdependent=jsx3.Boolean.valueOf(e);};n.getTitle=function(){return this.jsxtitle;};n.setTitle=function(m){this.jsxtitle=m;if(this._jsxwindow!=null&&!this._jsxwindow.closed)this._jsxwindow.document.title=m;};n.toString=function(g){return this.jsxsuper()+" "+this.getName();};});
jsx3.require("jsx3.gui.Form","jsx3.gui.Block");jsx3.Class.defineClass("jsx3.gui.ImageButton",jsx3.gui.Block,[jsx3.gui.Form],function(p,n){var Vb=jsx3.gui.Event;var Zb=jsx3.gui.Interactive;var gb=jsx3.gui.Form;p.TYPE_NORMAL=0;p.TYPE_TOGGLE=1;p.STATE_OFF=0;p.STATE_ON=1;n.jsximage=null;n.jsxoverimage=null;n.jsxdownimage=null;n.jsxonimage=null;n.jsxdisabledimage=null;n.jsxprefetch=jsx3.Boolean.TRUE;n.jsxtype=p.TYPE_NORMAL;n.jsxstate=p.STATE_OFF;n._jsxtf=null;n.init=function(g,k,f,l,i){this.jsxsuper(g,k,f,l,i);};n.getImage=function(){return this.jsximage;};n.setImage=function(m){this.jsximage=m;return this;};n.getOverImage=function(){return this.jsxoverimage;};n.setOverImage=function(r){this.jsxoverimage=r;return this;};n.getDownImage=function(){return this.jsxdownimage;};n.setDownImage=function(k){this.jsxdownimage=k;return this;};n.getOnImage=function(){return this.jsxonimage;};n.setOnImage=function(l){this.jsxonimage=l;return this;};n.getDisabledImage=function(){return this.jsxdisabledimage;};n.setDisabledImage=function(s){this.jsxdisabledimage=s;return this;};n.getState=function(){return this.jsxstate;};n.setState=function(h){this.jsxstate=h;var eb=this.getRendered();if(eb!=null)eb.src=this.go(false,false);return this;};n.getType=function(){return this.jsxtype;};n.setType=function(g){this.jsxtype=g;return this;};n.isPreFetch=function(){return this.jsxprefetch;};n.setPreFetch=function(r){this.jsxprefetch=jsx3.Boolean.valueOf(r);return this;};n.setEnabled=function(j,q){if(this._jsxtf!=null)this._jsxtf.setEnabled(j==gb.STATEENABLED);return this.jsxsupermix(j,q);};p.s5={};p.s5[Vb.CLICK]=true;p.s5[Vb.MOUSEOVER]=true;p.s5[Vb.MOUSEOUT]=true;p.s5[Vb.MOUSEDOWN]=true;p.s5[Vb.MOUSEUP]=true;p.s5[Vb.KEYDOWN]=true;n.paint=function(){this.applyDynamicProperties();var Yb=this.getEnabled()==gb.STATEENABLED;var w=this.getKeyBinding();if(w){var Mb=this;if(this._jsxtf!=null)this._jsxtf.destroy();this._jsxtf=this.doKeyBinding(function(g){Mb._doClick(g,Mb.getRendered());},w);this._jsxtf.setEnabled(Yb);}var ic=this.lM(Yb?p.s5:null,0);var vc=this.renderAttributes(null,true);var E=this.RL(true);E.setAttributes("id=\""+this.getId()+"\" label=\""+this.getName()+"\""+this.CI()+this.vH()+" class=\""+(Yb?"jsx30imagebutton":"jsx30imagebutton_disabled")+"\""+ic+vc);E.setStyles(this.I6()+this.T1()+this.MU()+this.d9()+this.UZ()+this.iN());var ec=E.XK();ec=ec!=null?" width=\""+ec+"\"":"";var sb=E.P5();sb=sb!=null?" height=\""+sb+"\"":"";var x="<img src=\""+this.go(false,false)+"\""+ec+sb+"/>";if(!this._jsxZA&&this.isPreFetch()){var ab=this.getUriResolver();var Hc=[this.getImage(),this.getOverImage(),this.getDownImage(),this.getOnImage(),this.getDisabledImage()].map(function(k){return k?ab.resolveURI(k):null;});jsx3.html.loadImages(Hc);this._jsxZA=true;}var T=E.pQ(0);return E.paint().join(T.paint().join(x));};n.T5=function(){var x=this.getRelativePosition()!=0;var u={};if(!x&&!jsx3.util.strEmpty(this.getLeft()))u.left=this.getLeft();if(!x&&!jsx3.util.strEmpty(this.getTop()))u.top=this.getTop();if(!(this.getWidth()==null||isNaN(this.getWidth())))u.width=this.getWidth();if(!(this.getHeight()==null||isNaN(this.getHeight())))u.height=this.getHeight();u.tagname="span";u.boxtype=x||u.left==null||u.top==null?"relativebox":"box";if(this.getPadding()!=null)u.padding=this.getPadding();if(x&&this.getMargin()!=null)u.margin=this.getMargin();if(this.getBorder()!=null)u.border=this.getBorder();var V=new jsx3.gui.Painted.Box(u);u={tagname:"div",boxtype:"inline",height:V.P5()};V.W8(new jsx3.gui.Painted.Box(u));return V;};n.k7=function(a,q,s){this.B_(a,q,s,1);};n.go=function(j,d){var ic=null;if(this.getEnabled()==gb.STATEENABLED){if(j)ic=this.getOverImage();else{if(d)ic=this.getDownImage();}if(this.getType()==p.TYPE_TOGGLE&&this.getState()==p.STATE_ON)ic=ic||this.getOnImage();}else{ic=this.getDisabledImage();}ic=ic||this.getImage();return ic?this.getUriResolver().resolveURI(ic):"";};n.IU=function(c,j){if(!c.leftButton()&&c.isMouseEvent())return;if(this.getType()==p.TYPE_TOGGLE){var Ob=this.getState()==p.STATE_OFF?p.STATE_ON:p.STATE_OFF;var lc=this.doEvent(Zb.TOGGLE,{objEVENT:c,intSTATE:Ob});if(lc!==false){this.setState(Ob);j.childNodes[0].childNodes[0].src=this.go(false,false);}}this.doEvent(Zb.EXECUTE,{objEVENT:c});};n.CL=function(m,s){s.childNodes[0].childNodes[0].src=this.go(true,false);};n.u2=function(j,c){c.childNodes[0].childNodes[0].src=this.go(false,false);};n.mL=function(m,s){if(m.leftButton())s.childNodes[0].childNodes[0].src=this.go(false,true);};n._4=function(j,c){if(j.rightButton())this.jsxsupermix(j,c);else{if(j.leftButton())c.childNodes[0].childNodes[0].src=this.go(false,false);}};n.DY=function(i,d){if(i.enterKey()||i.spaceKey()){this.IU(i,d);i.cancelAll();}};n.doValidate=function(){var Z=null;if(this.getType()==p.NORMAL)Z=gb.STATEVALID;else Z=this.getState()==p.STATE_ON||this.getRequired()==gb.OPTIONAL?gb.STATEVALID:gb.STATEINVALID;this.setValidationState(Z);return Z;};n.emGetType=function(){return jsx3.gui.Matrix.EditMask.FORMAT;};n.emInit=function(c){this.jsxsupermix(c);};n.emSetValue=function(b){};n.emGetValue=function(){return null;};n.emBeginEdit=function(h,g,l,m,q,a,e){var G=e.childNodes[0].childNodes[0];if(G){this.jsxsupermix(h,g,l,m,q,a,e);G.focus();}else{return false;}};n.emPaintTemplate=function(){this.setEnabled(gb.STATEDISABLED);var Tb=this.paint();this.setEnabled(gb.STATEENABLED);var Pb=this.paint();return this.PS(Pb,Tb);};});
